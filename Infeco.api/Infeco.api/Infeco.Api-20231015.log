2023-10-15 17:46:19.461 +02:00  DBG  Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-10-15 17:46:19.743 +02:00  DBG  An 'IServiceProvider' was created for internal use by Entity Framework.
2023-10-15 17:46:21.118 +02:00  DBG  Entity Framework Core 7.0.11 initialized 'InfoEcoDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None
2023-10-15 17:46:21.152 +02:00  DBG  Creating DbConnection.
2023-10-15 17:46:21.243 +02:00  DBG  Created DbConnection. (89ms).
2023-10-15 17:46:21.250 +02:00  DBG  Migrating using database 'pmjmvgha' on server ''.
2023-10-15 17:46:21.281 +02:00  DBG  Opening connection to database 'pmjmvgha' on server ''.
2023-10-15 17:46:21.995 +02:00  DBG  Opened connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 17:46:21.998 +02:00  DBG  Closing connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 17:46:22.014 +02:00  DBG  Closed connection to database 'pmjmvgha' on server '' (11ms).
2023-10-15 17:46:22.023 +02:00  DBG  Creating DbCommand for 'ExecuteScalar'.
2023-10-15 17:46:22.030 +02:00  DBG  Created DbCommand for 'ExecuteScalar' (5ms).
2023-10-15 17:46:22.032 +02:00  DBG  Initialized DbCommand for 'ExecuteScalar' (11ms).
2023-10-15 17:46:22.032 +02:00  DBG  Opening connection to database 'pmjmvgha' on server ''.
2023-10-15 17:46:22.398 +02:00  DBG  Opened connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 17:46:22.406 +02:00  DBG  Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-10-15 17:46:22.496 +02:00  INF  Executed DbCommand (92ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-10-15 17:46:22.497 +02:00  DBG  Closing connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 17:46:22.499 +02:00  DBG  Closed connection to database 'pmjmvgha' on server '' (1ms).
2023-10-15 17:46:22.502 +02:00  DBG  Opening connection to database 'pmjmvgha' on server ''.
2023-10-15 17:46:22.789 +02:00  DBG  Opened connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 17:46:22.789 +02:00  DBG  Closing connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 17:46:22.790 +02:00  DBG  Closed connection to database 'pmjmvgha' on server '' (0ms).
2023-10-15 17:46:22.791 +02:00  DBG  Creating DbCommand for 'ExecuteScalar'.
2023-10-15 17:46:22.791 +02:00  DBG  Created DbCommand for 'ExecuteScalar' (0ms).
2023-10-15 17:46:22.791 +02:00  DBG  Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-10-15 17:46:22.791 +02:00  DBG  Opening connection to database 'pmjmvgha' on server ''.
2023-10-15 17:46:22.792 +02:00  DBG  Opened connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 17:46:22.792 +02:00  DBG  Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-10-15 17:46:22.837 +02:00  INF  Executed DbCommand (45ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-10-15 17:46:22.837 +02:00  DBG  Closing connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 17:46:22.837 +02:00  DBG  Closed connection to database 'pmjmvgha' on server '' (0ms).
2023-10-15 17:46:22.856 +02:00  DBG  Creating DbCommand for 'ExecuteReader'.
2023-10-15 17:46:22.856 +02:00  DBG  Created DbCommand for 'ExecuteReader' (0ms).
2023-10-15 17:46:22.856 +02:00  DBG  Initialized DbCommand for 'ExecuteReader' (0ms).
2023-10-15 17:46:22.856 +02:00  DBG  Opening connection to database 'pmjmvgha' on server ''.
2023-10-15 17:46:22.856 +02:00  DBG  Opened connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 17:46:22.857 +02:00  DBG  Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-10-15 17:46:22.908 +02:00  INF  Executed DbCommand (51ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-10-15 17:46:22.912 +02:00  DBG  Closing data reader to 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 17:46:22.914 +02:00  DBG  A data reader for 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432' is being disposed after spending 5ms reading results.
2023-10-15 17:46:22.915 +02:00  DBG  Closing connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 17:46:22.915 +02:00  DBG  Closed connection to database 'pmjmvgha' on server '' (0ms).
2023-10-15 17:46:22.926 +02:00  INF  No migrations were applied. The database is already up to date.
2023-10-15 17:46:22.928 +02:00  DBG  'InfoEcoDbContext' disposed.
2023-10-15 17:46:22.929 +02:00  DBG  Disposing connection to database 'pmjmvgha' on server ''.
2023-10-15 17:46:22.930 +02:00  DBG  Disposed connection to database 'pmjmvgha' on server '' (0ms).
2023-10-15 17:46:22.932 +02:00  DBG  Hosting starting
2023-10-15 17:46:22.970 +02:00  INF  User profile is available. Using 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-10-15 17:46:22.975 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-2ce4c23f-757b-4029-95d3-9c9820e6de80.xml'.
2023-10-15 17:46:22.982 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-6921759b-a9f9-48ea-a379-13505875271d.xml'.
2023-10-15 17:46:22.983 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-7c4081c7-f341-4ce9-ad03-d3ea3cf1c21f.xml'.
2023-10-15 17:46:22.984 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-a038200a-44f7-48da-9d2b-5646ef68d51f.xml'.
2023-10-15 17:46:22.985 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-a642139e-629a-42ab-b89a-38ed4778f2e0.xml'.
2023-10-15 17:46:22.985 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-b1a02c3b-a417-45ff-ac5c-986fca4cdd22.xml'.
2023-10-15 17:46:22.986 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-b5a22f60-a6fe-488b-8048-b8d1034bef7d.xml'.
2023-10-15 17:46:22.986 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-b8996f88-e69f-41d1-b4d3-e7b15b37a5e2.xml'.
2023-10-15 17:46:22.991 +02:00  DBG  Found key {2ce4c23f-757b-4029-95d3-9c9820e6de80}.
2023-10-15 17:46:22.996 +02:00  DBG  Found key {6921759b-a9f9-48ea-a379-13505875271d}.
2023-10-15 17:46:22.997 +02:00  DBG  Found key {7c4081c7-f341-4ce9-ad03-d3ea3cf1c21f}.
2023-10-15 17:46:22.997 +02:00  DBG  Found key {a038200a-44f7-48da-9d2b-5646ef68d51f}.
2023-10-15 17:46:22.997 +02:00  DBG  Found key {a642139e-629a-42ab-b89a-38ed4778f2e0}.
2023-10-15 17:46:22.997 +02:00  DBG  Found key {b1a02c3b-a417-45ff-ac5c-986fca4cdd22}.
2023-10-15 17:46:22.997 +02:00  DBG  Found key {b5a22f60-a6fe-488b-8048-b8d1034bef7d}.
2023-10-15 17:46:22.997 +02:00  DBG  Found key {b8996f88-e69f-41d1-b4d3-e7b15b37a5e2}.
2023-10-15 17:46:23.005 +02:00  DBG  Considering key {6921759b-a9f9-48ea-a379-13505875271d} with expiration date 2023-11-22 12:55:42Z as default key.
2023-10-15 17:46:23.008 +02:00  DBG  Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-10-15 17:46:23.009 +02:00  DBG  Decrypting secret element using Windows DPAPI.
2023-10-15 17:46:23.012 +02:00  DBG  Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-10-15 17:46:23.013 +02:00  DBG  Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-10-15 17:46:23.014 +02:00  DBG  Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-10-15 17:46:23.016 +02:00  DBG  Using key {6921759b-a9f9-48ea-a379-13505875271d} as the default key.
2023-10-15 17:46:23.017 +02:00  DBG  Key ring with default key {6921759b-a9f9-48ea-a379-13505875271d} was loaded during application startup.
2023-10-15 17:46:23.114 +02:00  DBG  Loaded hosting startup assembly Infeco.Api
2023-10-15 17:46:23.115 +02:00  DBG  Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-10-15 17:46:23.115 +02:00  DBG  Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-10-15 17:46:23.115 +02:00  INF  Application started. Press Ctrl+C to shut down.
2023-10-15 17:46:23.115 +02:00  INF  Hosting environment: Development
2023-10-15 17:46:23.115 +02:00  INF  Content root path: C:\Users\fdepret\source\repos\Infeco.api\Infeco.api
2023-10-15 17:46:23.115 +02:00  DBG  Hosting started
2023-10-15 17:46:23.171 +02:00  INF  Request starting HTTP/2 GET https://localhost:44375/index.html - -
2023-10-15 17:46:23.210 +02:00  DBG  Wildcard detected, all requests with hosts will be allowed.
2023-10-15 17:46:23.266 +02:00  DBG  No candidates found for the request path '/index.html'
2023-10-15 17:46:23.267 +02:00  DBG  Request did not match any endpoints
2023-10-15 17:46:23.332 +02:00  DBG  AuthenticationScheme: Bearer was not authenticated.
2023-10-15 17:46:23.487 +02:00  DBG  Response markup is scheduled to include browser refresh script injection.
2023-10-15 17:46:25.647 +02:00  DBG  Response markup was updated to include browser refresh script injection.
2023-10-15 17:46:25.664 +02:00  DBG  Connection ID "18302628925899014147" disconnecting.
2023-10-15 17:46:25.664 +02:00  INF  Request starting HTTP/2 GET https://localhost:44375/_framework/aspnetcore-browser-refresh.js - -
2023-10-15 17:46:25.667 +02:00  INF  Request finished HTTP/2 GET https://localhost:44375/index.html - - - 200 - text/html;charset=utf-8 2499.9039ms
2023-10-15 17:46:25.678 +02:00  DBG  Connection ID "18302628913014112258" disconnecting.
2023-10-15 17:46:25.678 +02:00  INF  Request finished HTTP/2 GET https://localhost:44375/_framework/aspnetcore-browser-refresh.js - - - 200 12352 application/javascript;+charset=utf-8 7.5413ms
2023-10-15 17:46:25.743 +02:00  INF  Request starting HTTP/2 GET https://localhost:44375/swagger/v1/swagger.json - -
2023-10-15 17:46:25.745 +02:00  DBG  No candidates found for the request path '/swagger/v1/swagger.json'
2023-10-15 17:46:25.745 +02:00  DBG  Request did not match any endpoints
2023-10-15 17:46:25.747 +02:00  DBG  AuthenticationScheme: Bearer was not authenticated.
2023-10-15 17:46:25.963 +02:00  DBG  Connection ID "18302628913014112260" disconnecting.
2023-10-15 17:46:25.963 +02:00  INF  Request finished HTTP/2 GET https://localhost:44375/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 219.3093ms
2023-10-15 18:03:28.711 +02:00  DBG  Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-10-15 18:03:28.946 +02:00  DBG  An 'IServiceProvider' was created for internal use by Entity Framework.
2023-10-15 18:03:29.690 +02:00  DBG  The property 'AppartementEntite.TypeAppartementId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-10-15 18:03:29.930 +02:00  DBG  Entity Framework Core 7.0.11 initialized 'InfoEcoDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None
2023-10-15 18:03:29.940 +02:00  DBG  Creating DbConnection.
2023-10-15 18:03:29.986 +02:00  DBG  Created DbConnection. (43ms).
2023-10-15 18:03:29.986 +02:00  DBG  Migrating using database 'pmjmvgha' on server ''.
2023-10-15 18:03:30.002 +02:00  DBG  Opening connection to database 'pmjmvgha' on server ''.
2023-10-15 18:03:30.635 +02:00  DBG  Opened connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:03:30.636 +02:00  DBG  Closing connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:03:30.646 +02:00  DBG  Closed connection to database 'pmjmvgha' on server '' (6ms).
2023-10-15 18:03:30.651 +02:00  DBG  Creating DbCommand for 'ExecuteScalar'.
2023-10-15 18:03:30.655 +02:00  DBG  Created DbCommand for 'ExecuteScalar' (2ms).
2023-10-15 18:03:30.656 +02:00  DBG  Initialized DbCommand for 'ExecuteScalar' (6ms).
2023-10-15 18:03:30.657 +02:00  DBG  Opening connection to database 'pmjmvgha' on server ''.
2023-10-15 18:03:31.004 +02:00  DBG  Opened connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:03:31.012 +02:00  DBG  Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-10-15 18:03:31.086 +02:00  INF  Executed DbCommand (74ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-10-15 18:03:31.086 +02:00  DBG  Closing connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:03:31.088 +02:00  DBG  Closed connection to database 'pmjmvgha' on server '' (1ms).
2023-10-15 18:03:31.089 +02:00  DBG  Opening connection to database 'pmjmvgha' on server ''.
2023-10-15 18:03:31.366 +02:00  DBG  Opened connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:03:31.366 +02:00  DBG  Closing connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:03:31.367 +02:00  DBG  Closed connection to database 'pmjmvgha' on server '' (0ms).
2023-10-15 18:03:31.368 +02:00  DBG  Creating DbCommand for 'ExecuteScalar'.
2023-10-15 18:03:31.368 +02:00  DBG  Created DbCommand for 'ExecuteScalar' (0ms).
2023-10-15 18:03:31.368 +02:00  DBG  Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-10-15 18:03:31.368 +02:00  DBG  Opening connection to database 'pmjmvgha' on server ''.
2023-10-15 18:03:31.368 +02:00  DBG  Opened connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:03:31.368 +02:00  DBG  Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-10-15 18:03:31.418 +02:00  INF  Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-10-15 18:03:31.418 +02:00  DBG  Closing connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:03:31.418 +02:00  DBG  Closed connection to database 'pmjmvgha' on server '' (0ms).
2023-10-15 18:03:31.434 +02:00  DBG  Creating DbCommand for 'ExecuteReader'.
2023-10-15 18:03:31.434 +02:00  DBG  Created DbCommand for 'ExecuteReader' (0ms).
2023-10-15 18:03:31.434 +02:00  DBG  Initialized DbCommand for 'ExecuteReader' (0ms).
2023-10-15 18:03:31.434 +02:00  DBG  Opening connection to database 'pmjmvgha' on server ''.
2023-10-15 18:03:31.434 +02:00  DBG  Opened connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:03:31.434 +02:00  DBG  Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-10-15 18:03:31.481 +02:00  INF  Executed DbCommand (47ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-10-15 18:03:31.486 +02:00  DBG  Closing data reader to 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:03:31.488 +02:00  DBG  A data reader for 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432' is being disposed after spending 5ms reading results.
2023-10-15 18:03:31.489 +02:00  DBG  Closing connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:03:31.489 +02:00  DBG  Closed connection to database 'pmjmvgha' on server '' (0ms).
2023-10-15 18:03:31.500 +02:00  INF  Applying migration '20231015155213_ajout_type_appartement'.
2023-10-15 18:09:32.154 +02:00  DBG  Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-10-15 18:09:32.397 +02:00  DBG  An 'IServiceProvider' was created for internal use by Entity Framework.
2023-10-15 18:09:33.291 +02:00  DBG  Entity Framework Core 7.0.11 initialized 'InfoEcoDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None
2023-10-15 18:09:33.300 +02:00  DBG  Creating DbConnection.
2023-10-15 18:09:33.343 +02:00  DBG  Created DbConnection. (41ms).
2023-10-15 18:09:33.347 +02:00  DBG  Migrating using database 'pmjmvgha' on server ''.
2023-10-15 18:09:33.363 +02:00  DBG  Opening connection to database 'pmjmvgha' on server ''.
2023-10-15 18:09:33.867 +02:00  DBG  Opened connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:09:33.869 +02:00  DBG  Closing connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:09:33.877 +02:00  DBG  Closed connection to database 'pmjmvgha' on server '' (5ms).
2023-10-15 18:09:33.882 +02:00  DBG  Creating DbCommand for 'ExecuteScalar'.
2023-10-15 18:09:33.887 +02:00  DBG  Created DbCommand for 'ExecuteScalar' (2ms).
2023-10-15 18:09:33.888 +02:00  DBG  Initialized DbCommand for 'ExecuteScalar' (6ms).
2023-10-15 18:09:33.888 +02:00  DBG  Opening connection to database 'pmjmvgha' on server ''.
2023-10-15 18:09:34.264 +02:00  DBG  Opened connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:09:34.306 +02:00  DBG  Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-10-15 18:09:34.381 +02:00  INF  Executed DbCommand (75ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-10-15 18:09:34.382 +02:00  DBG  Closing connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:09:34.383 +02:00  DBG  Closed connection to database 'pmjmvgha' on server '' (1ms).
2023-10-15 18:09:34.384 +02:00  DBG  Opening connection to database 'pmjmvgha' on server ''.
2023-10-15 18:09:34.664 +02:00  DBG  Opened connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:09:34.664 +02:00  DBG  Closing connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:09:34.664 +02:00  DBG  Closed connection to database 'pmjmvgha' on server '' (0ms).
2023-10-15 18:09:34.665 +02:00  DBG  Creating DbCommand for 'ExecuteScalar'.
2023-10-15 18:09:34.665 +02:00  DBG  Created DbCommand for 'ExecuteScalar' (0ms).
2023-10-15 18:09:34.665 +02:00  DBG  Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-10-15 18:09:34.665 +02:00  DBG  Opening connection to database 'pmjmvgha' on server ''.
2023-10-15 18:09:34.665 +02:00  DBG  Opened connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:09:34.665 +02:00  DBG  Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-10-15 18:09:34.712 +02:00  INF  Executed DbCommand (47ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-10-15 18:09:34.712 +02:00  DBG  Closing connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:09:34.712 +02:00  DBG  Closed connection to database 'pmjmvgha' on server '' (0ms).
2023-10-15 18:09:34.730 +02:00  DBG  Creating DbCommand for 'ExecuteReader'.
2023-10-15 18:09:34.730 +02:00  DBG  Created DbCommand for 'ExecuteReader' (0ms).
2023-10-15 18:09:34.730 +02:00  DBG  Initialized DbCommand for 'ExecuteReader' (0ms).
2023-10-15 18:09:34.730 +02:00  DBG  Opening connection to database 'pmjmvgha' on server ''.
2023-10-15 18:09:34.730 +02:00  DBG  Opened connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:09:34.731 +02:00  DBG  Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-10-15 18:09:34.781 +02:00  INF  Executed DbCommand (51ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-10-15 18:09:34.785 +02:00  DBG  Closing data reader to 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:09:34.787 +02:00  DBG  A data reader for 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432' is being disposed after spending 4ms reading results.
2023-10-15 18:09:34.787 +02:00  DBG  Closing connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:09:34.787 +02:00  DBG  Closed connection to database 'pmjmvgha' on server '' (0ms).
2023-10-15 18:09:34.798 +02:00  INF  Applying migration '20231015160749_ajout_type_appartement'.
2023-10-15 18:09:34.862 +02:00  DBG  Opening connection to database 'pmjmvgha' on server ''.
2023-10-15 18:09:34.862 +02:00  DBG  Opened connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:09:34.864 +02:00  DBG  Beginning transaction with isolation level 'Unspecified'.
2023-10-15 18:09:34.868 +02:00  DBG  Began transaction with isolation level 'ReadCommitted'.
2023-10-15 18:09:34.869 +02:00  DBG  Creating DbCommand for 'ExecuteNonQuery'.
2023-10-15 18:09:34.869 +02:00  DBG  Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-10-15 18:09:34.870 +02:00  DBG  Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-10-15 18:09:34.870 +02:00  DBG  Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "TypeAppartement" (
    "Id" serial NOT NULL,
    "Nom" character varying(255) NOT NULL,
    CONSTRAINT "PK_TypeAppartement" PRIMARY KEY ("Id")
);
2023-10-15 18:09:34.957 +02:00  INF  Executed DbCommand (87ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "TypeAppartement" (
    "Id" serial NOT NULL,
    "Nom" character varying(255) NOT NULL,
    CONSTRAINT "PK_TypeAppartement" PRIMARY KEY ("Id")
);
2023-10-15 18:09:34.957 +02:00  DBG  Creating DbCommand for 'ExecuteNonQuery'.
2023-10-15 18:09:34.957 +02:00  DBG  Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-10-15 18:09:34.958 +02:00  DBG  Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-10-15 18:09:34.958 +02:00  DBG  Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Appartement" ADD "NombreDeMetre2" double precision NOT NULL DEFAULT 0.0;
2023-10-15 18:09:35.006 +02:00  INF  Executed DbCommand (48ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Appartement" ADD "NombreDeMetre2" double precision NOT NULL DEFAULT 0.0;
2023-10-15 18:09:35.006 +02:00  DBG  Creating DbCommand for 'ExecuteNonQuery'.
2023-10-15 18:09:35.007 +02:00  DBG  Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-10-15 18:09:35.007 +02:00  DBG  Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-10-15 18:09:35.007 +02:00  DBG  Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Appartement" ADD "TypeAppartementId" integer NULL;
2023-10-15 18:09:35.053 +02:00  INF  Executed DbCommand (46ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Appartement" ADD "TypeAppartementId" integer NULL;
2023-10-15 18:09:35.053 +02:00  DBG  Creating DbCommand for 'ExecuteNonQuery'.
2023-10-15 18:09:35.053 +02:00  DBG  Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-10-15 18:09:35.053 +02:00  DBG  Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-10-15 18:09:35.053 +02:00  DBG  Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Appartement_TypeAppartementId" ON "Appartement" ("TypeAppartementId");
2023-10-15 18:09:35.106 +02:00  INF  Executed DbCommand (52ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Appartement_TypeAppartementId" ON "Appartement" ("TypeAppartementId");
2023-10-15 18:09:35.106 +02:00  DBG  Creating DbCommand for 'ExecuteNonQuery'.
2023-10-15 18:09:35.106 +02:00  DBG  Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-10-15 18:09:35.106 +02:00  DBG  Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-10-15 18:09:35.106 +02:00  DBG  Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Appartement" ADD CONSTRAINT "FK_Appartement_TypeAppartement_TypeAppartementId" FOREIGN KEY ("TypeAppartementId") REFERENCES "TypeAppartement" ("Id") ON DELETE CASCADE;
2023-10-15 18:09:35.160 +02:00  INF  Executed DbCommand (54ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Appartement" ADD CONSTRAINT "FK_Appartement_TypeAppartement_TypeAppartementId" FOREIGN KEY ("TypeAppartementId") REFERENCES "TypeAppartement" ("Id") ON DELETE CASCADE;
2023-10-15 18:09:35.160 +02:00  DBG  Creating DbCommand for 'ExecuteNonQuery'.
2023-10-15 18:09:35.160 +02:00  DBG  Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-10-15 18:09:35.160 +02:00  DBG  Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-10-15 18:09:35.160 +02:00  DBG  Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TypeAppartement" ("Id", "Nom")
VALUES (1, 'Studio');
INSERT INTO "TypeAppartement" ("Id", "Nom")
VALUES (2, 'T1');
INSERT INTO "TypeAppartement" ("Id", "Nom")
VALUES (3, 'T1Bis');
INSERT INTO "TypeAppartement" ("Id", "Nom")
VALUES (4, 'T2');
INSERT INTO "TypeAppartement" ("Id", "Nom")
VALUES (5, 'T2Bis');
INSERT INTO "TypeAppartement" ("Id", "Nom")
VALUES (6, 'T3');
INSERT INTO "TypeAppartement" ("Id", "Nom")
VALUES (7, 'T3 Bis');
INSERT INTO "TypeAppartement" ("Id", "Nom")
VALUES (8, 'T3 Duplex');
INSERT INTO "TypeAppartement" ("Id", "Nom")
VALUES (9, 'T4');
INSERT INTO "TypeAppartement" ("Id", "Nom")
VALUES (10, 'T4 Duplex');
INSERT INTO "TypeAppartement" ("Id", "Nom")
VALUES (11, 'T5');
INSERT INTO "TypeAppartement" ("Id", "Nom")
VALUES (12, 'T5 Duplex');
INSERT INTO "TypeAppartement" ("Id", "Nom")
VALUES (13, 'Villa');
2023-10-15 18:09:35.214 +02:00  INF  Executed DbCommand (54ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "TypeAppartement" ("Id", "Nom")
VALUES (1, 'Studio');
INSERT INTO "TypeAppartement" ("Id", "Nom")
VALUES (2, 'T1');
INSERT INTO "TypeAppartement" ("Id", "Nom")
VALUES (3, 'T1Bis');
INSERT INTO "TypeAppartement" ("Id", "Nom")
VALUES (4, 'T2');
INSERT INTO "TypeAppartement" ("Id", "Nom")
VALUES (5, 'T2Bis');
INSERT INTO "TypeAppartement" ("Id", "Nom")
VALUES (6, 'T3');
INSERT INTO "TypeAppartement" ("Id", "Nom")
VALUES (7, 'T3 Bis');
INSERT INTO "TypeAppartement" ("Id", "Nom")
VALUES (8, 'T3 Duplex');
INSERT INTO "TypeAppartement" ("Id", "Nom")
VALUES (9, 'T4');
INSERT INTO "TypeAppartement" ("Id", "Nom")
VALUES (10, 'T4 Duplex');
INSERT INTO "TypeAppartement" ("Id", "Nom")
VALUES (11, 'T5');
INSERT INTO "TypeAppartement" ("Id", "Nom")
VALUES (12, 'T5 Duplex');
INSERT INTO "TypeAppartement" ("Id", "Nom")
VALUES (13, 'Villa');
2023-10-15 18:09:35.214 +02:00  DBG  Creating DbCommand for 'ExecuteNonQuery'.
2023-10-15 18:09:35.214 +02:00  DBG  Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-10-15 18:09:35.214 +02:00  DBG  Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-10-15 18:09:35.214 +02:00  DBG  Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT setval(
    pg_get_serial_sequence('"TypeAppartement"', 'Id'),
    GREATEST(
        (SELECT MAX("Id") FROM "TypeAppartement") + 1,
        nextval(pg_get_serial_sequence('"TypeAppartement"', 'Id'))),
    false);
2023-10-15 18:09:35.265 +02:00  INF  Executed DbCommand (51ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT setval(
    pg_get_serial_sequence('"TypeAppartement"', 'Id'),
    GREATEST(
        (SELECT MAX("Id") FROM "TypeAppartement") + 1,
        nextval(pg_get_serial_sequence('"TypeAppartement"', 'Id'))),
    false);
2023-10-15 18:09:35.265 +02:00  DBG  Creating DbCommand for 'ExecuteNonQuery'.
2023-10-15 18:09:35.266 +02:00  DBG  Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-10-15 18:09:35.266 +02:00  DBG  Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-10-15 18:09:35.266 +02:00  DBG  Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20231015160749_ajout_type_appartement', '7.0.11');
2023-10-15 18:09:35.313 +02:00  INF  Executed DbCommand (47ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20231015160749_ajout_type_appartement', '7.0.11');
2023-10-15 18:09:35.314 +02:00  DBG  Committing transaction.
2023-10-15 18:09:35.365 +02:00  DBG  Committed transaction.
2023-10-15 18:09:35.366 +02:00  DBG  Disposing transaction.
2023-10-15 18:09:35.366 +02:00  DBG  Closing connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:09:35.366 +02:00  DBG  Closed connection to database 'pmjmvgha' on server '' (0ms).
2023-10-15 18:09:35.368 +02:00  DBG  'InfoEcoDbContext' disposed.
2023-10-15 18:09:35.369 +02:00  DBG  Disposing connection to database 'pmjmvgha' on server ''.
2023-10-15 18:09:35.370 +02:00  DBG  Disposed connection to database 'pmjmvgha' on server '' (0ms).
2023-10-15 18:09:35.373 +02:00  DBG  Hosting starting
2023-10-15 18:09:35.403 +02:00  INF  User profile is available. Using 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-10-15 18:09:35.408 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-2ce4c23f-757b-4029-95d3-9c9820e6de80.xml'.
2023-10-15 18:09:35.416 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-6921759b-a9f9-48ea-a379-13505875271d.xml'.
2023-10-15 18:09:35.416 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-7c4081c7-f341-4ce9-ad03-d3ea3cf1c21f.xml'.
2023-10-15 18:09:35.417 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-a038200a-44f7-48da-9d2b-5646ef68d51f.xml'.
2023-10-15 18:09:35.417 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-a642139e-629a-42ab-b89a-38ed4778f2e0.xml'.
2023-10-15 18:09:35.417 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-b1a02c3b-a417-45ff-ac5c-986fca4cdd22.xml'.
2023-10-15 18:09:35.417 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-b5a22f60-a6fe-488b-8048-b8d1034bef7d.xml'.
2023-10-15 18:09:35.417 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-b8996f88-e69f-41d1-b4d3-e7b15b37a5e2.xml'.
2023-10-15 18:09:35.422 +02:00  DBG  Found key {2ce4c23f-757b-4029-95d3-9c9820e6de80}.
2023-10-15 18:09:35.426 +02:00  DBG  Found key {6921759b-a9f9-48ea-a379-13505875271d}.
2023-10-15 18:09:35.427 +02:00  DBG  Found key {7c4081c7-f341-4ce9-ad03-d3ea3cf1c21f}.
2023-10-15 18:09:35.427 +02:00  DBG  Found key {a038200a-44f7-48da-9d2b-5646ef68d51f}.
2023-10-15 18:09:35.427 +02:00  DBG  Found key {a642139e-629a-42ab-b89a-38ed4778f2e0}.
2023-10-15 18:09:35.427 +02:00  DBG  Found key {b1a02c3b-a417-45ff-ac5c-986fca4cdd22}.
2023-10-15 18:09:35.427 +02:00  DBG  Found key {b5a22f60-a6fe-488b-8048-b8d1034bef7d}.
2023-10-15 18:09:35.427 +02:00  DBG  Found key {b8996f88-e69f-41d1-b4d3-e7b15b37a5e2}.
2023-10-15 18:09:35.433 +02:00  DBG  Considering key {6921759b-a9f9-48ea-a379-13505875271d} with expiration date 2023-11-22 12:55:42Z as default key.
2023-10-15 18:09:35.435 +02:00  DBG  Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-10-15 18:09:35.436 +02:00  DBG  Decrypting secret element using Windows DPAPI.
2023-10-15 18:09:35.437 +02:00  DBG  Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-10-15 18:09:35.439 +02:00  DBG  Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-10-15 18:09:35.440 +02:00  DBG  Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-10-15 18:09:35.441 +02:00  DBG  Using key {6921759b-a9f9-48ea-a379-13505875271d} as the default key.
2023-10-15 18:09:35.442 +02:00  DBG  Key ring with default key {6921759b-a9f9-48ea-a379-13505875271d} was loaded during application startup.
2023-10-15 18:09:35.513 +02:00  DBG  Loaded hosting startup assembly Infeco.Api
2023-10-15 18:09:35.518 +02:00  DBG  Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-10-15 18:09:35.518 +02:00  DBG  Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-10-15 18:09:35.519 +02:00  INF  Application started. Press Ctrl+C to shut down.
2023-10-15 18:09:35.519 +02:00  INF  Hosting environment: Development
2023-10-15 18:09:35.519 +02:00  INF  Content root path: C:\Users\fdepret\source\repos\Infeco.api\Infeco.api
2023-10-15 18:09:35.519 +02:00  DBG  Hosting started
2023-10-15 18:09:35.558 +02:00  INF  Request starting HTTP/2 GET https://localhost:44375/index.html - -
2023-10-15 18:09:35.586 +02:00  DBG  Wildcard detected, all requests with hosts will be allowed.
2023-10-15 18:09:35.625 +02:00  DBG  No candidates found for the request path '/index.html'
2023-10-15 18:09:35.626 +02:00  DBG  Request did not match any endpoints
2023-10-15 18:09:35.672 +02:00  DBG  AuthenticationScheme: Bearer was not authenticated.
2023-10-15 18:09:35.795 +02:00  DBG  Response markup is scheduled to include browser refresh script injection.
2023-10-15 18:09:37.950 +02:00  DBG  Response markup was updated to include browser refresh script injection.
2023-10-15 18:09:37.970 +02:00  DBG  Connection ID "18230571301796315137" disconnecting.
2023-10-15 18:09:37.971 +02:00  INF  Request starting HTTP/2 GET https://localhost:44375/_framework/aspnetcore-browser-refresh.js - -
2023-10-15 18:09:37.974 +02:00  INF  Request finished HTTP/2 GET https://localhost:44375/index.html - - - 200 - text/html;charset=utf-8 2416.7338ms
2023-10-15 18:09:37.992 +02:00  DBG  Connection ID "18374686528526876675" disconnecting.
2023-10-15 18:09:37.993 +02:00  INF  Request finished HTTP/2 GET https://localhost:44375/_framework/aspnetcore-browser-refresh.js - - - 200 12352 application/javascript;+charset=utf-8 10.9431ms
2023-10-15 18:09:38.074 +02:00  INF  Request starting HTTP/2 GET https://localhost:44375/swagger/v1/swagger.json - -
2023-10-15 18:09:38.076 +02:00  DBG  No candidates found for the request path '/swagger/v1/swagger.json'
2023-10-15 18:09:38.076 +02:00  DBG  Request did not match any endpoints
2023-10-15 18:09:38.079 +02:00  DBG  AuthenticationScheme: Bearer was not authenticated.
2023-10-15 18:09:38.324 +02:00  DBG  Connection ID "18302628913014112264" disconnecting.
2023-10-15 18:09:38.324 +02:00  INF  Request finished HTTP/2 GET https://localhost:44375/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 250.0128ms
2023-10-15 18:16:33.088 +02:00  DBG  Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-10-15 18:16:33.445 +02:00  DBG  An 'IServiceProvider' was created for internal use by Entity Framework.
2023-10-15 18:16:34.430 +02:00  DBG  Entity Framework Core 7.0.11 initialized 'InfoEcoDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None
2023-10-15 18:16:34.444 +02:00  DBG  Creating DbConnection.
2023-10-15 18:16:34.499 +02:00  DBG  Created DbConnection. (53ms).
2023-10-15 18:16:34.503 +02:00  DBG  Migrating using database 'pmjmvgha' on server ''.
2023-10-15 18:16:34.520 +02:00  DBG  Opening connection to database 'pmjmvgha' on server ''.
2023-10-15 18:16:35.114 +02:00  DBG  Opened connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:16:35.117 +02:00  DBG  Closing connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:16:35.128 +02:00  DBG  Closed connection to database 'pmjmvgha' on server '' (7ms).
2023-10-15 18:16:35.135 +02:00  DBG  Creating DbCommand for 'ExecuteScalar'.
2023-10-15 18:16:35.141 +02:00  DBG  Created DbCommand for 'ExecuteScalar' (3ms).
2023-10-15 18:16:35.142 +02:00  DBG  Initialized DbCommand for 'ExecuteScalar' (8ms).
2023-10-15 18:16:35.142 +02:00  DBG  Opening connection to database 'pmjmvgha' on server ''.
2023-10-15 18:16:35.510 +02:00  DBG  Opened connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:16:35.516 +02:00  DBG  Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-10-15 18:16:35.611 +02:00  INF  Executed DbCommand (93ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-10-15 18:16:35.612 +02:00  DBG  Closing connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:16:35.615 +02:00  DBG  Closed connection to database 'pmjmvgha' on server '' (2ms).
2023-10-15 18:16:35.617 +02:00  DBG  Opening connection to database 'pmjmvgha' on server ''.
2023-10-15 18:16:35.946 +02:00  DBG  Opened connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:16:35.946 +02:00  DBG  Closing connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:16:35.947 +02:00  DBG  Closed connection to database 'pmjmvgha' on server '' (0ms).
2023-10-15 18:16:35.947 +02:00  DBG  Creating DbCommand for 'ExecuteScalar'.
2023-10-15 18:16:35.947 +02:00  DBG  Created DbCommand for 'ExecuteScalar' (0ms).
2023-10-15 18:16:35.948 +02:00  DBG  Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-10-15 18:16:35.948 +02:00  DBG  Opening connection to database 'pmjmvgha' on server ''.
2023-10-15 18:16:35.948 +02:00  DBG  Opened connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:16:35.949 +02:00  DBG  Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-10-15 18:16:35.996 +02:00  INF  Executed DbCommand (47ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-10-15 18:16:35.996 +02:00  DBG  Closing connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:16:35.996 +02:00  DBG  Closed connection to database 'pmjmvgha' on server '' (0ms).
2023-10-15 18:16:36.024 +02:00  DBG  Creating DbCommand for 'ExecuteReader'.
2023-10-15 18:16:36.024 +02:00  DBG  Created DbCommand for 'ExecuteReader' (0ms).
2023-10-15 18:16:36.025 +02:00  DBG  Initialized DbCommand for 'ExecuteReader' (0ms).
2023-10-15 18:16:36.025 +02:00  DBG  Opening connection to database 'pmjmvgha' on server ''.
2023-10-15 18:16:36.025 +02:00  DBG  Opened connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:16:36.025 +02:00  DBG  Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-10-15 18:16:36.072 +02:00  INF  Executed DbCommand (47ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-10-15 18:16:36.076 +02:00  DBG  Closing data reader to 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:16:36.078 +02:00  DBG  A data reader for 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432' is being disposed after spending 5ms reading results.
2023-10-15 18:16:36.078 +02:00  DBG  Closing connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:16:36.078 +02:00  DBG  Closed connection to database 'pmjmvgha' on server '' (0ms).
2023-10-15 18:16:36.089 +02:00  INF  No migrations were applied. The database is already up to date.
2023-10-15 18:16:36.090 +02:00  DBG  'InfoEcoDbContext' disposed.
2023-10-15 18:16:36.092 +02:00  DBG  Disposing connection to database 'pmjmvgha' on server ''.
2023-10-15 18:16:36.093 +02:00  DBG  Disposed connection to database 'pmjmvgha' on server '' (0ms).
2023-10-15 18:16:36.095 +02:00  DBG  Hosting starting
2023-10-15 18:16:36.129 +02:00  INF  User profile is available. Using 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-10-15 18:16:36.133 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-2ce4c23f-757b-4029-95d3-9c9820e6de80.xml'.
2023-10-15 18:16:36.139 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-6921759b-a9f9-48ea-a379-13505875271d.xml'.
2023-10-15 18:16:36.140 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-7c4081c7-f341-4ce9-ad03-d3ea3cf1c21f.xml'.
2023-10-15 18:16:36.140 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-a038200a-44f7-48da-9d2b-5646ef68d51f.xml'.
2023-10-15 18:16:36.140 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-a642139e-629a-42ab-b89a-38ed4778f2e0.xml'.
2023-10-15 18:16:36.140 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-b1a02c3b-a417-45ff-ac5c-986fca4cdd22.xml'.
2023-10-15 18:16:36.140 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-b5a22f60-a6fe-488b-8048-b8d1034bef7d.xml'.
2023-10-15 18:16:36.141 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-b8996f88-e69f-41d1-b4d3-e7b15b37a5e2.xml'.
2023-10-15 18:16:36.144 +02:00  DBG  Found key {2ce4c23f-757b-4029-95d3-9c9820e6de80}.
2023-10-15 18:16:36.148 +02:00  DBG  Found key {6921759b-a9f9-48ea-a379-13505875271d}.
2023-10-15 18:16:36.148 +02:00  DBG  Found key {7c4081c7-f341-4ce9-ad03-d3ea3cf1c21f}.
2023-10-15 18:16:36.148 +02:00  DBG  Found key {a038200a-44f7-48da-9d2b-5646ef68d51f}.
2023-10-15 18:16:36.148 +02:00  DBG  Found key {a642139e-629a-42ab-b89a-38ed4778f2e0}.
2023-10-15 18:16:36.148 +02:00  DBG  Found key {b1a02c3b-a417-45ff-ac5c-986fca4cdd22}.
2023-10-15 18:16:36.148 +02:00  DBG  Found key {b5a22f60-a6fe-488b-8048-b8d1034bef7d}.
2023-10-15 18:16:36.148 +02:00  DBG  Found key {b8996f88-e69f-41d1-b4d3-e7b15b37a5e2}.
2023-10-15 18:16:36.155 +02:00  DBG  Considering key {6921759b-a9f9-48ea-a379-13505875271d} with expiration date 2023-11-22 12:55:42Z as default key.
2023-10-15 18:16:36.157 +02:00  DBG  Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-10-15 18:16:36.157 +02:00  DBG  Decrypting secret element using Windows DPAPI.
2023-10-15 18:16:36.159 +02:00  DBG  Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-10-15 18:16:36.160 +02:00  DBG  Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-10-15 18:16:36.161 +02:00  DBG  Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-10-15 18:16:36.163 +02:00  DBG  Using key {6921759b-a9f9-48ea-a379-13505875271d} as the default key.
2023-10-15 18:16:36.164 +02:00  DBG  Key ring with default key {6921759b-a9f9-48ea-a379-13505875271d} was loaded during application startup.
2023-10-15 18:16:36.245 +02:00  DBG  Loaded hosting startup assembly Infeco.Api
2023-10-15 18:16:36.246 +02:00  DBG  Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-10-15 18:16:36.246 +02:00  DBG  Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-10-15 18:16:36.246 +02:00  INF  Application started. Press Ctrl+C to shut down.
2023-10-15 18:16:36.247 +02:00  INF  Hosting environment: Development
2023-10-15 18:16:36.247 +02:00  INF  Content root path: C:\Users\fdepret\source\repos\Infeco.api\Infeco.api
2023-10-15 18:16:36.247 +02:00  DBG  Hosting started
2023-10-15 18:16:36.299 +02:00  INF  Request starting HTTP/2 GET https://localhost:44375/index.html - -
2023-10-15 18:16:36.346 +02:00  DBG  Wildcard detected, all requests with hosts will be allowed.
2023-10-15 18:16:36.394 +02:00  DBG  No candidates found for the request path '/index.html'
2023-10-15 18:16:36.395 +02:00  DBG  Request did not match any endpoints
2023-10-15 18:16:36.441 +02:00  DBG  AuthenticationScheme: Bearer was not authenticated.
2023-10-15 18:16:36.563 +02:00  DBG  Response markup is scheduled to include browser refresh script injection.
2023-10-15 18:16:38.712 +02:00  DBG  Response markup was updated to include browser refresh script injection.
2023-10-15 18:16:38.724 +02:00  DBG  Connection ID "18374686511347007490" disconnecting.
2023-10-15 18:16:38.734 +02:00  INF  Request starting HTTP/2 GET https://localhost:44375/_framework/aspnetcore-browser-refresh.js - -
2023-10-15 18:16:38.734 +02:00  INF  Request finished HTTP/2 GET https://localhost:44375/index.html - - - 200 - text/html;charset=utf-8 2431.0133ms
2023-10-15 18:16:38.740 +02:00  DBG  Connection ID "18086456122310393857" disconnecting.
2023-10-15 18:16:38.741 +02:00  INF  Request finished HTTP/2 GET https://localhost:44375/_framework/aspnetcore-browser-refresh.js - - - 200 12352 application/javascript;+charset=utf-8 6.6007ms
2023-10-15 18:16:38.852 +02:00  INF  Request starting HTTP/2 GET https://localhost:44375/swagger/v1/swagger.json - -
2023-10-15 18:16:38.854 +02:00  DBG  No candidates found for the request path '/swagger/v1/swagger.json'
2023-10-15 18:16:38.854 +02:00  DBG  Request did not match any endpoints
2023-10-15 18:16:38.857 +02:00  DBG  AuthenticationScheme: Bearer was not authenticated.
2023-10-15 18:16:39.062 +02:00  DBG  Connection ID "18374686485577203714" disconnecting.
2023-10-15 18:16:39.062 +02:00  INF  Request finished HTTP/2 GET https://localhost:44375/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 210.4137ms
2023-10-15 18:17:43.970 +02:00  INF  Request starting HTTP/1.1 POST https://localhost:44375/login - 0
2023-10-15 18:17:43.975 +02:00  DBG  1 candidate(s) found for the request path '/login'
2023-10-15 18:17:43.979 +02:00  DBG  Endpoint 'IDSoft.CrmWelcome.Api.Controllers.ConnexionController.LoginAsync (Infeco.Api)' with route pattern 'login' is valid for the request path '/login'
2023-10-15 18:17:43.981 +02:00  DBG  Request matched endpoint 'IDSoft.CrmWelcome.Api.Controllers.ConnexionController.LoginAsync (Infeco.Api)'
2023-10-15 18:17:43.985 +02:00  DBG  AuthenticationScheme: Bearer was not authenticated.
2023-10-15 18:17:43.993 +02:00  DBG  Static files was skipped as the request already matched an endpoint.
2023-10-15 18:17:43.995 +02:00  INF  Executing endpoint 'IDSoft.CrmWelcome.Api.Controllers.ConnexionController.LoginAsync (Infeco.Api)'
2023-10-15 18:17:44.047 +02:00  INF  Route matched with {action = "Login", controller = "Connexion"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginAsync(System.Threading.CancellationToken) on controller IDSoft.CrmWelcome.Api.Controllers.ConnexionController (Infeco.Api).
2023-10-15 18:17:44.049 +02:00  DBG  Execution plan of authorization filters (in the following order): ["None"]
2023-10-15 18:17:44.049 +02:00  DBG  Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2023-10-15 18:17:44.050 +02:00  DBG  Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2023-10-15 18:17:44.050 +02:00  DBG  Execution plan of exception filters (in the following order): ["None"]
2023-10-15 18:17:44.050 +02:00  DBG  Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2023-10-15 18:17:44.053 +02:00  DBG  Executing controller factory for controller IDSoft.CrmWelcome.Api.Controllers.ConnexionController (Infeco.Api)
2023-10-15 18:17:44.054 +02:00  DBG  Executed controller factory for controller IDSoft.CrmWelcome.Api.Controllers.ConnexionController (Infeco.Api)
2023-10-15 18:17:44.061 +02:00  DBG  Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-10-15 18:17:44.065 +02:00  DBG  Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-10-15 18:17:44.065 +02:00  DBG  Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-10-15 18:17:44.068 +02:00  DBG  Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-10-15 18:17:44.132 +02:00  INF  Executing action method IDSoft.CrmWelcome.Api.Controllers.ConnexionController.LoginAsync (Infeco.Api) - Validation state: "Valid"
2023-10-15 18:19:56.671 +02:00  INF  Handling ObtenirUtilisateurParIdentifiantEtMotDePasseQuery
2023-10-15 18:19:56.701 +02:00  DBG  Entity Framework Core 7.0.11 initialized 'InfoEcoDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None
2023-10-15 18:19:57.909 +02:00  DBG  Compiling query expression: 
'DbSet<UtilisateurEntite>()
    .FirstOrDefault(u => u.Courriel == __identifiant_0 && u.Passe == __motDePasse_1)'
2023-10-15 18:19:58.128 +02:00  DBG  Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UtilisateurEntite>(
    asyncEnumerable: new SingleQueryingEnumerable<UtilisateurEntite>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UtilisateurEntite.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UtilisateurEntite.AgenceImmobiliereId (int) Required FK Index, 1], [Property: UtilisateurEntite.Courriel (string) Required Index MaxLength(255), 2], [Property: UtilisateurEntite.CreeLe (DateTime) Required, 3], [Property: UtilisateurEntite.EstActif (bool) Required, 4], [Property: UtilisateurEntite.ModifieLe (DateTime?), 5], [Property: UtilisateurEntite.Nom (string) Required MaxLength(255), 6], [Property: UtilisateurEntite.Passe (string) Required MaxLength(255), 7], [Property: UtilisateurEntite.Prenom (string) Required MaxLength(255), 8] }
            SELECT TOP(1) u.Id, u.AgenceImmobiliereId, u.Courriel, u.CreeLe, u.EstActif, u.ModifieLe, u.Nom, u.Passe, u.Prenom
            FROM Utilisateur AS u
            WHERE (u.Courriel == @__identifiant_0) && (u.Passe == @__motDePasse_1)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UtilisateurEntite>, 
        Infoeco.infrastructure.InfoEcoDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-10-15 18:19:58.185 +02:00  DBG  Creating DbCommand for 'ExecuteReader'.
2023-10-15 18:19:58.186 +02:00  DBG  Creating DbConnection.
2023-10-15 18:19:58.186 +02:00  DBG  Created DbConnection. (0ms).
2023-10-15 18:19:58.186 +02:00  DBG  Created DbCommand for 'ExecuteReader' (1ms).
2023-10-15 18:19:58.190 +02:00  DBG  Initialized DbCommand for 'ExecuteReader' (5ms).
2023-10-15 18:19:58.195 +02:00  DBG  Opening connection to database 'pmjmvgha' on server ''.
2023-10-15 18:19:58.199 +02:00  DBG  Opened connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:19:58.203 +02:00  DBG  Executing DbCommand [Parameters=[@__identifiant_0='?', @__motDePasse_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."AgenceImmobiliereId", u."Courriel", u."CreeLe", u."EstActif", u."ModifieLe", u."Nom", u."Passe", u."Prenom"
FROM "Utilisateur" AS u
WHERE u."Courriel" = @__identifiant_0 AND u."Passe" = @__motDePasse_1
LIMIT 1
2023-10-15 18:19:59.046 +02:00  ERR  Failed executing DbCommand (846ms) [Parameters=[@__identifiant_0='?', @__motDePasse_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."AgenceImmobiliereId", u."Courriel", u."CreeLe", u."EstActif", u."ModifieLe", u."Nom", u."Passe", u."Prenom"
FROM "Utilisateur" AS u
WHERE u."Courriel" = @__identifiant_0 AND u."Passe" = @__motDePasse_1
LIMIT 1
2023-10-15 18:19:59.308 +02:00  ERR  An exception occurred while iterating over the results of a query for context type 'Infoeco.infrastructure.InfoEcoDbContext'.
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): Exception while writing to stream
 ---> System.IO.IOException: Unable to write data to the transport connection: Une connexion existante a d tre ferme par lhte distant..
 ---> System.Net.Sockets.SocketException (10054): Une connexion existante a d tre ferme par lhte distant.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.CreateException(SocketError error, Boolean forAsyncThrow)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.SendAsyncForNetworkStream(Socket socket, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.SendAsyncForNetworkStream(ReadOnlyMemory`1 buffer, SocketFlags socketFlags, CancellationToken cancellationToken)
   at System.Net.Sockets.NetworkStream.WriteAsync(ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.WriteSingleChunk[TIOAdapter](ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.WriteAsyncInternal[TIOAdapter](ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at System.Net.Security.SslStream.WriteAsyncInternal[TIOAdapter](ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.WriteAsync(Byte[] buffer, Int32 offset, Int32 count, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlWriteBuffer.Flush(Boolean async, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Npgsql.Internal.NpgsqlWriteBuffer.Flush(Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Flush(Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.<Write>g__WriteExecute|105_0(NpgsqlConnector connector, Boolean async, Boolean flush, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Npgsql.NpgsqlCommand.<Write>g__WriteExecute|105_0(NpgsqlConnector connector, Boolean async, Boolean flush, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.Write(NpgsqlConnector connector, Boolean async, Boolean flush, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.<>c.<MoveNextAsync>b__20_0(DbContext _, AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at lambda_method23(Closure, QueryContext)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.FirstOrDefaultAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at Infoeco.Services.Implementation.InfoEcoService.ObtientParIdentifiantEtMotDePasseAsync(String identifiant, String motDePasse, CancellationToken cancellationToken) in C:\Users\fdepret\source\repos\Infeco.api\Infoeco.Services.Implementation\InfoEcoService.cs:line 34
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Infoeco.Services.Implementation.InfoEcoService.ObtientParIdentifiantEtMotDePasseAsync(String identifiant, String motDePasse, CancellationToken cancellationToken)
   at Infeco.Api.Queries.ObtenirUtilisateurParIdentifiantEtMotDePasseQueryHandler.Handle(ObtenirUtilisateurParIdentifiantEtMotDePasseQuery request, CancellationToken cancellationToken) in C:\Users\fdepret\source\repos\Infeco.api\Infeco.api\Queries\ObtenirUtilisateurParIdentifiantEtMotDePasseQueryHandler.cs:line 22
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Infeco.Api.Queries.ObtenirUtilisateurParIdentifiantEtMotDePasseQueryHandler.Handle(ObtenirUtilisateurParIdentifiantEtMotDePasseQuery request, CancellationToken cancellationToken)
   at MediatR.Wrappers.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at Infeco.api.Infrastructure.MediatR.LoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\fdepret\source\repos\Infeco.api\Infeco.api\Infrastructure\MediatR\LoggingBehavior.cs:line 27
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Infeco.api.Infrastructure.MediatR.LoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Wrappers.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_1.<Handle>b__2()
   at Infeco.Api.Infrastructure.MediatR.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\fdepret\source\repos\Infeco.api\Infeco.api\Infrastructure\MediatR\ValidationBehavior.cs:line 30
   at MediatR.Wrappers.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_1.<Handle>b__2()
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Wrappers.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_1.<Handle>b__2()
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Wrappers.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_1.<Handle>b__2()
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Wrappers.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_1.<Handle>b__2()
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Wrappers.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_1.<Handle>b__2()
   at MediatR.Wrappers.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, ServiceFactory serviceFactory, CancellationToken cancellationToken)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at IDSoft.CrmWelcome.Api.Controllers.ConnexionController.LoginAsync(CancellationToken cancellationToken) in C:\Users\fdepret\source\repos\Infeco.api\Infeco.api\Controllers\ConnexionController.cs:line 44
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at IDSoft.CrmWelcome.Api.Controllers.ConnexionController.LoginAsync(CancellationToken cancellationToken)
   at lambda_method14(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware.Invoke(HttpContext context)
   at Microsoft.WebTools.BrowserLink.Net.BrowserLinkMiddleware.ExecuteWithoutFilterAsync(HttpContext context)
   at Microsoft.WebTools.BrowserLink.Net.BrowserLinkMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.WebTools.BrowserLink.Net.VsContentMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.HandleRequest()
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.HandleRequest()
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Execute()
   at System.Threading.ThreadPoolWorkQueue.Dispatch()
   at System.Threading.PortableThreadPool.WorkerThread.WorkerThreadStart()
--- End of stack trace from previous location ---

   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.<WriteSingleChunk>g__CompleteWriteAsync|153_1[TIOAdapter](ValueTask writeTask, Byte[] bufferToReturn)
   at System.Net.Security.SslStream.WriteAsyncInternal[TIOAdapter](ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlWriteBuffer.Flush(Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlWriteBuffer.Flush(Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.<Write>g__WriteExecute|105_0(NpgsqlConnector connector, Boolean async, Boolean flush, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): Exception while writing to stream
 ---> System.IO.IOException: Unable to write data to the transport connection: Une connexion existante a d tre ferme par lhte distant..
 ---> System.Net.Sockets.SocketException (10054): Une connexion existante a d tre ferme par lhte distant.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.CreateException(SocketError error, Boolean forAsyncThrow)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.SendAsyncForNetworkStream(Socket socket, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.SendAsyncForNetworkStream(ReadOnlyMemory`1 buffer, SocketFlags socketFlags, CancellationToken cancellationToken)
   at System.Net.Sockets.NetworkStream.WriteAsync(ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.WriteSingleChunk[TIOAdapter](ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.WriteAsyncInternal[TIOAdapter](ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at System.Net.Security.SslStream.WriteAsyncInternal[TIOAdapter](ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.WriteAsync(Byte[] buffer, Int32 offset, Int32 count, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlWriteBuffer.Flush(Boolean async, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Npgsql.Internal.NpgsqlWriteBuffer.Flush(Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Flush(Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.<Write>g__WriteExecute|105_0(NpgsqlConnector connector, Boolean async, Boolean flush, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Npgsql.NpgsqlCommand.<Write>g__WriteExecute|105_0(NpgsqlConnector connector, Boolean async, Boolean flush, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.Write(NpgsqlConnector connector, Boolean async, Boolean flush, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.<>c.<MoveNextAsync>b__20_0(DbContext _, AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at lambda_method23(Closure, QueryContext)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.FirstOrDefaultAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at Infoeco.Services.Implementation.InfoEcoService.ObtientParIdentifiantEtMotDePasseAsync(String identifiant, String motDePasse, CancellationToken cancellationToken) in C:\Users\fdepret\source\repos\Infeco.api\Infoeco.Services.Implementation\InfoEcoService.cs:line 34
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Infoeco.Services.Implementation.InfoEcoService.ObtientParIdentifiantEtMotDePasseAsync(String identifiant, String motDePasse, CancellationToken cancellationToken)
   at Infeco.Api.Queries.ObtenirUtilisateurParIdentifiantEtMotDePasseQueryHandler.Handle(ObtenirUtilisateurParIdentifiantEtMotDePasseQuery request, CancellationToken cancellationToken) in C:\Users\fdepret\source\repos\Infeco.api\Infeco.api\Queries\ObtenirUtilisateurParIdentifiantEtMotDePasseQueryHandler.cs:line 22
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Infeco.Api.Queries.ObtenirUtilisateurParIdentifiantEtMotDePasseQueryHandler.Handle(ObtenirUtilisateurParIdentifiantEtMotDePasseQuery request, CancellationToken cancellationToken)
   at MediatR.Wrappers.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at Infeco.api.Infrastructure.MediatR.LoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\fdepret\source\repos\Infeco.api\Infeco.api\Infrastructure\MediatR\LoggingBehavior.cs:line 27
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Infeco.api.Infrastructure.MediatR.LoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Wrappers.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_1.<Handle>b__2()
   at Infeco.Api.Infrastructure.MediatR.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\fdepret\source\repos\Infeco.api\Infeco.api\Infrastructure\MediatR\ValidationBehavior.cs:line 30
   at MediatR.Wrappers.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_1.<Handle>b__2()
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Wrappers.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_1.<Handle>b__2()
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Wrappers.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_1.<Handle>b__2()
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Wrappers.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_1.<Handle>b__2()
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Wrappers.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_1.<Handle>b__2()
   at MediatR.Wrappers.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, ServiceFactory serviceFactory, CancellationToken cancellationToken)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at IDSoft.CrmWelcome.Api.Controllers.ConnexionController.LoginAsync(CancellationToken cancellationToken) in C:\Users\fdepret\source\repos\Infeco.api\Infeco.api\Controllers\ConnexionController.cs:line 44
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at IDSoft.CrmWelcome.Api.Controllers.ConnexionController.LoginAsync(CancellationToken cancellationToken)
   at lambda_method14(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware.Invoke(HttpContext context)
   at Microsoft.WebTools.BrowserLink.Net.BrowserLinkMiddleware.ExecuteWithoutFilterAsync(HttpContext context)
   at Microsoft.WebTools.BrowserLink.Net.BrowserLinkMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.WebTools.BrowserLink.Net.VsContentMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.HandleRequest()
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.HandleRequest()
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Execute()
   at System.Threading.ThreadPoolWorkQueue.Dispatch()
   at System.Threading.PortableThreadPool.WorkerThread.WorkerThreadStart()
--- End of stack trace from previous location ---

   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.<WriteSingleChunk>g__CompleteWriteAsync|153_1[TIOAdapter](ValueTask writeTask, Byte[] bufferToReturn)
   at System.Net.Security.SslStream.WriteAsyncInternal[TIOAdapter](ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlWriteBuffer.Flush(Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlWriteBuffer.Flush(Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.<Write>g__WriteExecute|105_0(NpgsqlConnector connector, Boolean async, Boolean flush, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()

2023-10-15 18:20:03.046 +02:00  ERR  ErreurSystem.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): Exception while writing to stream
 ---> System.IO.IOException: Unable to write data to the transport connection: Une connexion existante a d tre ferme par lhte distant..
 ---> System.Net.Sockets.SocketException (10054): Une connexion existante a d tre ferme par lhte distant.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.CreateException(SocketError error, Boolean forAsyncThrow)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.SendAsyncForNetworkStream(Socket socket, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.SendAsyncForNetworkStream(ReadOnlyMemory`1 buffer, SocketFlags socketFlags, CancellationToken cancellationToken)
   at System.Net.Sockets.NetworkStream.WriteAsync(ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.WriteSingleChunk[TIOAdapter](ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.WriteAsyncInternal[TIOAdapter](ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at System.Net.Security.SslStream.WriteAsyncInternal[TIOAdapter](ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.WriteAsync(Byte[] buffer, Int32 offset, Int32 count, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlWriteBuffer.Flush(Boolean async, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Npgsql.Internal.NpgsqlWriteBuffer.Flush(Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Flush(Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.<Write>g__WriteExecute|105_0(NpgsqlConnector connector, Boolean async, Boolean flush, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Npgsql.NpgsqlCommand.<Write>g__WriteExecute|105_0(NpgsqlConnector connector, Boolean async, Boolean flush, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.Write(NpgsqlConnector connector, Boolean async, Boolean flush, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.<>c.<MoveNextAsync>b__20_0(DbContext _, AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at lambda_method23(Closure, QueryContext)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.FirstOrDefaultAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at Infoeco.Services.Implementation.InfoEcoService.ObtientParIdentifiantEtMotDePasseAsync(String identifiant, String motDePasse, CancellationToken cancellationToken) in C:\Users\fdepret\source\repos\Infeco.api\Infoeco.Services.Implementation\InfoEcoService.cs:line 34
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Infoeco.Services.Implementation.InfoEcoService.ObtientParIdentifiantEtMotDePasseAsync(String identifiant, String motDePasse, CancellationToken cancellationToken)
   at Infeco.Api.Queries.ObtenirUtilisateurParIdentifiantEtMotDePasseQueryHandler.Handle(ObtenirUtilisateurParIdentifiantEtMotDePasseQuery request, CancellationToken cancellationToken) in C:\Users\fdepret\source\repos\Infeco.api\Infeco.api\Queries\ObtenirUtilisateurParIdentifiantEtMotDePasseQueryHandler.cs:line 22
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Infeco.Api.Queries.ObtenirUtilisateurParIdentifiantEtMotDePasseQueryHandler.Handle(ObtenirUtilisateurParIdentifiantEtMotDePasseQuery request, CancellationToken cancellationToken)
   at MediatR.Wrappers.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at Infeco.api.Infrastructure.MediatR.LoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\fdepret\source\repos\Infeco.api\Infeco.api\Infrastructure\MediatR\LoggingBehavior.cs:line 27
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Infeco.api.Infrastructure.MediatR.LoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Wrappers.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_1.<Handle>b__2()
   at Infeco.Api.Infrastructure.MediatR.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\fdepret\source\repos\Infeco.api\Infeco.api\Infrastructure\MediatR\ValidationBehavior.cs:line 30
   at MediatR.Wrappers.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_1.<Handle>b__2()
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Wrappers.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_1.<Handle>b__2()
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Wrappers.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_1.<Handle>b__2()
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Wrappers.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_1.<Handle>b__2()
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Wrappers.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_1.<Handle>b__2()
   at MediatR.Wrappers.RequestHandlerWrapperImpl`2.Handle(IRequest`1 request, ServiceFactory serviceFactory, CancellationToken cancellationToken)
   at MediatR.Mediator.Send[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at IDSoft.CrmWelcome.Api.Controllers.ConnexionController.LoginAsync(CancellationToken cancellationToken) in C:\Users\fdepret\source\repos\Infeco.api\Infeco.api\Controllers\ConnexionController.cs:line 44
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at IDSoft.CrmWelcome.Api.Controllers.ConnexionController.LoginAsync(CancellationToken cancellationToken)
   at lambda_method14(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware.Invoke(HttpContext context)
   at Microsoft.WebTools.BrowserLink.Net.BrowserLinkMiddleware.ExecuteWithoutFilterAsync(HttpContext context)
   at Microsoft.WebTools.BrowserLink.Net.BrowserLinkMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.WebTools.BrowserLink.Net.VsContentMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.HandleRequest()
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.HandleRequest()
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContext.Execute()
   at System.Threading.ThreadPoolWorkQueue.Dispatch()
   at System.Threading.PortableThreadPool.WorkerThread.WorkerThreadStart()
--- End of stack trace from previous location ---

   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.<WriteSingleChunk>g__CompleteWriteAsync|153_1[TIOAdapter](ValueTask writeTask, Byte[] bufferToReturn)
   at System.Net.Security.SslStream.WriteAsyncInternal[TIOAdapter](ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlWriteBuffer.Flush(Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlWriteBuffer.Flush(Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.<Write>g__WriteExecute|105_0(NpgsqlConnector connector, Boolean async, Boolean flush, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Infoeco.Services.Implementation.InfoEcoService.ObtientParIdentifiantEtMotDePasseAsync(String identifiant, String motDePasse, CancellationToken cancellationToken) in C:\Users\fdepret\source\repos\Infeco.api\Infoeco.Services.Implementation\InfoEcoService.cs:line 34
   at Infeco.Api.Queries.ObtenirUtilisateurParIdentifiantEtMotDePasseQueryHandler.Handle(ObtenirUtilisateurParIdentifiantEtMotDePasseQuery request, CancellationToken cancellationToken) in C:\Users\fdepret\source\repos\Infeco.api\Infeco.api\Queries\ObtenirUtilisateurParIdentifiantEtMotDePasseQueryHandler.cs:line 22
   at Infeco.api.Infrastructure.MediatR.LoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\fdepret\source\repos\Infeco.api\Infeco.api\Infrastructure\MediatR\LoggingBehavior.cs:line 27
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at IDSoft.CrmWelcome.Api.Controllers.ConnexionController.LoginAsync(CancellationToken cancellationToken) in C:\Users\fdepret\source\repos\Infeco.api\Infeco.api\Controllers\ConnexionController.cs:line 44

2023-10-15 18:20:03.052 +02:00  INF  Executed action method IDSoft.CrmWelcome.Api.Controllers.ConnexionController.LoginAsync (Infeco.Api), returned result Microsoft.AspNetCore.Mvc.UnauthorizedResult in 138917.0212ms.
2023-10-15 18:20:03.056 +02:00  INF  Executing StatusCodeResult, setting HTTP status code 401
2023-10-15 18:20:03.060 +02:00  INF  Executed action IDSoft.CrmWelcome.Api.Controllers.ConnexionController.LoginAsync (Infeco.Api) in 139007.0132ms
2023-10-15 18:20:03.061 +02:00  INF  Executed endpoint 'IDSoft.CrmWelcome.Api.Controllers.ConnexionController.LoginAsync (Infeco.Api)'
2023-10-15 18:20:03.064 +02:00  DBG  'InfoEcoDbContext' disposed.
2023-10-15 18:20:03.067 +02:00  DBG  Disposing connection to database 'pmjmvgha' on server ''.
2023-10-15 18:20:03.069 +02:00  DBG  Disposed connection to database 'pmjmvgha' on server '' (1ms).
2023-10-15 18:20:03.070 +02:00  INF  Request finished HTTP/1.1 POST https://localhost:44375/login - 0 - 401 - - 139099.1200ms
2023-10-15 18:20:07.217 +02:00  INF  Request starting HTTP/1.1 POST https://localhost:44375/login - 0
2023-10-15 18:20:07.217 +02:00  DBG  1 candidate(s) found for the request path '/login'
2023-10-15 18:20:07.218 +02:00  DBG  Endpoint 'IDSoft.CrmWelcome.Api.Controllers.ConnexionController.LoginAsync (Infeco.Api)' with route pattern 'login' is valid for the request path '/login'
2023-10-15 18:20:07.218 +02:00  DBG  Request matched endpoint 'IDSoft.CrmWelcome.Api.Controllers.ConnexionController.LoginAsync (Infeco.Api)'
2023-10-15 18:20:07.218 +02:00  DBG  AuthenticationScheme: Bearer was not authenticated.
2023-10-15 18:20:07.220 +02:00  DBG  Static files was skipped as the request already matched an endpoint.
2023-10-15 18:20:07.220 +02:00  INF  Executing endpoint 'IDSoft.CrmWelcome.Api.Controllers.ConnexionController.LoginAsync (Infeco.Api)'
2023-10-15 18:20:07.221 +02:00  INF  Route matched with {action = "Login", controller = "Connexion"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginAsync(System.Threading.CancellationToken) on controller IDSoft.CrmWelcome.Api.Controllers.ConnexionController (Infeco.Api).
2023-10-15 18:20:07.221 +02:00  DBG  Execution plan of authorization filters (in the following order): ["None"]
2023-10-15 18:20:07.221 +02:00  DBG  Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2023-10-15 18:20:07.221 +02:00  DBG  Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2023-10-15 18:20:07.221 +02:00  DBG  Execution plan of exception filters (in the following order): ["None"]
2023-10-15 18:20:07.221 +02:00  DBG  Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2023-10-15 18:20:07.222 +02:00  DBG  Executing controller factory for controller IDSoft.CrmWelcome.Api.Controllers.ConnexionController (Infeco.Api)
2023-10-15 18:20:07.222 +02:00  DBG  Executed controller factory for controller IDSoft.CrmWelcome.Api.Controllers.ConnexionController (Infeco.Api)
2023-10-15 18:20:07.223 +02:00  DBG  Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-10-15 18:20:07.223 +02:00  DBG  Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-10-15 18:20:07.224 +02:00  DBG  Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-10-15 18:20:07.224 +02:00  DBG  Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-10-15 18:20:07.245 +02:00  INF  Executing action method IDSoft.CrmWelcome.Api.Controllers.ConnexionController.LoginAsync (Infeco.Api) - Validation state: "Valid"
2023-10-15 18:20:16.025 +02:00  INF  Handling ObtenirUtilisateurParIdentifiantEtMotDePasseQuery
2023-10-15 18:20:16.081 +02:00  DBG  Entity Framework Core 7.0.11 initialized 'InfoEcoDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None
2023-10-15 18:20:18.225 +02:00  DBG  Creating DbCommand for 'ExecuteReader'.
2023-10-15 18:20:18.225 +02:00  DBG  Creating DbConnection.
2023-10-15 18:20:18.225 +02:00  DBG  Created DbConnection. (0ms).
2023-10-15 18:20:18.225 +02:00  DBG  Created DbCommand for 'ExecuteReader' (0ms).
2023-10-15 18:20:18.225 +02:00  DBG  Initialized DbCommand for 'ExecuteReader' (0ms).
2023-10-15 18:20:18.225 +02:00  DBG  Opening connection to database 'pmjmvgha' on server ''.
2023-10-15 18:20:18.586 +02:00  DBG  Opened connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:20:18.589 +02:00  DBG  Executing DbCommand [Parameters=[@__identifiant_0='?', @__motDePasse_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."AgenceImmobiliereId", u."Courriel", u."CreeLe", u."EstActif", u."ModifieLe", u."Nom", u."Passe", u."Prenom"
FROM "Utilisateur" AS u
WHERE u."Courriel" = @__identifiant_0 AND u."Passe" = @__motDePasse_1
LIMIT 1
2023-10-15 18:20:18.638 +02:00  INF  Executed DbCommand (49ms) [Parameters=[@__identifiant_0='?', @__motDePasse_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."AgenceImmobiliereId", u."Courriel", u."CreeLe", u."EstActif", u."ModifieLe", u."Nom", u."Passe", u."Prenom"
FROM "Utilisateur" AS u
WHERE u."Courriel" = @__identifiant_0 AND u."Passe" = @__motDePasse_1
LIMIT 1
2023-10-15 18:20:18.684 +02:00  DBG  Context 'InfoEcoDbContext' started tracking 'UtilisateurEntite' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-15 18:20:18.737 +02:00  DBG  Closing data reader to 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:20:18.737 +02:00  DBG  A data reader for 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432' is being disposed after spending 98ms reading results.
2023-10-15 18:20:18.739 +02:00  DBG  Closing connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:20:18.739 +02:00  DBG  Closed connection to database 'pmjmvgha' on server '' (0ms).
2023-10-15 18:20:41.380 +02:00  INF  Handled DetailUtilisateurResponse
2023-10-15 18:20:43.500 +02:00  INF  Information : POST https://localhost:44375/login from '::1:60738' responded 200 in 21246,4559 ms
2023-10-15 18:20:46.207 +02:00  INF  Executed action method IDSoft.CrmWelcome.Api.Controllers.ConnexionController.LoginAsync (Infeco.Api), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 38961.9432ms.
2023-10-15 18:20:46.211 +02:00  DBG  List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-10-15 18:20:46.213 +02:00  DBG  No information found on request to perform content negotiation.
2023-10-15 18:20:46.213 +02:00  DBG  Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/json"]'.
2023-10-15 18:20:46.214 +02:00  DBG  Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-10-15 18:20:46.215 +02:00  INF  Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-10-15 18:20:46.288 +02:00  INF  Executed action IDSoft.CrmWelcome.Api.Controllers.ConnexionController.LoginAsync (Infeco.Api) in 39066.1702ms
2023-10-15 18:20:46.288 +02:00  INF  Executed endpoint 'IDSoft.CrmWelcome.Api.Controllers.ConnexionController.LoginAsync (Infeco.Api)'
2023-10-15 18:20:46.289 +02:00  DBG  'InfoEcoDbContext' disposed.
2023-10-15 18:20:46.289 +02:00  DBG  Disposing connection to database 'pmjmvgha' on server ''.
2023-10-15 18:20:46.289 +02:00  DBG  Disposed connection to database 'pmjmvgha' on server '' (0ms).
2023-10-15 18:20:46.289 +02:00  INF  Request finished HTTP/1.1 POST https://localhost:44375/login - 0 - 200 517 application/json;+charset=utf-8 39071.6908ms
2023-10-15 18:21:15.362 +02:00  INF  Request starting HTTP/1.1 POST https://localhost:44375/Appartements application/json 97
2023-10-15 18:21:15.362 +02:00  DBG  1 candidate(s) found for the request path '/Appartements'
2023-10-15 18:21:15.362 +02:00  DBG  Endpoint 'Infeco.Api.Controllers.AppartementController.CreerUnAppartementAsync (Infeco.Api)' with route pattern 'appartements' is valid for the request path '/Appartements'
2023-10-15 18:21:15.362 +02:00  DBG  Request matched endpoint 'Infeco.Api.Controllers.AppartementController.CreerUnAppartementAsync (Infeco.Api)'
2023-10-15 18:21:15.396 +02:00  DBG  Successfully validated the token.
2023-10-15 18:21:15.400 +02:00  DBG  AuthenticationScheme: Bearer was successfully authenticated.
2023-10-15 18:21:15.404 +02:00  DBG  Authorization was successful.
2023-10-15 18:21:15.404 +02:00  DBG  Static files was skipped as the request already matched an endpoint.
2023-10-15 18:21:15.404 +02:00  INF  Executing endpoint 'Infeco.Api.Controllers.AppartementController.CreerUnAppartementAsync (Infeco.Api)'
2023-10-15 18:21:15.408 +02:00  INF  Route matched with {action = "CreerUnAppartement", controller = "Appartement"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Infeco.Api.ViewModel.ResponseCreation]] CreerUnAppartementAsync(Infeco.Api.Commands.Appartements.CreerAppartementCommand, System.Threading.CancellationToken) on controller Infeco.Api.Controllers.AppartementController (Infeco.Api).
2023-10-15 18:21:15.408 +02:00  DBG  Execution plan of authorization filters (in the following order): ["None"]
2023-10-15 18:21:15.408 +02:00  DBG  Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2023-10-15 18:21:15.408 +02:00  DBG  Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2023-10-15 18:21:15.408 +02:00  DBG  Execution plan of exception filters (in the following order): ["None"]
2023-10-15 18:21:15.408 +02:00  DBG  Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2023-10-15 18:21:15.408 +02:00  DBG  Executing controller factory for controller Infeco.Api.Controllers.AppartementController (Infeco.Api)
2023-10-15 18:21:15.409 +02:00  DBG  Executed controller factory for controller Infeco.Api.Controllers.AppartementController (Infeco.Api)
2023-10-15 18:21:15.409 +02:00  DBG  Attempting to bind parameter 'command' of type 'Infeco.Api.Commands.Appartements.CreerAppartementCommand' ...
2023-10-15 18:21:15.410 +02:00  DBG  Attempting to bind parameter 'command' of type 'Infeco.Api.Commands.Appartements.CreerAppartementCommand' using the name '' in request data ...
2023-10-15 18:21:15.411 +02:00  DBG  Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-10-15 18:21:15.411 +02:00  DBG  Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-10-15 18:21:15.445 +02:00  DBG  Done attempting to bind parameter 'command' of type 'Infeco.Api.Commands.Appartements.CreerAppartementCommand'.
2023-10-15 18:21:15.445 +02:00  DBG  Done attempting to bind parameter 'command' of type 'Infeco.Api.Commands.Appartements.CreerAppartementCommand'.
2023-10-15 18:21:15.445 +02:00  DBG  Attempting to validate the bound parameter 'command' of type 'Infeco.Api.Commands.Appartements.CreerAppartementCommand' ...
2023-10-15 18:21:15.457 +02:00  DBG  Done attempting to validate the bound parameter 'command' of type 'Infeco.Api.Commands.Appartements.CreerAppartementCommand'.
2023-10-15 18:21:15.457 +02:00  DBG  Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-10-15 18:21:15.458 +02:00  DBG  Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-10-15 18:21:15.458 +02:00  DBG  Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-10-15 18:21:15.458 +02:00  DBG  Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-10-15 18:21:15.472 +02:00  INF  Executing action method Infeco.Api.Controllers.AppartementController.CreerUnAppartementAsync (Infeco.Api) - Validation state: "Valid"
2023-10-15 18:21:24.110 +02:00  INF  Executed action Infeco.Api.Controllers.AppartementController.CreerUnAppartementAsync (Infeco.Api) in 8701.3068ms
2023-10-15 18:21:24.170 +02:00  INF  Executed endpoint 'Infeco.Api.Controllers.AppartementController.CreerUnAppartementAsync (Infeco.Api)'
2023-10-15 18:21:24.299 +02:00  ERR  An unhandled exception has occurred while executing the request.FluentValidation.ValidationException: Validation failed: 
 -- DepotDeGarantie: le dpt de garantie doit tre renseign
 -- TypeAppartementId: le type d'appartement doit tre renseign
   at Infeco.Api.Infrastructure.MediatR.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\fdepret\source\repos\Infeco.api\Infeco.api\Infrastructure\MediatR\ValidationBehavior.cs:line 28
   at MediatR.Wrappers.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_1.<Handle>b__2()
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at Infeco.Api.Controllers.AppartementController.CreerUnAppartementAsync(CreerAppartementCommand command, CancellationToken cancellationToken) in C:\Users\fdepret\source\repos\Infeco.api\Infeco.api\Controllers\AppartementController.cs:line 47
   at lambda_method82(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)

2023-10-15 18:21:24.309 +02:00  INF  Request finished HTTP/1.1 POST https://localhost:44375/Appartements application/json 97 - 500 - text/plain;+charset=utf-8 8946.8738ms
2023-10-15 18:24:26.331 +02:00  INF  Request starting HTTP/1.1 POST https://localhost:44375/Appartements application/json 150
2023-10-15 18:24:26.331 +02:00  DBG  1 candidate(s) found for the request path '/Appartements'
2023-10-15 18:24:26.332 +02:00  DBG  Endpoint 'Infeco.Api.Controllers.AppartementController.CreerUnAppartementAsync (Infeco.Api)' with route pattern 'appartements' is valid for the request path '/Appartements'
2023-10-15 18:24:26.332 +02:00  DBG  Request matched endpoint 'Infeco.Api.Controllers.AppartementController.CreerUnAppartementAsync (Infeco.Api)'
2023-10-15 18:24:26.332 +02:00  DBG  Successfully validated the token.
2023-10-15 18:24:26.332 +02:00  DBG  AuthenticationScheme: Bearer was successfully authenticated.
2023-10-15 18:24:26.333 +02:00  DBG  Authorization was successful.
2023-10-15 18:24:26.333 +02:00  DBG  Static files was skipped as the request already matched an endpoint.
2023-10-15 18:24:26.333 +02:00  INF  Executing endpoint 'Infeco.Api.Controllers.AppartementController.CreerUnAppartementAsync (Infeco.Api)'
2023-10-15 18:24:26.333 +02:00  INF  Route matched with {action = "CreerUnAppartement", controller = "Appartement"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Infeco.Api.ViewModel.ResponseCreation]] CreerUnAppartementAsync(Infeco.Api.Commands.Appartements.CreerAppartementCommand, System.Threading.CancellationToken) on controller Infeco.Api.Controllers.AppartementController (Infeco.Api).
2023-10-15 18:24:26.333 +02:00  DBG  Execution plan of authorization filters (in the following order): ["None"]
2023-10-15 18:24:26.333 +02:00  DBG  Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2023-10-15 18:24:26.333 +02:00  DBG  Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2023-10-15 18:24:26.333 +02:00  DBG  Execution plan of exception filters (in the following order): ["None"]
2023-10-15 18:24:26.333 +02:00  DBG  Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2023-10-15 18:24:26.334 +02:00  DBG  Executing controller factory for controller Infeco.Api.Controllers.AppartementController (Infeco.Api)
2023-10-15 18:24:26.334 +02:00  DBG  Executed controller factory for controller Infeco.Api.Controllers.AppartementController (Infeco.Api)
2023-10-15 18:24:26.334 +02:00  DBG  Attempting to bind parameter 'command' of type 'Infeco.Api.Commands.Appartements.CreerAppartementCommand' ...
2023-10-15 18:24:26.334 +02:00  DBG  Attempting to bind parameter 'command' of type 'Infeco.Api.Commands.Appartements.CreerAppartementCommand' using the name '' in request data ...
2023-10-15 18:24:26.334 +02:00  DBG  Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-10-15 18:24:26.334 +02:00  DBG  Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-10-15 18:24:26.345 +02:00  DBG  Done attempting to bind parameter 'command' of type 'Infeco.Api.Commands.Appartements.CreerAppartementCommand'.
2023-10-15 18:24:26.345 +02:00  DBG  Done attempting to bind parameter 'command' of type 'Infeco.Api.Commands.Appartements.CreerAppartementCommand'.
2023-10-15 18:24:26.345 +02:00  DBG  Attempting to validate the bound parameter 'command' of type 'Infeco.Api.Commands.Appartements.CreerAppartementCommand' ...
2023-10-15 18:24:26.345 +02:00  DBG  Done attempting to validate the bound parameter 'command' of type 'Infeco.Api.Commands.Appartements.CreerAppartementCommand'.
2023-10-15 18:24:26.345 +02:00  DBG  Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-10-15 18:24:26.345 +02:00  DBG  Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-10-15 18:24:26.345 +02:00  DBG  Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-10-15 18:24:26.345 +02:00  DBG  Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-10-15 18:24:26.359 +02:00  INF  Executing action method Infeco.Api.Controllers.AppartementController.CreerUnAppartementAsync (Infeco.Api) - Validation state: "Valid"
2023-10-15 18:24:26.364 +02:00  INF  Handling CreerAppartementCommand
2023-10-15 18:24:26.364 +02:00  DBG  Entity Framework Core 7.0.11 initialized 'InfoEcoDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None
2023-10-15 18:24:26.409 +02:00  DBG  'InfoEcoDbContext' generated a temporary value for the property 'Id.AppartementEntite'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-15 18:24:26.450 +02:00  DBG  Context 'InfoEcoDbContext' started tracking 'AppartementEntite' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-15 18:24:26.453 +02:00  DBG  SaveChanges starting for 'InfoEcoDbContext'.
2023-10-15 18:24:26.456 +02:00  DBG  DetectChanges starting for 'InfoEcoDbContext'.
2023-10-15 18:24:26.464 +02:00  DBG  The unchanged property 'AppartementEntite.CreeLe' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-10-15 18:24:26.474 +02:00  DBG  DetectChanges completed for 'InfoEcoDbContext'.
2023-10-15 18:24:26.542 +02:00  DBG  Creating DbConnection.
2023-10-15 18:24:26.542 +02:00  DBG  Created DbConnection. (0ms).
2023-10-15 18:24:26.542 +02:00  DBG  Opening connection to database 'pmjmvgha' on server ''.
2023-10-15 18:24:26.542 +02:00  DBG  Opened connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:24:26.543 +02:00  DBG  Creating DbCommand for 'ExecuteReader'.
2023-10-15 18:24:26.543 +02:00  DBG  Created DbCommand for 'ExecuteReader' (0ms).
2023-10-15 18:24:26.544 +02:00  DBG  Initialized DbCommand for 'ExecuteReader' (0ms).
2023-10-15 18:24:26.544 +02:00  DBG  Executing DbCommand [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?', @p3='?' (DbType = DateTime), @p4='?' (DbType = Double), @p5='?' (DbType = Double), @p6='?' (DbType = DateTime), @p7='?' (DbType = Double), @p8='?' (DbType = Double), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Appartement" ("Adresse", "AgenceImmobiliereId", "ComplementAdresse", "CreeLe", "DepotDeGarantie", "Loyer", "ModifieLe", "NombreDeMetre2", "PrixDesCharges", "TypeAppartementId", "VilleId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10)
RETURNING "Id";
2023-10-15 18:24:26.610 +02:00  INF  Executed DbCommand (66ms) [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?', @p3='?' (DbType = DateTime), @p4='?' (DbType = Double), @p5='?' (DbType = Double), @p6='?' (DbType = DateTime), @p7='?' (DbType = Double), @p8='?' (DbType = Double), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Appartement" ("Adresse", "AgenceImmobiliereId", "ComplementAdresse", "CreeLe", "DepotDeGarantie", "Loyer", "ModifieLe", "NombreDeMetre2", "PrixDesCharges", "TypeAppartementId", "VilleId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10)
RETURNING "Id";
2023-10-15 18:24:26.617 +02:00  DBG  The foreign key property 'AppartementEntite.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-10-15 18:24:26.622 +02:00  DBG  Closing data reader to 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:24:26.622 +02:00  DBG  A data reader for 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432' is being disposed after spending 12ms reading results.
2023-10-15 18:24:26.623 +02:00  DBG  Closing connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:24:26.623 +02:00  DBG  Closed connection to database 'pmjmvgha' on server '' (0ms).
2023-10-15 18:24:26.632 +02:00  DBG  An entity of type 'AppartementEntite' tracked by 'InfoEcoDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-15 18:24:26.633 +02:00  DBG  SaveChanges completed for 'InfoEcoDbContext' with 1 entities written to the database.
2023-10-15 18:24:26.636 +02:00  INF  Handled Unit
2023-10-15 18:24:26.636 +02:00  INF  Information : POST https://localhost:44375/Appartements from '::1:55604' responded 200 in 271,9915 ms
2023-10-15 18:24:26.638 +02:00  INF  Executed action method Infeco.Api.Controllers.AppartementController.CreerUnAppartementAsync (Infeco.Api), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 279.094ms.
2023-10-15 18:24:26.639 +02:00  DBG  List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-10-15 18:24:26.640 +02:00  DBG  No information found on request to perform content negotiation.
2023-10-15 18:24:26.640 +02:00  DBG  Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/json"]'.
2023-10-15 18:24:26.641 +02:00  DBG  Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-10-15 18:24:26.641 +02:00  INF  Executing OkObjectResult, writing value of type 'Infeco.Api.ViewModel.ResponseCreation'.
2023-10-15 18:24:26.644 +02:00  INF  Executed action Infeco.Api.Controllers.AppartementController.CreerUnAppartementAsync (Infeco.Api) in 310.7141ms
2023-10-15 18:24:26.644 +02:00  INF  Executed endpoint 'Infeco.Api.Controllers.AppartementController.CreerUnAppartementAsync (Infeco.Api)'
2023-10-15 18:24:26.645 +02:00  DBG  'InfoEcoDbContext' disposed.
2023-10-15 18:24:26.645 +02:00  DBG  Disposing connection to database 'pmjmvgha' on server ''.
2023-10-15 18:24:26.645 +02:00  DBG  Disposed connection to database 'pmjmvgha' on server '' (0ms).
2023-10-15 18:24:26.645 +02:00  INF  Request finished HTTP/1.1 POST https://localhost:44375/Appartements application/json 150 - 200 9 application/json;+charset=utf-8 313.5063ms
2023-10-15 18:27:18.849 +02:00  INF  Request starting HTTP/1.1 PUT https://localhost:44375/Appartements/11 application/json 30
2023-10-15 18:27:18.849 +02:00  DBG  1 candidate(s) found for the request path '/Appartements/11'
2023-10-15 18:27:18.852 +02:00  DBG  Endpoint 'Infeco.Api.Controllers.AppartementController.ModifierUnAppartementAsync (Infeco.Api)' with route pattern 'appartements/{id:int}' is valid for the request path '/Appartements/11'
2023-10-15 18:27:18.852 +02:00  DBG  Request matched endpoint 'Infeco.Api.Controllers.AppartementController.ModifierUnAppartementAsync (Infeco.Api)'
2023-10-15 18:27:18.852 +02:00  DBG  Successfully validated the token.
2023-10-15 18:27:18.852 +02:00  DBG  AuthenticationScheme: Bearer was successfully authenticated.
2023-10-15 18:27:18.852 +02:00  DBG  Authorization was successful.
2023-10-15 18:27:18.853 +02:00  DBG  Static files was skipped as the request already matched an endpoint.
2023-10-15 18:27:18.853 +02:00  INF  Executing endpoint 'Infeco.Api.Controllers.AppartementController.ModifierUnAppartementAsync (Infeco.Api)'
2023-10-15 18:27:18.856 +02:00  INF  Route matched with {action = "ModifierUnAppartement", controller = "Appartement"}. Executing controller action with signature System.Threading.Tasks.Task ModifierUnAppartementAsync(Int32, Infeco.Api.Commands.Appartements.ModifierAppartementCommand, System.Threading.CancellationToken) on controller Infeco.Api.Controllers.AppartementController (Infeco.Api).
2023-10-15 18:27:18.856 +02:00  DBG  Execution plan of authorization filters (in the following order): ["None"]
2023-10-15 18:27:18.856 +02:00  DBG  Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2023-10-15 18:27:18.856 +02:00  DBG  Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2023-10-15 18:27:18.857 +02:00  DBG  Execution plan of exception filters (in the following order): ["None"]
2023-10-15 18:27:18.857 +02:00  DBG  Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2023-10-15 18:27:18.857 +02:00  DBG  Executing controller factory for controller Infeco.Api.Controllers.AppartementController (Infeco.Api)
2023-10-15 18:27:18.857 +02:00  DBG  Executed controller factory for controller Infeco.Api.Controllers.AppartementController (Infeco.Api)
2023-10-15 18:27:18.857 +02:00  DBG  Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-10-15 18:27:18.857 +02:00  DBG  Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-10-15 18:27:18.858 +02:00  DBG  Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-10-15 18:27:18.858 +02:00  DBG  Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-10-15 18:27:18.858 +02:00  DBG  Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-10-15 18:27:18.859 +02:00  DBG  Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-10-15 18:27:18.859 +02:00  DBG  Attempting to bind parameter 'command' of type 'Infeco.Api.Commands.Appartements.ModifierAppartementCommand' ...
2023-10-15 18:27:18.859 +02:00  DBG  Attempting to bind parameter 'command' of type 'Infeco.Api.Commands.Appartements.ModifierAppartementCommand' using the name '' in request data ...
2023-10-15 18:27:18.859 +02:00  DBG  Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-10-15 18:27:18.859 +02:00  DBG  Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-10-15 18:27:18.860 +02:00  DBG  Done attempting to bind parameter 'command' of type 'Infeco.Api.Commands.Appartements.ModifierAppartementCommand'.
2023-10-15 18:27:18.860 +02:00  DBG  Done attempting to bind parameter 'command' of type 'Infeco.Api.Commands.Appartements.ModifierAppartementCommand'.
2023-10-15 18:27:18.860 +02:00  DBG  Attempting to validate the bound parameter 'command' of type 'Infeco.Api.Commands.Appartements.ModifierAppartementCommand' ...
2023-10-15 18:27:18.862 +02:00  DBG  Done attempting to validate the bound parameter 'command' of type 'Infeco.Api.Commands.Appartements.ModifierAppartementCommand'.
2023-10-15 18:27:18.862 +02:00  DBG  Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-10-15 18:27:18.862 +02:00  DBG  Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-10-15 18:27:18.862 +02:00  DBG  Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-10-15 18:27:18.862 +02:00  DBG  Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-10-15 18:27:18.876 +02:00  INF  Executing action method Infeco.Api.Controllers.AppartementController.ModifierUnAppartementAsync (Infeco.Api) - Validation state: "Valid"
2023-10-15 18:27:18.883 +02:00  INF  Handling ModifierAppartementCommand
2023-10-15 18:27:18.884 +02:00  DBG  Entity Framework Core 7.0.11 initialized 'InfoEcoDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None
2023-10-15 18:27:19.629 +02:00  INF  Executed action Infeco.Api.Controllers.AppartementController.ModifierUnAppartementAsync (Infeco.Api) in 772.7119ms
2023-10-15 18:27:19.689 +02:00  INF  Executed endpoint 'Infeco.Api.Controllers.AppartementController.ModifierUnAppartementAsync (Infeco.Api)'
2023-10-15 18:27:19.828 +02:00  ERR  An unhandled exception has occurred while executing the request.System.Exception: Missing type map configuration or unsupported mapping.

Mapping types:
ModifierAppartementCommand -> AppartementEntite
Infeco.Api.Commands.Appartements.ModifierAppartementCommand -> Infoeco.infrastructure.Entities.AppartementEntite
   at Infeco.Api.Commands.Appartements.ModifierAppartementCommandHandler.ExecuteCommandeAsync(ModifierAppartementCommand commande, CancellationToken cancellationToken) in C:\Users\fdepret\source\repos\Infeco.api\Infeco.api\Commands\Appartements\ModifierAppartementCommandHandler.cs:line 34
   at Infeco.Api.Infrastructure.MediatR.CommandHandlerBase`1.Handle(TCommande commande, CancellationToken cancellationToken) in C:\Users\fdepret\source\repos\Infeco.api\Infeco.api\Infrastructure\MediatR\CommandHandlerBase.cs:line 41
   at Infeco.api.Infrastructure.MediatR.LoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\fdepret\source\repos\Infeco.api\Infeco.api\Infrastructure\MediatR\LoggingBehavior.cs:line 27
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at Infeco.Api.Controllers.AppartementController.ModifierUnAppartementAsync(Int32 id, ModifierAppartementCommand command, CancellationToken cancellationToken) in C:\Users\fdepret\source\repos\Infeco.api\Infeco.api\Controllers\AppartementController.cs:line 61
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)

2023-10-15 18:27:19.831 +02:00  DBG  'InfoEcoDbContext' disposed.
2023-10-15 18:27:19.831 +02:00  INF  Request finished HTTP/1.1 PUT https://localhost:44375/Appartements/11 application/json 30 - 500 - text/plain;+charset=utf-8 992.0660ms
2023-10-15 18:35:01.041 +02:00  DBG  Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-10-15 18:35:01.301 +02:00  DBG  An 'IServiceProvider' was created for internal use by Entity Framework.
2023-10-15 18:35:02.079 +02:00  DBG  Entity Framework Core 7.0.11 initialized 'InfoEcoDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None
2023-10-15 18:35:02.089 +02:00  DBG  Creating DbConnection.
2023-10-15 18:35:02.139 +02:00  DBG  Created DbConnection. (47ms).
2023-10-15 18:35:02.142 +02:00  DBG  Migrating using database 'pmjmvgha' on server ''.
2023-10-15 18:35:02.160 +02:00  DBG  Opening connection to database 'pmjmvgha' on server ''.
2023-10-15 18:35:02.689 +02:00  DBG  Opened connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:35:02.690 +02:00  DBG  Closing connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:35:02.700 +02:00  DBG  Closed connection to database 'pmjmvgha' on server '' (5ms).
2023-10-15 18:35:02.706 +02:00  DBG  Creating DbCommand for 'ExecuteScalar'.
2023-10-15 18:35:02.711 +02:00  DBG  Created DbCommand for 'ExecuteScalar' (3ms).
2023-10-15 18:35:02.712 +02:00  DBG  Initialized DbCommand for 'ExecuteScalar' (7ms).
2023-10-15 18:35:02.712 +02:00  DBG  Opening connection to database 'pmjmvgha' on server ''.
2023-10-15 18:35:03.094 +02:00  DBG  Opened connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:35:03.106 +02:00  DBG  Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-10-15 18:35:03.209 +02:00  INF  Executed DbCommand (106ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-10-15 18:35:03.211 +02:00  DBG  Closing connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:35:03.214 +02:00  DBG  Closed connection to database 'pmjmvgha' on server '' (2ms).
2023-10-15 18:35:03.215 +02:00  DBG  Opening connection to database 'pmjmvgha' on server ''.
2023-10-15 18:35:03.527 +02:00  DBG  Opened connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:35:03.527 +02:00  DBG  Closing connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:35:03.528 +02:00  DBG  Closed connection to database 'pmjmvgha' on server '' (0ms).
2023-10-15 18:35:03.528 +02:00  DBG  Creating DbCommand for 'ExecuteScalar'.
2023-10-15 18:35:03.529 +02:00  DBG  Created DbCommand for 'ExecuteScalar' (0ms).
2023-10-15 18:35:03.529 +02:00  DBG  Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-10-15 18:35:03.529 +02:00  DBG  Opening connection to database 'pmjmvgha' on server ''.
2023-10-15 18:35:03.530 +02:00  DBG  Opened connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:35:03.530 +02:00  DBG  Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-10-15 18:35:03.580 +02:00  INF  Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-10-15 18:35:03.580 +02:00  DBG  Closing connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:35:03.581 +02:00  DBG  Closed connection to database 'pmjmvgha' on server '' (0ms).
2023-10-15 18:35:03.598 +02:00  DBG  Creating DbCommand for 'ExecuteReader'.
2023-10-15 18:35:03.598 +02:00  DBG  Created DbCommand for 'ExecuteReader' (0ms).
2023-10-15 18:35:03.598 +02:00  DBG  Initialized DbCommand for 'ExecuteReader' (0ms).
2023-10-15 18:35:03.598 +02:00  DBG  Opening connection to database 'pmjmvgha' on server ''.
2023-10-15 18:35:03.598 +02:00  DBG  Opened connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:35:03.599 +02:00  DBG  Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-10-15 18:35:03.645 +02:00  INF  Executed DbCommand (46ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-10-15 18:35:03.651 +02:00  DBG  Closing data reader to 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:35:03.652 +02:00  DBG  A data reader for 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432' is being disposed after spending 5ms reading results.
2023-10-15 18:35:03.652 +02:00  DBG  Closing connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:35:03.653 +02:00  DBG  Closed connection to database 'pmjmvgha' on server '' (0ms).
2023-10-15 18:35:03.661 +02:00  INF  No migrations were applied. The database is already up to date.
2023-10-15 18:35:03.664 +02:00  DBG  'InfoEcoDbContext' disposed.
2023-10-15 18:35:03.665 +02:00  DBG  Disposing connection to database 'pmjmvgha' on server ''.
2023-10-15 18:35:03.666 +02:00  DBG  Disposed connection to database 'pmjmvgha' on server '' (0ms).
2023-10-15 18:35:03.668 +02:00  DBG  Hosting starting
2023-10-15 18:35:03.701 +02:00  INF  User profile is available. Using 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-10-15 18:35:03.705 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-2ce4c23f-757b-4029-95d3-9c9820e6de80.xml'.
2023-10-15 18:35:03.712 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-6921759b-a9f9-48ea-a379-13505875271d.xml'.
2023-10-15 18:35:03.712 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-7c4081c7-f341-4ce9-ad03-d3ea3cf1c21f.xml'.
2023-10-15 18:35:03.713 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-a038200a-44f7-48da-9d2b-5646ef68d51f.xml'.
2023-10-15 18:35:03.713 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-a642139e-629a-42ab-b89a-38ed4778f2e0.xml'.
2023-10-15 18:35:03.713 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-b1a02c3b-a417-45ff-ac5c-986fca4cdd22.xml'.
2023-10-15 18:35:03.714 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-b5a22f60-a6fe-488b-8048-b8d1034bef7d.xml'.
2023-10-15 18:35:03.714 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-b8996f88-e69f-41d1-b4d3-e7b15b37a5e2.xml'.
2023-10-15 18:35:03.718 +02:00  DBG  Found key {2ce4c23f-757b-4029-95d3-9c9820e6de80}.
2023-10-15 18:35:03.722 +02:00  DBG  Found key {6921759b-a9f9-48ea-a379-13505875271d}.
2023-10-15 18:35:03.723 +02:00  DBG  Found key {7c4081c7-f341-4ce9-ad03-d3ea3cf1c21f}.
2023-10-15 18:35:03.723 +02:00  DBG  Found key {a038200a-44f7-48da-9d2b-5646ef68d51f}.
2023-10-15 18:35:03.724 +02:00  DBG  Found key {a642139e-629a-42ab-b89a-38ed4778f2e0}.
2023-10-15 18:35:03.724 +02:00  DBG  Found key {b1a02c3b-a417-45ff-ac5c-986fca4cdd22}.
2023-10-15 18:35:03.724 +02:00  DBG  Found key {b5a22f60-a6fe-488b-8048-b8d1034bef7d}.
2023-10-15 18:35:03.724 +02:00  DBG  Found key {b8996f88-e69f-41d1-b4d3-e7b15b37a5e2}.
2023-10-15 18:35:03.732 +02:00  DBG  Considering key {6921759b-a9f9-48ea-a379-13505875271d} with expiration date 2023-11-22 12:55:42Z as default key.
2023-10-15 18:35:03.734 +02:00  DBG  Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-10-15 18:35:03.735 +02:00  DBG  Decrypting secret element using Windows DPAPI.
2023-10-15 18:35:03.737 +02:00  DBG  Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-10-15 18:35:03.738 +02:00  DBG  Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-10-15 18:35:03.740 +02:00  DBG  Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-10-15 18:35:03.742 +02:00  DBG  Using key {6921759b-a9f9-48ea-a379-13505875271d} as the default key.
2023-10-15 18:35:03.742 +02:00  DBG  Key ring with default key {6921759b-a9f9-48ea-a379-13505875271d} was loaded during application startup.
2023-10-15 18:35:03.812 +02:00  DBG  Loaded hosting startup assembly Infeco.Api
2023-10-15 18:35:03.812 +02:00  DBG  Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-10-15 18:35:03.812 +02:00  DBG  Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-10-15 18:35:03.819 +02:00  INF  Application started. Press Ctrl+C to shut down.
2023-10-15 18:35:03.819 +02:00  INF  Hosting environment: Development
2023-10-15 18:35:03.819 +02:00  INF  Content root path: C:\Users\fdepret\source\repos\Infeco.api\Infeco.api
2023-10-15 18:35:03.819 +02:00  DBG  Hosting started
2023-10-15 18:35:03.857 +02:00  INF  Request starting HTTP/2 GET https://localhost:44375/index.html - -
2023-10-15 18:35:03.887 +02:00  DBG  Wildcard detected, all requests with hosts will be allowed.
2023-10-15 18:35:03.931 +02:00  DBG  No candidates found for the request path '/index.html'
2023-10-15 18:35:03.931 +02:00  DBG  Request did not match any endpoints
2023-10-15 18:35:03.976 +02:00  DBG  AuthenticationScheme: Bearer was not authenticated.
2023-10-15 18:35:04.109 +02:00  DBG  Response markup is scheduled to include browser refresh script injection.
2023-10-15 18:35:06.264 +02:00  DBG  Response markup was updated to include browser refresh script injection.
2023-10-15 18:35:06.272 +02:00  DBG  Connection ID "18302628925899014149" disconnecting.
2023-10-15 18:35:06.281 +02:00  INF  Request finished HTTP/2 GET https://localhost:44375/index.html - - - 200 - text/html;charset=utf-8 2417.7296ms
2023-10-15 18:35:06.281 +02:00  INF  Request starting HTTP/2 GET https://localhost:44375/_framework/aspnetcore-browser-refresh.js - -
2023-10-15 18:35:06.288 +02:00  DBG  Connection ID "18374686524231909383" disconnecting.
2023-10-15 18:35:06.289 +02:00  INF  Request finished HTTP/2 GET https://localhost:44375/_framework/aspnetcore-browser-refresh.js - - - 200 12352 application/javascript;+charset=utf-8 6.3203ms
2023-10-15 18:35:06.369 +02:00  INF  Request starting HTTP/2 GET https://localhost:44375/swagger/v1/swagger.json - -
2023-10-15 18:35:06.370 +02:00  DBG  No candidates found for the request path '/swagger/v1/swagger.json'
2023-10-15 18:35:06.370 +02:00  DBG  Request did not match any endpoints
2023-10-15 18:35:06.371 +02:00  DBG  AuthenticationScheme: Bearer was not authenticated.
2023-10-15 18:35:06.609 +02:00  DBG  Connection ID "18302628913014112267" disconnecting.
2023-10-15 18:35:06.609 +02:00  INF  Request finished HTTP/2 GET https://localhost:44375/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 240.7931ms
2023-10-15 18:36:17.620 +02:00  INF  Request starting HTTP/1.1 PUT https://localhost:44375/Appartements/11 application/json 150
2023-10-15 18:36:17.623 +02:00  DBG  1 candidate(s) found for the request path '/Appartements/11'
2023-10-15 18:36:17.628 +02:00  DBG  Endpoint 'Infeco.Api.Controllers.AppartementController.ModifierUnAppartementAsync (Infeco.Api)' with route pattern 'appartements/{id:int}' is valid for the request path '/Appartements/11'
2023-10-15 18:36:17.630 +02:00  DBG  Request matched endpoint 'Infeco.Api.Controllers.AppartementController.ModifierUnAppartementAsync (Infeco.Api)'
2023-10-15 18:36:17.823 +02:00  INF  Failed to validate the token.Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '15/10/2023 16:30:46', Current time: '15/10/2023 16:36:17'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()

2023-10-15 18:36:17.837 +02:00  INF  Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '15/10/2023 16:30:46', Current time: '15/10/2023 16:36:17'.
2023-10-15 18:36:17.848 +02:00  INF  Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-10-15 18:36:17.853 +02:00  INF  AuthenticationScheme: Bearer was challenged.
2023-10-15 18:36:17.854 +02:00  INF  Request finished HTTP/1.1 PUT https://localhost:44375/Appartements/11 application/json 150 - 401 - - 234.7671ms
2023-10-15 18:36:24.790 +02:00  INF  Request starting HTTP/1.1 POST https://localhost:44375/login - 0
2023-10-15 18:36:24.790 +02:00  DBG  1 candidate(s) found for the request path '/login'
2023-10-15 18:36:24.790 +02:00  DBG  Endpoint 'IDSoft.CrmWelcome.Api.Controllers.ConnexionController.LoginAsync (Infeco.Api)' with route pattern 'login' is valid for the request path '/login'
2023-10-15 18:36:24.791 +02:00  DBG  Request matched endpoint 'IDSoft.CrmWelcome.Api.Controllers.ConnexionController.LoginAsync (Infeco.Api)'
2023-10-15 18:36:24.791 +02:00  DBG  AuthenticationScheme: Bearer was not authenticated.
2023-10-15 18:36:24.811 +02:00  DBG  Static files was skipped as the request already matched an endpoint.
2023-10-15 18:36:24.812 +02:00  INF  Executing endpoint 'IDSoft.CrmWelcome.Api.Controllers.ConnexionController.LoginAsync (Infeco.Api)'
2023-10-15 18:36:24.856 +02:00  INF  Route matched with {action = "Login", controller = "Connexion"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginAsync(System.Threading.CancellationToken) on controller IDSoft.CrmWelcome.Api.Controllers.ConnexionController (Infeco.Api).
2023-10-15 18:36:24.858 +02:00  DBG  Execution plan of authorization filters (in the following order): ["None"]
2023-10-15 18:36:24.858 +02:00  DBG  Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2023-10-15 18:36:24.859 +02:00  DBG  Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2023-10-15 18:36:24.859 +02:00  DBG  Execution plan of exception filters (in the following order): ["None"]
2023-10-15 18:36:24.859 +02:00  DBG  Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2023-10-15 18:36:24.861 +02:00  DBG  Executing controller factory for controller IDSoft.CrmWelcome.Api.Controllers.ConnexionController (Infeco.Api)
2023-10-15 18:36:24.863 +02:00  DBG  Executed controller factory for controller IDSoft.CrmWelcome.Api.Controllers.ConnexionController (Infeco.Api)
2023-10-15 18:36:24.871 +02:00  DBG  Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-10-15 18:36:24.874 +02:00  DBG  Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-10-15 18:36:24.874 +02:00  DBG  Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-10-15 18:36:24.876 +02:00  DBG  Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-10-15 18:36:24.934 +02:00  INF  Executing action method IDSoft.CrmWelcome.Api.Controllers.ConnexionController.LoginAsync (Infeco.Api) - Validation state: "Valid"
2023-10-15 18:36:27.966 +02:00  INF  Handling ObtenirUtilisateurParIdentifiantEtMotDePasseQuery
2023-10-15 18:36:27.995 +02:00  DBG  Entity Framework Core 7.0.11 initialized 'InfoEcoDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None
2023-10-15 18:36:31.248 +02:00  DBG  Compiling query expression: 
'DbSet<UtilisateurEntite>()
    .FirstOrDefault(u => u.Courriel == __identifiant_0 && u.Passe == __motDePasse_1)'
2023-10-15 18:36:31.490 +02:00  DBG  Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UtilisateurEntite>(
    asyncEnumerable: new SingleQueryingEnumerable<UtilisateurEntite>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UtilisateurEntite.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UtilisateurEntite.AgenceImmobiliereId (int) Required FK Index, 1], [Property: UtilisateurEntite.Courriel (string) Required Index MaxLength(255), 2], [Property: UtilisateurEntite.CreeLe (DateTime) Required, 3], [Property: UtilisateurEntite.EstActif (bool) Required, 4], [Property: UtilisateurEntite.ModifieLe (DateTime?), 5], [Property: UtilisateurEntite.Nom (string) Required MaxLength(255), 6], [Property: UtilisateurEntite.Passe (string) Required MaxLength(255), 7], [Property: UtilisateurEntite.Prenom (string) Required MaxLength(255), 8] }
            SELECT TOP(1) u.Id, u.AgenceImmobiliereId, u.Courriel, u.CreeLe, u.EstActif, u.ModifieLe, u.Nom, u.Passe, u.Prenom
            FROM Utilisateur AS u
            WHERE (u.Courriel == @__identifiant_0) && (u.Passe == @__motDePasse_1)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UtilisateurEntite>, 
        Infoeco.infrastructure.InfoEcoDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-10-15 18:36:31.539 +02:00  DBG  Creating DbCommand for 'ExecuteReader'.
2023-10-15 18:36:31.539 +02:00  DBG  Creating DbConnection.
2023-10-15 18:36:31.539 +02:00  DBG  Created DbConnection. (0ms).
2023-10-15 18:36:31.539 +02:00  DBG  Created DbCommand for 'ExecuteReader' (0ms).
2023-10-15 18:36:31.542 +02:00  DBG  Initialized DbCommand for 'ExecuteReader' (3ms).
2023-10-15 18:36:31.546 +02:00  DBG  Opening connection to database 'pmjmvgha' on server ''.
2023-10-15 18:36:31.549 +02:00  DBG  Opened connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:36:31.552 +02:00  DBG  Executing DbCommand [Parameters=[@__identifiant_0='?', @__motDePasse_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."AgenceImmobiliereId", u."Courriel", u."CreeLe", u."EstActif", u."ModifieLe", u."Nom", u."Passe", u."Prenom"
FROM "Utilisateur" AS u
WHERE u."Courriel" = @__identifiant_0 AND u."Passe" = @__motDePasse_1
LIMIT 1
2023-10-15 18:36:31.623 +02:00  INF  Executed DbCommand (73ms) [Parameters=[@__identifiant_0='?', @__motDePasse_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."AgenceImmobiliereId", u."Courriel", u."CreeLe", u."EstActif", u."ModifieLe", u."Nom", u."Passe", u."Prenom"
FROM "Utilisateur" AS u
WHERE u."Courriel" = @__identifiant_0 AND u."Passe" = @__motDePasse_1
LIMIT 1
2023-10-15 18:36:31.695 +02:00  DBG  Context 'InfoEcoDbContext' started tracking 'UtilisateurEntite' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-15 18:36:31.770 +02:00  DBG  Closing data reader to 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:36:31.771 +02:00  DBG  A data reader for 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432' is being disposed after spending 147ms reading results.
2023-10-15 18:36:31.774 +02:00  DBG  Closing connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:36:31.775 +02:00  DBG  Closed connection to database 'pmjmvgha' on server '' (0ms).
2023-10-15 18:36:31.787 +02:00  INF  Handled DetailUtilisateurResponse
2023-10-15 18:36:31.791 +02:00  INF  Information : POST https://localhost:44375/login from '::1:56902' responded 200 in 3821,8428 ms
2023-10-15 18:36:31.836 +02:00  INF  Executed action method IDSoft.CrmWelcome.Api.Controllers.ConnexionController.LoginAsync (Infeco.Api), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 6897.721ms.
2023-10-15 18:36:31.847 +02:00  DBG  List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-10-15 18:36:31.849 +02:00  DBG  No information found on request to perform content negotiation.
2023-10-15 18:36:31.850 +02:00  DBG  Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/json"]'.
2023-10-15 18:36:31.852 +02:00  DBG  Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-10-15 18:36:31.853 +02:00  INF  Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-10-15 18:36:31.991 +02:00  INF  Executed action IDSoft.CrmWelcome.Api.Controllers.ConnexionController.LoginAsync (Infeco.Api) in 7127.5817ms
2023-10-15 18:36:31.992 +02:00  INF  Executed endpoint 'IDSoft.CrmWelcome.Api.Controllers.ConnexionController.LoginAsync (Infeco.Api)'
2023-10-15 18:36:31.994 +02:00  DBG  'InfoEcoDbContext' disposed.
2023-10-15 18:36:31.999 +02:00  DBG  Disposing connection to database 'pmjmvgha' on server ''.
2023-10-15 18:36:32.001 +02:00  DBG  Disposed connection to database 'pmjmvgha' on server '' (2ms).
2023-10-15 18:36:32.002 +02:00  INF  Request finished HTTP/1.1 POST https://localhost:44375/login - 0 - 200 517 application/json;+charset=utf-8 7212.1090ms
2023-10-15 18:36:46.569 +02:00  INF  Request starting HTTP/1.1 PUT https://localhost:44375/Appartements/11 application/json 150
2023-10-15 18:36:46.569 +02:00  DBG  1 candidate(s) found for the request path '/Appartements/11'
2023-10-15 18:36:46.570 +02:00  DBG  Endpoint 'Infeco.Api.Controllers.AppartementController.ModifierUnAppartementAsync (Infeco.Api)' with route pattern 'appartements/{id:int}' is valid for the request path '/Appartements/11'
2023-10-15 18:36:46.570 +02:00  DBG  Request matched endpoint 'Infeco.Api.Controllers.AppartementController.ModifierUnAppartementAsync (Infeco.Api)'
2023-10-15 18:36:46.579 +02:00  DBG  Successfully validated the token.
2023-10-15 18:36:46.581 +02:00  DBG  AuthenticationScheme: Bearer was successfully authenticated.
2023-10-15 18:36:46.584 +02:00  DBG  Authorization was successful.
2023-10-15 18:36:46.585 +02:00  DBG  Static files was skipped as the request already matched an endpoint.
2023-10-15 18:36:46.585 +02:00  INF  Executing endpoint 'Infeco.Api.Controllers.AppartementController.ModifierUnAppartementAsync (Infeco.Api)'
2023-10-15 18:36:46.591 +02:00  INF  Route matched with {action = "ModifierUnAppartement", controller = "Appartement"}. Executing controller action with signature System.Threading.Tasks.Task ModifierUnAppartementAsync(Int32, Infeco.Api.Commands.Appartements.ModifierAppartementCommand, System.Threading.CancellationToken) on controller Infeco.Api.Controllers.AppartementController (Infeco.Api).
2023-10-15 18:36:46.591 +02:00  DBG  Execution plan of authorization filters (in the following order): ["None"]
2023-10-15 18:36:46.592 +02:00  DBG  Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2023-10-15 18:36:46.592 +02:00  DBG  Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2023-10-15 18:36:46.592 +02:00  DBG  Execution plan of exception filters (in the following order): ["None"]
2023-10-15 18:36:46.592 +02:00  DBG  Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2023-10-15 18:36:46.592 +02:00  DBG  Executing controller factory for controller Infeco.Api.Controllers.AppartementController (Infeco.Api)
2023-10-15 18:36:46.593 +02:00  DBG  Executed controller factory for controller Infeco.Api.Controllers.AppartementController (Infeco.Api)
2023-10-15 18:36:46.594 +02:00  DBG  Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-10-15 18:36:46.596 +02:00  DBG  Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-10-15 18:36:46.597 +02:00  DBG  Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-10-15 18:36:46.597 +02:00  DBG  Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-10-15 18:36:46.597 +02:00  DBG  Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-10-15 18:36:46.599 +02:00  DBG  Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-10-15 18:36:46.599 +02:00  DBG  Attempting to bind parameter 'command' of type 'Infeco.Api.Commands.Appartements.ModifierAppartementCommand' ...
2023-10-15 18:36:46.600 +02:00  DBG  Attempting to bind parameter 'command' of type 'Infeco.Api.Commands.Appartements.ModifierAppartementCommand' using the name '' in request data ...
2023-10-15 18:36:46.602 +02:00  DBG  Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-10-15 18:36:46.602 +02:00  DBG  Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-10-15 18:36:46.640 +02:00  DBG  Done attempting to bind parameter 'command' of type 'Infeco.Api.Commands.Appartements.ModifierAppartementCommand'.
2023-10-15 18:36:46.640 +02:00  DBG  Done attempting to bind parameter 'command' of type 'Infeco.Api.Commands.Appartements.ModifierAppartementCommand'.
2023-10-15 18:36:46.640 +02:00  DBG  Attempting to validate the bound parameter 'command' of type 'Infeco.Api.Commands.Appartements.ModifierAppartementCommand' ...
2023-10-15 18:36:46.651 +02:00  DBG  Done attempting to validate the bound parameter 'command' of type 'Infeco.Api.Commands.Appartements.ModifierAppartementCommand'.
2023-10-15 18:36:46.651 +02:00  DBG  Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-10-15 18:36:46.651 +02:00  DBG  Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-10-15 18:36:46.651 +02:00  DBG  Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-10-15 18:36:46.652 +02:00  DBG  Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-10-15 18:36:46.668 +02:00  INF  Executing action method Infeco.Api.Controllers.AppartementController.ModifierUnAppartementAsync (Infeco.Api) - Validation state: "Valid"
2023-10-15 18:36:46.701 +02:00  INF  Handling ModifierAppartementCommand
2023-10-15 18:36:46.753 +02:00  DBG  Entity Framework Core 7.0.11 initialized 'InfoEcoDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None
2023-10-15 18:36:48.714 +02:00  DBG  Compiling query expression: 
'DbSet<AppartementEntite>()
    .FirstOrDefault(u => u.Id == __id_0)'
2023-10-15 18:36:48.728 +02:00  DBG  Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<AppartementEntite>(
    asyncEnumerable: new SingleQueryingEnumerable<AppartementEntite>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: AppartementEntite.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: AppartementEntite.Adresse (string), 1], [Property: AppartementEntite.AgenceImmobiliereId (int) Required FK Index, 2], [Property: AppartementEntite.ComplementAdresse (string), 3], [Property: AppartementEntite.CreeLe (DateTime) Required, 4], [Property: AppartementEntite.DepotDeGarantie (double) Required, 5], [Property: AppartementEntite.Loyer (double) Required, 6], [Property: AppartementEntite.ModifieLe (DateTime?), 7], [Property: AppartementEntite.NombreDeMetre2 (double) Required, 8], [Property: AppartementEntite.PrixDesCharges (double) Required, 9], [Property: AppartementEntite.TypeAppartementId (int?) FK Index, 10], [Property: AppartementEntite.VilleId (int) Required FK Index, 11] }
            SELECT TOP(1) a.Id, a.Adresse, a.AgenceImmobiliereId, a.ComplementAdresse, a.CreeLe, a.DepotDeGarantie, a.Loyer, a.ModifieLe, a.NombreDeMetre2, a.PrixDesCharges, a.TypeAppartementId, a.VilleId
            FROM Appartement AS a
            WHERE a.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, AppartementEntite>, 
        Infoeco.infrastructure.InfoEcoDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-10-15 18:36:48.730 +02:00  DBG  Creating DbCommand for 'ExecuteReader'.
2023-10-15 18:36:48.730 +02:00  DBG  Creating DbConnection.
2023-10-15 18:36:48.730 +02:00  DBG  Created DbConnection. (0ms).
2023-10-15 18:36:48.730 +02:00  DBG  Created DbCommand for 'ExecuteReader' (0ms).
2023-10-15 18:36:48.730 +02:00  DBG  Initialized DbCommand for 'ExecuteReader' (0ms).
2023-10-15 18:36:48.731 +02:00  DBG  Opening connection to database 'pmjmvgha' on server ''.
2023-10-15 18:36:48.731 +02:00  DBG  Opened connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:36:48.731 +02:00  DBG  Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."Adresse", a."AgenceImmobiliereId", a."ComplementAdresse", a."CreeLe", a."DepotDeGarantie", a."Loyer", a."ModifieLe", a."NombreDeMetre2", a."PrixDesCharges", a."TypeAppartementId", a."VilleId"
FROM "Appartement" AS a
WHERE a."Id" = @__id_0
LIMIT 1
2023-10-15 18:36:48.784 +02:00  INF  Executed DbCommand (52ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."Adresse", a."AgenceImmobiliereId", a."ComplementAdresse", a."CreeLe", a."DepotDeGarantie", a."Loyer", a."ModifieLe", a."NombreDeMetre2", a."PrixDesCharges", a."TypeAppartementId", a."VilleId"
FROM "Appartement" AS a
WHERE a."Id" = @__id_0
LIMIT 1
2023-10-15 18:36:48.797 +02:00  DBG  Context 'InfoEcoDbContext' started tracking 'AppartementEntite' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-15 18:36:48.829 +02:00  DBG  Closing data reader to 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:36:48.829 +02:00  DBG  A data reader for 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432' is being disposed after spending 45ms reading results.
2023-10-15 18:36:48.829 +02:00  DBG  Closing connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:36:48.830 +02:00  DBG  Closed connection to database 'pmjmvgha' on server '' (0ms).
2023-10-15 18:38:18.767 +02:00  DBG  Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-10-15 18:38:19.014 +02:00  DBG  An 'IServiceProvider' was created for internal use by Entity Framework.
2023-10-15 18:38:19.753 +02:00  DBG  Entity Framework Core 7.0.11 initialized 'InfoEcoDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None
2023-10-15 18:38:19.764 +02:00  DBG  Creating DbConnection.
2023-10-15 18:38:19.819 +02:00  DBG  Created DbConnection. (51ms).
2023-10-15 18:38:19.822 +02:00  DBG  Migrating using database 'pmjmvgha' on server ''.
2023-10-15 18:38:19.841 +02:00  DBG  Opening connection to database 'pmjmvgha' on server ''.
2023-10-15 18:38:20.332 +02:00  DBG  Opened connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:38:20.334 +02:00  DBG  Closing connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:38:20.343 +02:00  DBG  Closed connection to database 'pmjmvgha' on server '' (6ms).
2023-10-15 18:38:20.349 +02:00  DBG  Creating DbCommand for 'ExecuteScalar'.
2023-10-15 18:38:20.354 +02:00  DBG  Created DbCommand for 'ExecuteScalar' (2ms).
2023-10-15 18:38:20.355 +02:00  DBG  Initialized DbCommand for 'ExecuteScalar' (6ms).
2023-10-15 18:38:20.355 +02:00  DBG  Opening connection to database 'pmjmvgha' on server ''.
2023-10-15 18:38:20.700 +02:00  DBG  Opened connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:38:20.706 +02:00  DBG  Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-10-15 18:38:20.781 +02:00  INF  Executed DbCommand (76ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-10-15 18:38:20.782 +02:00  DBG  Closing connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:38:20.784 +02:00  DBG  Closed connection to database 'pmjmvgha' on server '' (1ms).
2023-10-15 18:38:20.784 +02:00  DBG  Opening connection to database 'pmjmvgha' on server ''.
2023-10-15 18:38:21.083 +02:00  DBG  Opened connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:38:21.084 +02:00  DBG  Closing connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:38:21.084 +02:00  DBG  Closed connection to database 'pmjmvgha' on server '' (0ms).
2023-10-15 18:38:21.085 +02:00  DBG  Creating DbCommand for 'ExecuteScalar'.
2023-10-15 18:38:21.085 +02:00  DBG  Created DbCommand for 'ExecuteScalar' (0ms).
2023-10-15 18:38:21.085 +02:00  DBG  Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-10-15 18:38:21.085 +02:00  DBG  Opening connection to database 'pmjmvgha' on server ''.
2023-10-15 18:38:21.085 +02:00  DBG  Opened connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:38:21.085 +02:00  DBG  Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-10-15 18:38:21.131 +02:00  INF  Executed DbCommand (46ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-10-15 18:38:21.132 +02:00  DBG  Closing connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:38:21.132 +02:00  DBG  Closed connection to database 'pmjmvgha' on server '' (0ms).
2023-10-15 18:38:21.148 +02:00  DBG  Creating DbCommand for 'ExecuteReader'.
2023-10-15 18:38:21.148 +02:00  DBG  Created DbCommand for 'ExecuteReader' (0ms).
2023-10-15 18:38:21.148 +02:00  DBG  Initialized DbCommand for 'ExecuteReader' (0ms).
2023-10-15 18:38:21.148 +02:00  DBG  Opening connection to database 'pmjmvgha' on server ''.
2023-10-15 18:38:21.148 +02:00  DBG  Opened connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:38:21.149 +02:00  DBG  Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-10-15 18:38:21.195 +02:00  INF  Executed DbCommand (46ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-10-15 18:38:21.200 +02:00  DBG  Closing data reader to 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:38:21.202 +02:00  DBG  A data reader for 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432' is being disposed after spending 5ms reading results.
2023-10-15 18:38:21.202 +02:00  DBG  Closing connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:38:21.202 +02:00  DBG  Closed connection to database 'pmjmvgha' on server '' (0ms).
2023-10-15 18:38:21.211 +02:00  INF  No migrations were applied. The database is already up to date.
2023-10-15 18:38:21.213 +02:00  DBG  'InfoEcoDbContext' disposed.
2023-10-15 18:38:21.214 +02:00  DBG  Disposing connection to database 'pmjmvgha' on server ''.
2023-10-15 18:38:21.215 +02:00  DBG  Disposed connection to database 'pmjmvgha' on server '' (0ms).
2023-10-15 18:38:21.217 +02:00  DBG  Hosting starting
2023-10-15 18:38:21.249 +02:00  INF  User profile is available. Using 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-10-15 18:38:21.254 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-2ce4c23f-757b-4029-95d3-9c9820e6de80.xml'.
2023-10-15 18:38:21.261 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-6921759b-a9f9-48ea-a379-13505875271d.xml'.
2023-10-15 18:38:21.262 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-7c4081c7-f341-4ce9-ad03-d3ea3cf1c21f.xml'.
2023-10-15 18:38:21.262 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-a038200a-44f7-48da-9d2b-5646ef68d51f.xml'.
2023-10-15 18:38:21.262 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-a642139e-629a-42ab-b89a-38ed4778f2e0.xml'.
2023-10-15 18:38:21.262 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-b1a02c3b-a417-45ff-ac5c-986fca4cdd22.xml'.
2023-10-15 18:38:21.263 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-b5a22f60-a6fe-488b-8048-b8d1034bef7d.xml'.
2023-10-15 18:38:21.263 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-b8996f88-e69f-41d1-b4d3-e7b15b37a5e2.xml'.
2023-10-15 18:38:21.266 +02:00  DBG  Found key {2ce4c23f-757b-4029-95d3-9c9820e6de80}.
2023-10-15 18:38:21.271 +02:00  DBG  Found key {6921759b-a9f9-48ea-a379-13505875271d}.
2023-10-15 18:38:21.272 +02:00  DBG  Found key {7c4081c7-f341-4ce9-ad03-d3ea3cf1c21f}.
2023-10-15 18:38:21.272 +02:00  DBG  Found key {a038200a-44f7-48da-9d2b-5646ef68d51f}.
2023-10-15 18:38:21.272 +02:00  DBG  Found key {a642139e-629a-42ab-b89a-38ed4778f2e0}.
2023-10-15 18:38:21.272 +02:00  DBG  Found key {b1a02c3b-a417-45ff-ac5c-986fca4cdd22}.
2023-10-15 18:38:21.272 +02:00  DBG  Found key {b5a22f60-a6fe-488b-8048-b8d1034bef7d}.
2023-10-15 18:38:21.272 +02:00  DBG  Found key {b8996f88-e69f-41d1-b4d3-e7b15b37a5e2}.
2023-10-15 18:38:21.279 +02:00  DBG  Considering key {6921759b-a9f9-48ea-a379-13505875271d} with expiration date 2023-11-22 12:55:42Z as default key.
2023-10-15 18:38:21.281 +02:00  DBG  Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-10-15 18:38:21.281 +02:00  DBG  Decrypting secret element using Windows DPAPI.
2023-10-15 18:38:21.283 +02:00  DBG  Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-10-15 18:38:21.284 +02:00  DBG  Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-10-15 18:38:21.286 +02:00  DBG  Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-10-15 18:38:21.288 +02:00  DBG  Using key {6921759b-a9f9-48ea-a379-13505875271d} as the default key.
2023-10-15 18:38:21.289 +02:00  DBG  Key ring with default key {6921759b-a9f9-48ea-a379-13505875271d} was loaded during application startup.
2023-10-15 18:38:21.360 +02:00  DBG  Loaded hosting startup assembly Infeco.Api
2023-10-15 18:38:21.365 +02:00  DBG  Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-10-15 18:38:21.365 +02:00  DBG  Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-10-15 18:38:21.366 +02:00  INF  Application started. Press Ctrl+C to shut down.
2023-10-15 18:38:21.366 +02:00  INF  Hosting environment: Development
2023-10-15 18:38:21.367 +02:00  INF  Content root path: C:\Users\fdepret\source\repos\Infeco.api\Infeco.api
2023-10-15 18:38:21.367 +02:00  DBG  Hosting started
2023-10-15 18:38:21.407 +02:00  INF  Request starting HTTP/2 GET https://localhost:44375/index.html - -
2023-10-15 18:38:21.437 +02:00  DBG  Wildcard detected, all requests with hosts will be allowed.
2023-10-15 18:38:21.481 +02:00  DBG  No candidates found for the request path '/index.html'
2023-10-15 18:38:21.481 +02:00  DBG  Request did not match any endpoints
2023-10-15 18:38:21.523 +02:00  DBG  AuthenticationScheme: Bearer was not authenticated.
2023-10-15 18:38:21.652 +02:00  DBG  Response markup is scheduled to include browser refresh script injection.
2023-10-15 18:38:23.818 +02:00  DBG  Response markup was updated to include browser refresh script injection.
2023-10-15 18:38:23.835 +02:00  DBG  Connection ID "18230571314681217027" disconnecting.
2023-10-15 18:38:23.836 +02:00  INF  Request starting HTTP/2 GET https://localhost:44375/_framework/aspnetcore-browser-refresh.js - -
2023-10-15 18:38:23.837 +02:00  INF  Request finished HTTP/2 GET https://localhost:44375/index.html - - - 200 - text/html;charset=utf-8 2431.0082ms
2023-10-15 18:38:23.849 +02:00  DBG  Connection ID "18158513716348321795" disconnecting.
2023-10-15 18:38:23.850 +02:00  INF  Request finished HTTP/2 GET https://localhost:44375/_framework/aspnetcore-browser-refresh.js - - - 200 12352 application/javascript;+charset=utf-8 6.1479ms
2023-10-15 18:38:23.927 +02:00  INF  Request starting HTTP/2 GET https://localhost:44375/swagger/v1/swagger.json - -
2023-10-15 18:38:23.929 +02:00  DBG  No candidates found for the request path '/swagger/v1/swagger.json'
2023-10-15 18:38:23.929 +02:00  DBG  Request did not match any endpoints
2023-10-15 18:38:23.932 +02:00  DBG  AuthenticationScheme: Bearer was not authenticated.
2023-10-15 18:38:24.207 +02:00  DBG  Connection ID "18158513716348321797" disconnecting.
2023-10-15 18:38:24.207 +02:00  INF  Request finished HTTP/2 GET https://localhost:44375/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 280.6453ms
2023-10-15 18:38:30.094 +02:00  INF  Request starting HTTP/1.1 PUT https://localhost:44375/Appartements/11 application/json 150
2023-10-15 18:38:30.098 +02:00  DBG  1 candidate(s) found for the request path '/Appartements/11'
2023-10-15 18:38:30.102 +02:00  DBG  Endpoint 'Infeco.Api.Controllers.AppartementController.ModifierUnAppartementAsync (Infeco.Api)' with route pattern 'appartements/{id:int}' is valid for the request path '/Appartements/11'
2023-10-15 18:38:30.103 +02:00  DBG  Request matched endpoint 'Infeco.Api.Controllers.AppartementController.ModifierUnAppartementAsync (Infeco.Api)'
2023-10-15 18:38:30.263 +02:00  DBG  Successfully validated the token.
2023-10-15 18:38:30.265 +02:00  DBG  AuthenticationScheme: Bearer was successfully authenticated.
2023-10-15 18:38:30.274 +02:00  DBG  Authorization was successful.
2023-10-15 18:38:30.276 +02:00  DBG  Static files was skipped as the request already matched an endpoint.
2023-10-15 18:38:30.277 +02:00  INF  Executing endpoint 'Infeco.Api.Controllers.AppartementController.ModifierUnAppartementAsync (Infeco.Api)'
2023-10-15 18:38:30.313 +02:00  INF  Route matched with {action = "ModifierUnAppartement", controller = "Appartement"}. Executing controller action with signature System.Threading.Tasks.Task ModifierUnAppartementAsync(Int32, Infeco.Api.Commands.Appartements.ModifierAppartementCommand, System.Threading.CancellationToken) on controller Infeco.Api.Controllers.AppartementController (Infeco.Api).
2023-10-15 18:38:30.314 +02:00  DBG  Execution plan of authorization filters (in the following order): ["None"]
2023-10-15 18:38:30.315 +02:00  DBG  Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2023-10-15 18:38:30.315 +02:00  DBG  Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2023-10-15 18:38:30.315 +02:00  DBG  Execution plan of exception filters (in the following order): ["None"]
2023-10-15 18:38:30.315 +02:00  DBG  Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2023-10-15 18:38:30.318 +02:00  DBG  Executing controller factory for controller Infeco.Api.Controllers.AppartementController (Infeco.Api)
2023-10-15 18:38:30.319 +02:00  DBG  Executed controller factory for controller Infeco.Api.Controllers.AppartementController (Infeco.Api)
2023-10-15 18:38:30.325 +02:00  DBG  Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-10-15 18:38:30.329 +02:00  DBG  Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-10-15 18:38:30.330 +02:00  DBG  Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-10-15 18:38:30.330 +02:00  DBG  Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-10-15 18:38:30.330 +02:00  DBG  Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-10-15 18:38:30.334 +02:00  DBG  Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-10-15 18:38:30.336 +02:00  DBG  Attempting to bind parameter 'command' of type 'Infeco.Api.Commands.Appartements.ModifierAppartementCommand' ...
2023-10-15 18:38:30.338 +02:00  DBG  Attempting to bind parameter 'command' of type 'Infeco.Api.Commands.Appartements.ModifierAppartementCommand' using the name '' in request data ...
2023-10-15 18:38:30.339 +02:00  DBG  Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-10-15 18:38:30.339 +02:00  DBG  Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-10-15 18:38:30.446 +02:00  DBG  Done attempting to bind parameter 'command' of type 'Infeco.Api.Commands.Appartements.ModifierAppartementCommand'.
2023-10-15 18:38:30.446 +02:00  DBG  Done attempting to bind parameter 'command' of type 'Infeco.Api.Commands.Appartements.ModifierAppartementCommand'.
2023-10-15 18:38:30.446 +02:00  DBG  Attempting to validate the bound parameter 'command' of type 'Infeco.Api.Commands.Appartements.ModifierAppartementCommand' ...
2023-10-15 18:38:30.462 +02:00  DBG  Done attempting to validate the bound parameter 'command' of type 'Infeco.Api.Commands.Appartements.ModifierAppartementCommand'.
2023-10-15 18:38:30.462 +02:00  DBG  Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-10-15 18:38:30.463 +02:00  DBG  Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-10-15 18:38:30.463 +02:00  DBG  Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-10-15 18:38:30.463 +02:00  DBG  Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-10-15 18:38:30.555 +02:00  INF  Executing action method Infeco.Api.Controllers.AppartementController.ModifierUnAppartementAsync (Infeco.Api) - Validation state: "Valid"
2023-10-15 18:38:30.632 +02:00  INF  Handling ModifierAppartementCommand
2023-10-15 18:38:30.661 +02:00  DBG  Entity Framework Core 7.0.11 initialized 'InfoEcoDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None
2023-10-15 18:38:32.971 +02:00  DBG  Compiling query expression: 
'DbSet<AppartementEntite>()
    .FirstOrDefault(u => u.Id == __id_0)'
2023-10-15 18:38:33.254 +02:00  DBG  Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<AppartementEntite>(
    asyncEnumerable: new SingleQueryingEnumerable<AppartementEntite>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: AppartementEntite.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: AppartementEntite.Adresse (string), 1], [Property: AppartementEntite.AgenceImmobiliereId (int) Required FK Index, 2], [Property: AppartementEntite.ComplementAdresse (string), 3], [Property: AppartementEntite.CreeLe (DateTime) Required, 4], [Property: AppartementEntite.DepotDeGarantie (double) Required, 5], [Property: AppartementEntite.Loyer (double) Required, 6], [Property: AppartementEntite.ModifieLe (DateTime?), 7], [Property: AppartementEntite.NombreDeMetre2 (double) Required, 8], [Property: AppartementEntite.PrixDesCharges (double) Required, 9], [Property: AppartementEntite.TypeAppartementId (int?) FK Index, 10], [Property: AppartementEntite.VilleId (int) Required FK Index, 11] }
            SELECT TOP(1) a.Id, a.Adresse, a.AgenceImmobiliereId, a.ComplementAdresse, a.CreeLe, a.DepotDeGarantie, a.Loyer, a.ModifieLe, a.NombreDeMetre2, a.PrixDesCharges, a.TypeAppartementId, a.VilleId
            FROM Appartement AS a
            WHERE a.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, AppartementEntite>, 
        Infoeco.infrastructure.InfoEcoDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-10-15 18:38:33.299 +02:00  DBG  Creating DbCommand for 'ExecuteReader'.
2023-10-15 18:38:33.300 +02:00  DBG  Creating DbConnection.
2023-10-15 18:38:33.300 +02:00  DBG  Created DbConnection. (0ms).
2023-10-15 18:38:33.300 +02:00  DBG  Created DbCommand for 'ExecuteReader' (0ms).
2023-10-15 18:38:33.304 +02:00  DBG  Initialized DbCommand for 'ExecuteReader' (4ms).
2023-10-15 18:38:33.309 +02:00  DBG  Opening connection to database 'pmjmvgha' on server ''.
2023-10-15 18:38:33.311 +02:00  DBG  Opened connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:38:33.314 +02:00  DBG  Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."Adresse", a."AgenceImmobiliereId", a."ComplementAdresse", a."CreeLe", a."DepotDeGarantie", a."Loyer", a."ModifieLe", a."NombreDeMetre2", a."PrixDesCharges", a."TypeAppartementId", a."VilleId"
FROM "Appartement" AS a
WHERE a."Id" = @__id_0
LIMIT 1
2023-10-15 18:38:33.385 +02:00  INF  Executed DbCommand (73ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."Adresse", a."AgenceImmobiliereId", a."ComplementAdresse", a."CreeLe", a."DepotDeGarantie", a."Loyer", a."ModifieLe", a."NombreDeMetre2", a."PrixDesCharges", a."TypeAppartementId", a."VilleId"
FROM "Appartement" AS a
WHERE a."Id" = @__id_0
LIMIT 1
2023-10-15 18:38:33.439 +02:00  DBG  Context 'InfoEcoDbContext' started tracking 'AppartementEntite' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-15 18:38:33.512 +02:00  DBG  Closing data reader to 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:38:33.512 +02:00  DBG  A data reader for 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432' is being disposed after spending 127ms reading results.
2023-10-15 18:38:33.517 +02:00  DBG  Closing connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:38:33.518 +02:00  DBG  Closed connection to database 'pmjmvgha' on server '' (1ms).
2023-10-15 18:39:21.026 +02:00  DBG  DetectChanges starting for 'InfoEcoDbContext'.
2023-10-15 18:39:21.058 +02:00  DBG  DetectChanges completed for 'InfoEcoDbContext'.
2023-10-15 18:41:04.625 +02:00  DBG  Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-10-15 18:41:04.886 +02:00  DBG  An 'IServiceProvider' was created for internal use by Entity Framework.
2023-10-15 18:41:05.728 +02:00  DBG  Entity Framework Core 7.0.11 initialized 'InfoEcoDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None
2023-10-15 18:41:05.740 +02:00  DBG  Creating DbConnection.
2023-10-15 18:41:05.785 +02:00  DBG  Created DbConnection. (42ms).
2023-10-15 18:41:05.788 +02:00  DBG  Migrating using database 'pmjmvgha' on server ''.
2023-10-15 18:41:05.805 +02:00  DBG  Opening connection to database 'pmjmvgha' on server ''.
2023-10-15 18:41:06.414 +02:00  DBG  Opened connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:41:06.418 +02:00  DBG  Closing connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:41:06.444 +02:00  DBG  Closed connection to database 'pmjmvgha' on server '' (17ms).
2023-10-15 18:41:06.455 +02:00  DBG  Creating DbCommand for 'ExecuteScalar'.
2023-10-15 18:41:06.463 +02:00  DBG  Created DbCommand for 'ExecuteScalar' (5ms).
2023-10-15 18:41:06.466 +02:00  DBG  Initialized DbCommand for 'ExecuteScalar' (13ms).
2023-10-15 18:41:06.466 +02:00  DBG  Opening connection to database 'pmjmvgha' on server ''.
2023-10-15 18:41:06.868 +02:00  DBG  Opened connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:41:06.880 +02:00  DBG  Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-10-15 18:41:06.975 +02:00  INF  Executed DbCommand (93ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-10-15 18:41:06.976 +02:00  DBG  Closing connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:41:06.979 +02:00  DBG  Closed connection to database 'pmjmvgha' on server '' (2ms).
2023-10-15 18:41:06.980 +02:00  DBG  Opening connection to database 'pmjmvgha' on server ''.
2023-10-15 18:41:07.276 +02:00  DBG  Opened connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:41:07.276 +02:00  DBG  Closing connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:41:07.276 +02:00  DBG  Closed connection to database 'pmjmvgha' on server '' (0ms).
2023-10-15 18:41:07.277 +02:00  DBG  Creating DbCommand for 'ExecuteScalar'.
2023-10-15 18:41:07.277 +02:00  DBG  Created DbCommand for 'ExecuteScalar' (0ms).
2023-10-15 18:41:07.277 +02:00  DBG  Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-10-15 18:41:07.277 +02:00  DBG  Opening connection to database 'pmjmvgha' on server ''.
2023-10-15 18:41:07.278 +02:00  DBG  Opened connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:41:07.278 +02:00  DBG  Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-10-15 18:41:07.324 +02:00  INF  Executed DbCommand (46ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-10-15 18:41:07.324 +02:00  DBG  Closing connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:41:07.324 +02:00  DBG  Closed connection to database 'pmjmvgha' on server '' (0ms).
2023-10-15 18:41:07.349 +02:00  DBG  Creating DbCommand for 'ExecuteReader'.
2023-10-15 18:41:07.349 +02:00  DBG  Created DbCommand for 'ExecuteReader' (0ms).
2023-10-15 18:41:07.349 +02:00  DBG  Initialized DbCommand for 'ExecuteReader' (0ms).
2023-10-15 18:41:07.349 +02:00  DBG  Opening connection to database 'pmjmvgha' on server ''.
2023-10-15 18:41:07.349 +02:00  DBG  Opened connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:41:07.350 +02:00  DBG  Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-10-15 18:41:07.400 +02:00  INF  Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-10-15 18:41:07.404 +02:00  DBG  Closing data reader to 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:41:07.406 +02:00  DBG  A data reader for 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432' is being disposed after spending 5ms reading results.
2023-10-15 18:41:07.406 +02:00  DBG  Closing connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:41:07.406 +02:00  DBG  Closed connection to database 'pmjmvgha' on server '' (0ms).
2023-10-15 18:41:07.417 +02:00  INF  No migrations were applied. The database is already up to date.
2023-10-15 18:41:07.418 +02:00  DBG  'InfoEcoDbContext' disposed.
2023-10-15 18:41:07.419 +02:00  DBG  Disposing connection to database 'pmjmvgha' on server ''.
2023-10-15 18:41:07.420 +02:00  DBG  Disposed connection to database 'pmjmvgha' on server '' (0ms).
2023-10-15 18:41:07.424 +02:00  DBG  Hosting starting
2023-10-15 18:41:07.458 +02:00  INF  User profile is available. Using 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-10-15 18:41:07.462 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-2ce4c23f-757b-4029-95d3-9c9820e6de80.xml'.
2023-10-15 18:41:07.470 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-6921759b-a9f9-48ea-a379-13505875271d.xml'.
2023-10-15 18:41:07.471 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-7c4081c7-f341-4ce9-ad03-d3ea3cf1c21f.xml'.
2023-10-15 18:41:07.472 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-a038200a-44f7-48da-9d2b-5646ef68d51f.xml'.
2023-10-15 18:41:07.472 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-a642139e-629a-42ab-b89a-38ed4778f2e0.xml'.
2023-10-15 18:41:07.472 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-b1a02c3b-a417-45ff-ac5c-986fca4cdd22.xml'.
2023-10-15 18:41:07.472 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-b5a22f60-a6fe-488b-8048-b8d1034bef7d.xml'.
2023-10-15 18:41:07.472 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-b8996f88-e69f-41d1-b4d3-e7b15b37a5e2.xml'.
2023-10-15 18:41:07.477 +02:00  DBG  Found key {2ce4c23f-757b-4029-95d3-9c9820e6de80}.
2023-10-15 18:41:07.482 +02:00  DBG  Found key {6921759b-a9f9-48ea-a379-13505875271d}.
2023-10-15 18:41:07.482 +02:00  DBG  Found key {7c4081c7-f341-4ce9-ad03-d3ea3cf1c21f}.
2023-10-15 18:41:07.482 +02:00  DBG  Found key {a038200a-44f7-48da-9d2b-5646ef68d51f}.
2023-10-15 18:41:07.483 +02:00  DBG  Found key {a642139e-629a-42ab-b89a-38ed4778f2e0}.
2023-10-15 18:41:07.483 +02:00  DBG  Found key {b1a02c3b-a417-45ff-ac5c-986fca4cdd22}.
2023-10-15 18:41:07.483 +02:00  DBG  Found key {b5a22f60-a6fe-488b-8048-b8d1034bef7d}.
2023-10-15 18:41:07.483 +02:00  DBG  Found key {b8996f88-e69f-41d1-b4d3-e7b15b37a5e2}.
2023-10-15 18:41:07.488 +02:00  DBG  Considering key {6921759b-a9f9-48ea-a379-13505875271d} with expiration date 2023-11-22 12:55:42Z as default key.
2023-10-15 18:41:07.491 +02:00  DBG  Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-10-15 18:41:07.492 +02:00  DBG  Decrypting secret element using Windows DPAPI.
2023-10-15 18:41:07.493 +02:00  DBG  Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-10-15 18:41:07.495 +02:00  DBG  Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-10-15 18:41:07.496 +02:00  DBG  Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-10-15 18:41:07.497 +02:00  DBG  Using key {6921759b-a9f9-48ea-a379-13505875271d} as the default key.
2023-10-15 18:41:07.498 +02:00  DBG  Key ring with default key {6921759b-a9f9-48ea-a379-13505875271d} was loaded during application startup.
2023-10-15 18:41:07.577 +02:00  DBG  Loaded hosting startup assembly Infeco.Api
2023-10-15 18:41:07.577 +02:00  DBG  Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-10-15 18:41:07.577 +02:00  DBG  Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-10-15 18:41:07.577 +02:00  INF  Application started. Press Ctrl+C to shut down.
2023-10-15 18:41:07.578 +02:00  INF  Hosting environment: Development
2023-10-15 18:41:07.578 +02:00  INF  Content root path: C:\Users\fdepret\source\repos\Infeco.api\Infeco.api
2023-10-15 18:41:07.578 +02:00  DBG  Hosting started
2023-10-15 18:41:07.625 +02:00  INF  Request starting HTTP/2 GET https://localhost:44375/index.html - -
2023-10-15 18:41:07.662 +02:00  DBG  Wildcard detected, all requests with hosts will be allowed.
2023-10-15 18:41:07.712 +02:00  DBG  No candidates found for the request path '/index.html'
2023-10-15 18:41:07.712 +02:00  DBG  Request did not match any endpoints
2023-10-15 18:41:07.762 +02:00  DBG  AuthenticationScheme: Bearer was not authenticated.
2023-10-15 18:41:07.900 +02:00  DBG  Response markup is scheduled to include browser refresh script injection.
2023-10-15 18:41:10.077 +02:00  DBG  Response markup was updated to include browser refresh script injection.
2023-10-15 18:41:10.103 +02:00  DBG  Connection ID "18374686519936942085" disconnecting.
2023-10-15 18:41:10.108 +02:00  INF  Request starting HTTP/2 GET https://localhost:44375/_framework/aspnetcore-browser-refresh.js - -
2023-10-15 18:41:10.108 +02:00  INF  Request finished HTTP/2 GET https://localhost:44375/index.html - - - 200 - text/html;charset=utf-8 2484.7465ms
2023-10-15 18:41:10.117 +02:00  DBG  Connection ID "18374686507052040197" disconnecting.
2023-10-15 18:41:10.119 +02:00  INF  Request finished HTTP/2 GET https://localhost:44375/_framework/aspnetcore-browser-refresh.js - - - 200 12352 application/javascript;+charset=utf-8 9.0708ms
2023-10-15 18:41:10.229 +02:00  INF  Request starting HTTP/2 GET https://localhost:44375/swagger/v1/swagger.json - -
2023-10-15 18:41:10.232 +02:00  DBG  No candidates found for the request path '/swagger/v1/swagger.json'
2023-10-15 18:41:10.232 +02:00  DBG  Request did not match any endpoints
2023-10-15 18:41:10.236 +02:00  DBG  AuthenticationScheme: Bearer was not authenticated.
2023-10-15 18:41:10.462 +02:00  DBG  Connection ID "18374686507052040199" disconnecting.
2023-10-15 18:41:10.462 +02:00  INF  Request finished HTTP/2 GET https://localhost:44375/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 233.0183ms
2023-10-15 18:41:16.151 +02:00  INF  Request starting HTTP/1.1 PUT https://localhost:44375/Appartements/11 application/json 150
2023-10-15 18:41:16.154 +02:00  DBG  1 candidate(s) found for the request path '/Appartements/11'
2023-10-15 18:41:16.157 +02:00  DBG  Endpoint 'Infeco.Api.Controllers.AppartementController.ModifierUnAppartementAsync (Infeco.Api)' with route pattern 'appartements/{id:int}' is valid for the request path '/Appartements/11'
2023-10-15 18:41:16.158 +02:00  DBG  Request matched endpoint 'Infeco.Api.Controllers.AppartementController.ModifierUnAppartementAsync (Infeco.Api)'
2023-10-15 18:41:16.307 +02:00  DBG  Successfully validated the token.
2023-10-15 18:41:16.309 +02:00  DBG  AuthenticationScheme: Bearer was successfully authenticated.
2023-10-15 18:41:16.315 +02:00  DBG  Authorization was successful.
2023-10-15 18:41:16.318 +02:00  DBG  Static files was skipped as the request already matched an endpoint.
2023-10-15 18:41:16.319 +02:00  INF  Executing endpoint 'Infeco.Api.Controllers.AppartementController.ModifierUnAppartementAsync (Infeco.Api)'
2023-10-15 18:41:16.351 +02:00  INF  Route matched with {action = "ModifierUnAppartement", controller = "Appartement"}. Executing controller action with signature System.Threading.Tasks.Task ModifierUnAppartementAsync(Int32, Infeco.Api.Commands.Appartements.ModifierAppartementCommand, System.Threading.CancellationToken) on controller Infeco.Api.Controllers.AppartementController (Infeco.Api).
2023-10-15 18:41:16.353 +02:00  DBG  Execution plan of authorization filters (in the following order): ["None"]
2023-10-15 18:41:16.353 +02:00  DBG  Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2023-10-15 18:41:16.353 +02:00  DBG  Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2023-10-15 18:41:16.353 +02:00  DBG  Execution plan of exception filters (in the following order): ["None"]
2023-10-15 18:41:16.353 +02:00  DBG  Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2023-10-15 18:41:16.356 +02:00  DBG  Executing controller factory for controller Infeco.Api.Controllers.AppartementController (Infeco.Api)
2023-10-15 18:41:16.356 +02:00  DBG  Executed controller factory for controller Infeco.Api.Controllers.AppartementController (Infeco.Api)
2023-10-15 18:41:16.361 +02:00  DBG  Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-10-15 18:41:16.363 +02:00  DBG  Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-10-15 18:41:16.364 +02:00  DBG  Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-10-15 18:41:16.365 +02:00  DBG  Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-10-15 18:41:16.365 +02:00  DBG  Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-10-15 18:41:16.368 +02:00  DBG  Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-10-15 18:41:16.370 +02:00  DBG  Attempting to bind parameter 'command' of type 'Infeco.Api.Commands.Appartements.ModifierAppartementCommand' ...
2023-10-15 18:41:16.371 +02:00  DBG  Attempting to bind parameter 'command' of type 'Infeco.Api.Commands.Appartements.ModifierAppartementCommand' using the name '' in request data ...
2023-10-15 18:41:16.372 +02:00  DBG  Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-10-15 18:41:16.372 +02:00  DBG  Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-10-15 18:41:16.460 +02:00  DBG  Done attempting to bind parameter 'command' of type 'Infeco.Api.Commands.Appartements.ModifierAppartementCommand'.
2023-10-15 18:41:16.460 +02:00  DBG  Done attempting to bind parameter 'command' of type 'Infeco.Api.Commands.Appartements.ModifierAppartementCommand'.
2023-10-15 18:41:16.460 +02:00  DBG  Attempting to validate the bound parameter 'command' of type 'Infeco.Api.Commands.Appartements.ModifierAppartementCommand' ...
2023-10-15 18:41:16.469 +02:00  DBG  Done attempting to validate the bound parameter 'command' of type 'Infeco.Api.Commands.Appartements.ModifierAppartementCommand'.
2023-10-15 18:41:16.469 +02:00  DBG  Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-10-15 18:41:16.470 +02:00  DBG  Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-10-15 18:41:16.470 +02:00  DBG  Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-10-15 18:41:16.470 +02:00  DBG  Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-10-15 18:41:16.540 +02:00  INF  Executing action method Infeco.Api.Controllers.AppartementController.ModifierUnAppartementAsync (Infeco.Api) - Validation state: "Valid"
2023-10-15 18:41:16.592 +02:00  INF  Handling ModifierAppartementCommand
2023-10-15 18:41:16.623 +02:00  DBG  Entity Framework Core 7.0.11 initialized 'InfoEcoDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None
2023-10-15 18:41:19.009 +02:00  DBG  Compiling query expression: 
'DbSet<AppartementEntite>()
    .FirstOrDefault(u => u.Id == __id_0)'
2023-10-15 18:41:19.206 +02:00  DBG  Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<AppartementEntite>(
    asyncEnumerable: new SingleQueryingEnumerable<AppartementEntite>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: AppartementEntite.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: AppartementEntite.Adresse (string), 1], [Property: AppartementEntite.AgenceImmobiliereId (int) Required FK Index, 2], [Property: AppartementEntite.ComplementAdresse (string), 3], [Property: AppartementEntite.CreeLe (DateTime) Required, 4], [Property: AppartementEntite.DepotDeGarantie (double) Required, 5], [Property: AppartementEntite.Loyer (double) Required, 6], [Property: AppartementEntite.ModifieLe (DateTime?), 7], [Property: AppartementEntite.NombreDeMetre2 (double) Required, 8], [Property: AppartementEntite.PrixDesCharges (double) Required, 9], [Property: AppartementEntite.TypeAppartementId (int?) FK Index, 10], [Property: AppartementEntite.VilleId (int) Required FK Index, 11] }
            SELECT TOP(1) a.Id, a.Adresse, a.AgenceImmobiliereId, a.ComplementAdresse, a.CreeLe, a.DepotDeGarantie, a.Loyer, a.ModifieLe, a.NombreDeMetre2, a.PrixDesCharges, a.TypeAppartementId, a.VilleId
            FROM Appartement AS a
            WHERE a.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, AppartementEntite>, 
        Infoeco.infrastructure.InfoEcoDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-10-15 18:41:19.244 +02:00  DBG  Creating DbCommand for 'ExecuteReader'.
2023-10-15 18:41:19.245 +02:00  DBG  Creating DbConnection.
2023-10-15 18:41:19.245 +02:00  DBG  Created DbConnection. (0ms).
2023-10-15 18:41:19.245 +02:00  DBG  Created DbCommand for 'ExecuteReader' (0ms).
2023-10-15 18:41:19.247 +02:00  DBG  Initialized DbCommand for 'ExecuteReader' (3ms).
2023-10-15 18:41:19.253 +02:00  DBG  Opening connection to database 'pmjmvgha' on server ''.
2023-10-15 18:41:19.256 +02:00  DBG  Opened connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:41:19.259 +02:00  DBG  Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."Adresse", a."AgenceImmobiliereId", a."ComplementAdresse", a."CreeLe", a."DepotDeGarantie", a."Loyer", a."ModifieLe", a."NombreDeMetre2", a."PrixDesCharges", a."TypeAppartementId", a."VilleId"
FROM "Appartement" AS a
WHERE a."Id" = @__id_0
LIMIT 1
2023-10-15 18:41:19.321 +02:00  INF  Executed DbCommand (65ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."Adresse", a."AgenceImmobiliereId", a."ComplementAdresse", a."CreeLe", a."DepotDeGarantie", a."Loyer", a."ModifieLe", a."NombreDeMetre2", a."PrixDesCharges", a."TypeAppartementId", a."VilleId"
FROM "Appartement" AS a
WHERE a."Id" = @__id_0
LIMIT 1
2023-10-15 18:41:19.362 +02:00  DBG  Context 'InfoEcoDbContext' started tracking 'AppartementEntite' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-15 18:41:19.445 +02:00  DBG  Closing data reader to 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:41:19.445 +02:00  DBG  A data reader for 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432' is being disposed after spending 123ms reading results.
2023-10-15 18:41:19.449 +02:00  DBG  Closing connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:41:19.452 +02:00  DBG  Closed connection to database 'pmjmvgha' on server '' (2ms).
2023-10-15 18:41:30.075 +02:00  DBG  DetectChanges starting for 'InfoEcoDbContext'.
2023-10-15 18:41:30.101 +02:00  DBG  DetectChanges completed for 'InfoEcoDbContext'.
2023-10-15 18:46:10.806 +02:00  DBG  Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-10-15 18:46:11.088 +02:00  DBG  An 'IServiceProvider' was created for internal use by Entity Framework.
2023-10-15 18:46:11.980 +02:00  DBG  Entity Framework Core 7.0.11 initialized 'InfoEcoDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None
2023-10-15 18:46:11.994 +02:00  DBG  Creating DbConnection.
2023-10-15 18:46:12.045 +02:00  DBG  Created DbConnection. (49ms).
2023-10-15 18:46:12.050 +02:00  DBG  Migrating using database 'pmjmvgha' on server ''.
2023-10-15 18:46:12.067 +02:00  DBG  Opening connection to database 'pmjmvgha' on server ''.
2023-10-15 18:46:12.590 +02:00  DBG  Opened connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:46:12.592 +02:00  DBG  Closing connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:46:12.601 +02:00  DBG  Closed connection to database 'pmjmvgha' on server '' (6ms).
2023-10-15 18:46:12.607 +02:00  DBG  Creating DbCommand for 'ExecuteScalar'.
2023-10-15 18:46:12.612 +02:00  DBG  Created DbCommand for 'ExecuteScalar' (3ms).
2023-10-15 18:46:12.613 +02:00  DBG  Initialized DbCommand for 'ExecuteScalar' (7ms).
2023-10-15 18:46:12.613 +02:00  DBG  Opening connection to database 'pmjmvgha' on server ''.
2023-10-15 18:46:12.969 +02:00  DBG  Opened connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:46:12.974 +02:00  DBG  Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-10-15 18:46:13.055 +02:00  INF  Executed DbCommand (79ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-10-15 18:46:13.056 +02:00  DBG  Closing connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:46:13.059 +02:00  DBG  Closed connection to database 'pmjmvgha' on server '' (2ms).
2023-10-15 18:46:13.060 +02:00  DBG  Opening connection to database 'pmjmvgha' on server ''.
2023-10-15 18:46:13.345 +02:00  DBG  Opened connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:46:13.345 +02:00  DBG  Closing connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:46:13.346 +02:00  DBG  Closed connection to database 'pmjmvgha' on server '' (0ms).
2023-10-15 18:46:13.346 +02:00  DBG  Creating DbCommand for 'ExecuteScalar'.
2023-10-15 18:46:13.346 +02:00  DBG  Created DbCommand for 'ExecuteScalar' (0ms).
2023-10-15 18:46:13.347 +02:00  DBG  Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-10-15 18:46:13.347 +02:00  DBG  Opening connection to database 'pmjmvgha' on server ''.
2023-10-15 18:46:13.347 +02:00  DBG  Opened connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:46:13.347 +02:00  DBG  Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-10-15 18:46:13.393 +02:00  INF  Executed DbCommand (45ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-10-15 18:46:13.393 +02:00  DBG  Closing connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:46:13.393 +02:00  DBG  Closed connection to database 'pmjmvgha' on server '' (0ms).
2023-10-15 18:46:13.409 +02:00  DBG  Creating DbCommand for 'ExecuteReader'.
2023-10-15 18:46:13.409 +02:00  DBG  Created DbCommand for 'ExecuteReader' (0ms).
2023-10-15 18:46:13.409 +02:00  DBG  Initialized DbCommand for 'ExecuteReader' (0ms).
2023-10-15 18:46:13.410 +02:00  DBG  Opening connection to database 'pmjmvgha' on server ''.
2023-10-15 18:46:13.410 +02:00  DBG  Opened connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:46:13.410 +02:00  DBG  Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-10-15 18:46:13.458 +02:00  INF  Executed DbCommand (48ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-10-15 18:46:13.461 +02:00  DBG  Closing data reader to 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:46:13.463 +02:00  DBG  A data reader for 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432' is being disposed after spending 4ms reading results.
2023-10-15 18:46:13.463 +02:00  DBG  Closing connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:46:13.463 +02:00  DBG  Closed connection to database 'pmjmvgha' on server '' (0ms).
2023-10-15 18:46:13.474 +02:00  INF  No migrations were applied. The database is already up to date.
2023-10-15 18:46:13.476 +02:00  DBG  'InfoEcoDbContext' disposed.
2023-10-15 18:46:13.478 +02:00  DBG  Disposing connection to database 'pmjmvgha' on server ''.
2023-10-15 18:46:13.479 +02:00  DBG  Disposed connection to database 'pmjmvgha' on server '' (1ms).
2023-10-15 18:46:13.483 +02:00  DBG  Hosting starting
2023-10-15 18:46:13.518 +02:00  INF  User profile is available. Using 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-10-15 18:46:13.524 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-2ce4c23f-757b-4029-95d3-9c9820e6de80.xml'.
2023-10-15 18:46:13.535 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-6921759b-a9f9-48ea-a379-13505875271d.xml'.
2023-10-15 18:46:13.535 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-7c4081c7-f341-4ce9-ad03-d3ea3cf1c21f.xml'.
2023-10-15 18:46:13.536 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-a038200a-44f7-48da-9d2b-5646ef68d51f.xml'.
2023-10-15 18:46:13.536 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-a642139e-629a-42ab-b89a-38ed4778f2e0.xml'.
2023-10-15 18:46:13.536 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-b1a02c3b-a417-45ff-ac5c-986fca4cdd22.xml'.
2023-10-15 18:46:13.537 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-b5a22f60-a6fe-488b-8048-b8d1034bef7d.xml'.
2023-10-15 18:46:13.537 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-b8996f88-e69f-41d1-b4d3-e7b15b37a5e2.xml'.
2023-10-15 18:46:13.543 +02:00  DBG  Found key {2ce4c23f-757b-4029-95d3-9c9820e6de80}.
2023-10-15 18:46:13.550 +02:00  DBG  Found key {6921759b-a9f9-48ea-a379-13505875271d}.
2023-10-15 18:46:13.550 +02:00  DBG  Found key {7c4081c7-f341-4ce9-ad03-d3ea3cf1c21f}.
2023-10-15 18:46:13.550 +02:00  DBG  Found key {a038200a-44f7-48da-9d2b-5646ef68d51f}.
2023-10-15 18:46:13.551 +02:00  DBG  Found key {a642139e-629a-42ab-b89a-38ed4778f2e0}.
2023-10-15 18:46:13.551 +02:00  DBG  Found key {b1a02c3b-a417-45ff-ac5c-986fca4cdd22}.
2023-10-15 18:46:13.551 +02:00  DBG  Found key {b5a22f60-a6fe-488b-8048-b8d1034bef7d}.
2023-10-15 18:46:13.551 +02:00  DBG  Found key {b8996f88-e69f-41d1-b4d3-e7b15b37a5e2}.
2023-10-15 18:46:13.561 +02:00  DBG  Considering key {6921759b-a9f9-48ea-a379-13505875271d} with expiration date 2023-11-22 12:55:42Z as default key.
2023-10-15 18:46:13.566 +02:00  DBG  Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-10-15 18:46:13.567 +02:00  DBG  Decrypting secret element using Windows DPAPI.
2023-10-15 18:46:13.570 +02:00  DBG  Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-10-15 18:46:13.572 +02:00  DBG  Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-10-15 18:46:13.573 +02:00  DBG  Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-10-15 18:46:13.576 +02:00  DBG  Using key {6921759b-a9f9-48ea-a379-13505875271d} as the default key.
2023-10-15 18:46:13.577 +02:00  DBG  Key ring with default key {6921759b-a9f9-48ea-a379-13505875271d} was loaded during application startup.
2023-10-15 18:46:13.680 +02:00  DBG  Loaded hosting startup assembly Infeco.Api
2023-10-15 18:46:13.687 +02:00  DBG  Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-10-15 18:46:13.687 +02:00  DBG  Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-10-15 18:46:13.687 +02:00  INF  Application started. Press Ctrl+C to shut down.
2023-10-15 18:46:13.688 +02:00  INF  Hosting environment: Development
2023-10-15 18:46:13.688 +02:00  INF  Content root path: C:\Users\fdepret\source\repos\Infeco.api\Infeco.api
2023-10-15 18:46:13.688 +02:00  DBG  Hosting started
2023-10-15 18:46:13.727 +02:00  INF  Request starting HTTP/2 GET https://localhost:44375/index.html - -
2023-10-15 18:46:13.767 +02:00  DBG  Wildcard detected, all requests with hosts will be allowed.
2023-10-15 18:46:13.834 +02:00  DBG  No candidates found for the request path '/index.html'
2023-10-15 18:46:13.834 +02:00  DBG  Request did not match any endpoints
2023-10-15 18:46:13.891 +02:00  DBG  AuthenticationScheme: Bearer was not authenticated.
2023-10-15 18:46:14.018 +02:00  DBG  Response markup is scheduled to include browser refresh script injection.
2023-10-15 18:46:16.156 +02:00  DBG  Response markup was updated to include browser refresh script injection.
2023-10-15 18:46:16.172 +02:00  DBG  Connection ID "18302628917309079553" disconnecting.
2023-10-15 18:46:16.174 +02:00  INF  Request starting HTTP/2 GET https://localhost:44375/_framework/aspnetcore-browser-refresh.js - -
2023-10-15 18:46:16.175 +02:00  INF  Request finished HTTP/2 GET https://localhost:44375/index.html - - - 200 - text/html;charset=utf-8 2455.1240ms
2023-10-15 18:46:16.180 +02:00  DBG  Connection ID "18374686519936942087" disconnecting.
2023-10-15 18:46:16.181 +02:00  INF  Request finished HTTP/2 GET https://localhost:44375/_framework/aspnetcore-browser-refresh.js - - - 200 12352 application/javascript;+charset=utf-8 6.2189ms
2023-10-15 18:46:16.264 +02:00  INF  Request starting HTTP/2 GET https://localhost:44375/swagger/v1/swagger.json - -
2023-10-15 18:46:16.266 +02:00  DBG  No candidates found for the request path '/swagger/v1/swagger.json'
2023-10-15 18:46:16.266 +02:00  DBG  Request did not match any endpoints
2023-10-15 18:46:16.268 +02:00  DBG  AuthenticationScheme: Bearer was not authenticated.
2023-10-15 18:46:16.493 +02:00  DBG  Connection ID "18374686528526876677" disconnecting.
2023-10-15 18:46:16.494 +02:00  INF  Request finished HTTP/2 GET https://localhost:44375/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 230.8156ms
2023-10-15 18:48:15.814 +02:00  DBG  Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-10-15 18:48:16.080 +02:00  DBG  An 'IServiceProvider' was created for internal use by Entity Framework.
2023-10-15 18:48:16.844 +02:00  DBG  Entity Framework Core 7.0.11 initialized 'InfoEcoDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None
2023-10-15 18:48:16.854 +02:00  DBG  Creating DbConnection.
2023-10-15 18:48:16.900 +02:00  DBG  Created DbConnection. (43ms).
2023-10-15 18:48:16.904 +02:00  DBG  Migrating using database 'pmjmvgha' on server ''.
2023-10-15 18:48:16.922 +02:00  DBG  Opening connection to database 'pmjmvgha' on server ''.
2023-10-15 18:48:17.454 +02:00  DBG  Opened connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:48:17.455 +02:00  DBG  Closing connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:48:17.464 +02:00  DBG  Closed connection to database 'pmjmvgha' on server '' (6ms).
2023-10-15 18:48:17.469 +02:00  DBG  Creating DbCommand for 'ExecuteScalar'.
2023-10-15 18:48:17.474 +02:00  DBG  Created DbCommand for 'ExecuteScalar' (2ms).
2023-10-15 18:48:17.475 +02:00  DBG  Initialized DbCommand for 'ExecuteScalar' (6ms).
2023-10-15 18:48:17.475 +02:00  DBG  Opening connection to database 'pmjmvgha' on server ''.
2023-10-15 18:48:17.843 +02:00  DBG  Opened connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:48:17.849 +02:00  DBG  Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-10-15 18:48:17.921 +02:00  INF  Executed DbCommand (73ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-10-15 18:48:17.921 +02:00  DBG  Closing connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:48:17.923 +02:00  DBG  Closed connection to database 'pmjmvgha' on server '' (1ms).
2023-10-15 18:48:17.924 +02:00  DBG  Opening connection to database 'pmjmvgha' on server ''.
2023-10-15 18:48:18.208 +02:00  DBG  Opened connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:48:18.208 +02:00  DBG  Closing connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:48:18.208 +02:00  DBG  Closed connection to database 'pmjmvgha' on server '' (0ms).
2023-10-15 18:48:18.209 +02:00  DBG  Creating DbCommand for 'ExecuteScalar'.
2023-10-15 18:48:18.209 +02:00  DBG  Created DbCommand for 'ExecuteScalar' (0ms).
2023-10-15 18:48:18.209 +02:00  DBG  Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-10-15 18:48:18.209 +02:00  DBG  Opening connection to database 'pmjmvgha' on server ''.
2023-10-15 18:48:18.210 +02:00  DBG  Opened connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:48:18.210 +02:00  DBG  Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-10-15 18:48:18.255 +02:00  INF  Executed DbCommand (45ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-10-15 18:48:18.255 +02:00  DBG  Closing connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:48:18.256 +02:00  DBG  Closed connection to database 'pmjmvgha' on server '' (0ms).
2023-10-15 18:48:18.271 +02:00  DBG  Creating DbCommand for 'ExecuteReader'.
2023-10-15 18:48:18.271 +02:00  DBG  Created DbCommand for 'ExecuteReader' (0ms).
2023-10-15 18:48:18.271 +02:00  DBG  Initialized DbCommand for 'ExecuteReader' (0ms).
2023-10-15 18:48:18.271 +02:00  DBG  Opening connection to database 'pmjmvgha' on server ''.
2023-10-15 18:48:18.271 +02:00  DBG  Opened connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:48:18.271 +02:00  DBG  Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-10-15 18:48:18.318 +02:00  INF  Executed DbCommand (46ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-10-15 18:48:18.322 +02:00  DBG  Closing data reader to 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:48:18.323 +02:00  DBG  A data reader for 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432' is being disposed after spending 4ms reading results.
2023-10-15 18:48:18.323 +02:00  DBG  Closing connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:48:18.323 +02:00  DBG  Closed connection to database 'pmjmvgha' on server '' (0ms).
2023-10-15 18:48:18.332 +02:00  INF  No migrations were applied. The database is already up to date.
2023-10-15 18:48:18.333 +02:00  DBG  'InfoEcoDbContext' disposed.
2023-10-15 18:48:18.334 +02:00  DBG  Disposing connection to database 'pmjmvgha' on server ''.
2023-10-15 18:48:18.335 +02:00  DBG  Disposed connection to database 'pmjmvgha' on server '' (0ms).
2023-10-15 18:48:18.337 +02:00  DBG  Hosting starting
2023-10-15 18:48:18.367 +02:00  INF  User profile is available. Using 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-10-15 18:48:18.370 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-2ce4c23f-757b-4029-95d3-9c9820e6de80.xml'.
2023-10-15 18:48:18.376 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-6921759b-a9f9-48ea-a379-13505875271d.xml'.
2023-10-15 18:48:18.377 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-7c4081c7-f341-4ce9-ad03-d3ea3cf1c21f.xml'.
2023-10-15 18:48:18.377 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-a038200a-44f7-48da-9d2b-5646ef68d51f.xml'.
2023-10-15 18:48:18.377 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-a642139e-629a-42ab-b89a-38ed4778f2e0.xml'.
2023-10-15 18:48:18.377 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-b1a02c3b-a417-45ff-ac5c-986fca4cdd22.xml'.
2023-10-15 18:48:18.378 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-b5a22f60-a6fe-488b-8048-b8d1034bef7d.xml'.
2023-10-15 18:48:18.378 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-b8996f88-e69f-41d1-b4d3-e7b15b37a5e2.xml'.
2023-10-15 18:48:18.381 +02:00  DBG  Found key {2ce4c23f-757b-4029-95d3-9c9820e6de80}.
2023-10-15 18:48:18.384 +02:00  DBG  Found key {6921759b-a9f9-48ea-a379-13505875271d}.
2023-10-15 18:48:18.385 +02:00  DBG  Found key {7c4081c7-f341-4ce9-ad03-d3ea3cf1c21f}.
2023-10-15 18:48:18.385 +02:00  DBG  Found key {a038200a-44f7-48da-9d2b-5646ef68d51f}.
2023-10-15 18:48:18.385 +02:00  DBG  Found key {a642139e-629a-42ab-b89a-38ed4778f2e0}.
2023-10-15 18:48:18.385 +02:00  DBG  Found key {b1a02c3b-a417-45ff-ac5c-986fca4cdd22}.
2023-10-15 18:48:18.385 +02:00  DBG  Found key {b5a22f60-a6fe-488b-8048-b8d1034bef7d}.
2023-10-15 18:48:18.385 +02:00  DBG  Found key {b8996f88-e69f-41d1-b4d3-e7b15b37a5e2}.
2023-10-15 18:48:18.390 +02:00  DBG  Considering key {6921759b-a9f9-48ea-a379-13505875271d} with expiration date 2023-11-22 12:55:42Z as default key.
2023-10-15 18:48:18.393 +02:00  DBG  Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-10-15 18:48:18.393 +02:00  DBG  Decrypting secret element using Windows DPAPI.
2023-10-15 18:48:18.395 +02:00  DBG  Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-10-15 18:48:18.396 +02:00  DBG  Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-10-15 18:48:18.397 +02:00  DBG  Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-10-15 18:48:18.399 +02:00  DBG  Using key {6921759b-a9f9-48ea-a379-13505875271d} as the default key.
2023-10-15 18:48:18.399 +02:00  DBG  Key ring with default key {6921759b-a9f9-48ea-a379-13505875271d} was loaded during application startup.
2023-10-15 18:48:18.461 +02:00  DBG  Loaded hosting startup assembly Infeco.Api
2023-10-15 18:48:18.466 +02:00  DBG  Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-10-15 18:48:18.466 +02:00  DBG  Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-10-15 18:48:18.467 +02:00  INF  Application started. Press Ctrl+C to shut down.
2023-10-15 18:48:18.467 +02:00  INF  Hosting environment: Development
2023-10-15 18:48:18.467 +02:00  INF  Content root path: C:\Users\fdepret\source\repos\Infeco.api\Infeco.api
2023-10-15 18:48:18.467 +02:00  DBG  Hosting started
2023-10-15 18:48:18.499 +02:00  INF  Request starting HTTP/2 GET https://localhost:44375/index.html - -
2023-10-15 18:48:18.525 +02:00  DBG  Wildcard detected, all requests with hosts will be allowed.
2023-10-15 18:48:18.559 +02:00  DBG  No candidates found for the request path '/index.html'
2023-10-15 18:48:18.559 +02:00  DBG  Request did not match any endpoints
2023-10-15 18:48:18.600 +02:00  DBG  AuthenticationScheme: Bearer was not authenticated.
2023-10-15 18:48:18.734 +02:00  DBG  Response markup is scheduled to include browser refresh script injection.
2023-10-15 18:48:20.882 +02:00  DBG  Response markup was updated to include browser refresh script injection.
2023-10-15 18:48:20.898 +02:00  DBG  Connection ID "18302628917309079555" disconnecting.
2023-10-15 18:48:20.899 +02:00  INF  Request starting HTTP/2 GET https://localhost:44375/_framework/aspnetcore-browser-refresh.js - -
2023-10-15 18:48:20.901 +02:00  INF  Request finished HTTP/2 GET https://localhost:44375/index.html - - - 200 - text/html;charset=utf-8 2407.9450ms
2023-10-15 18:48:20.917 +02:00  DBG  Connection ID "18230571314681217029" disconnecting.
2023-10-15 18:48:20.918 +02:00  INF  Request finished HTTP/2 GET https://localhost:44375/_framework/aspnetcore-browser-refresh.js - - - 200 12352 application/javascript;+charset=utf-8 9.2942ms
2023-10-15 18:48:20.994 +02:00  INF  Request starting HTTP/2 GET https://localhost:44375/swagger/v1/swagger.json - -
2023-10-15 18:48:20.995 +02:00  DBG  No candidates found for the request path '/swagger/v1/swagger.json'
2023-10-15 18:48:20.995 +02:00  DBG  Request did not match any endpoints
2023-10-15 18:48:20.997 +02:00  DBG  AuthenticationScheme: Bearer was not authenticated.
2023-10-15 18:48:21.205 +02:00  INF  Request finished HTTP/2 GET https://localhost:44375/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 205.5978ms
2023-10-15 18:48:21.205 +02:00  DBG  Connection ID "18374686524231909387" disconnecting.
2023-10-15 18:49:40.105 +02:00  INF  Request starting HTTP/1.1 PUT https://localhost:44375/Appartements/11 application/json 150
2023-10-15 18:49:40.108 +02:00  DBG  1 candidate(s) found for the request path '/Appartements/11'
2023-10-15 18:49:40.111 +02:00  DBG  Endpoint 'Infeco.Api.Controllers.AppartementController.ModifierUnAppartementAsync (Infeco.Api)' with route pattern 'appartements/{id:int}' is valid for the request path '/Appartements/11'
2023-10-15 18:49:40.112 +02:00  DBG  Request matched endpoint 'Infeco.Api.Controllers.AppartementController.ModifierUnAppartementAsync (Infeco.Api)'
2023-10-15 18:49:40.287 +02:00  INF  Failed to validate the token.Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '15/10/2023 16:46:31', Current time: '15/10/2023 16:49:40'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()

2023-10-15 18:49:40.304 +02:00  INF  Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '15/10/2023 16:46:31', Current time: '15/10/2023 16:49:40'.
2023-10-15 18:49:40.313 +02:00  INF  Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-10-15 18:49:40.319 +02:00  INF  AuthenticationScheme: Bearer was challenged.
2023-10-15 18:49:40.321 +02:00  INF  Request finished HTTP/1.1 PUT https://localhost:44375/Appartements/11 application/json 150 - 401 - - 216.0593ms
2023-10-15 18:49:51.099 +02:00  INF  Request starting HTTP/1.1 POST https://localhost:44375/login - 0
2023-10-15 18:49:51.099 +02:00  DBG  1 candidate(s) found for the request path '/login'
2023-10-15 18:49:51.100 +02:00  DBG  Endpoint 'IDSoft.CrmWelcome.Api.Controllers.ConnexionController.LoginAsync (Infeco.Api)' with route pattern 'login' is valid for the request path '/login'
2023-10-15 18:49:51.100 +02:00  DBG  Request matched endpoint 'IDSoft.CrmWelcome.Api.Controllers.ConnexionController.LoginAsync (Infeco.Api)'
2023-10-15 18:49:51.100 +02:00  DBG  AuthenticationScheme: Bearer was not authenticated.
2023-10-15 18:49:51.113 +02:00  DBG  Static files was skipped as the request already matched an endpoint.
2023-10-15 18:49:51.115 +02:00  INF  Executing endpoint 'IDSoft.CrmWelcome.Api.Controllers.ConnexionController.LoginAsync (Infeco.Api)'
2023-10-15 18:49:51.145 +02:00  INF  Route matched with {action = "Login", controller = "Connexion"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginAsync(System.Threading.CancellationToken) on controller IDSoft.CrmWelcome.Api.Controllers.ConnexionController (Infeco.Api).
2023-10-15 18:49:51.147 +02:00  DBG  Execution plan of authorization filters (in the following order): ["None"]
2023-10-15 18:49:51.147 +02:00  DBG  Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2023-10-15 18:49:51.148 +02:00  DBG  Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2023-10-15 18:49:51.148 +02:00  DBG  Execution plan of exception filters (in the following order): ["None"]
2023-10-15 18:49:51.148 +02:00  DBG  Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2023-10-15 18:49:51.151 +02:00  DBG  Executing controller factory for controller IDSoft.CrmWelcome.Api.Controllers.ConnexionController (Infeco.Api)
2023-10-15 18:49:51.152 +02:00  DBG  Executed controller factory for controller IDSoft.CrmWelcome.Api.Controllers.ConnexionController (Infeco.Api)
2023-10-15 18:49:51.158 +02:00  DBG  Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-10-15 18:49:51.160 +02:00  DBG  Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-10-15 18:49:51.160 +02:00  DBG  Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-10-15 18:49:51.162 +02:00  DBG  Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-10-15 18:49:51.217 +02:00  INF  Executing action method IDSoft.CrmWelcome.Api.Controllers.ConnexionController.LoginAsync (Infeco.Api) - Validation state: "Valid"
2023-10-15 18:49:51.256 +02:00  INF  Handling ObtenirUtilisateurParIdentifiantEtMotDePasseQuery
2023-10-15 18:49:51.288 +02:00  DBG  Entity Framework Core 7.0.11 initialized 'InfoEcoDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None
2023-10-15 18:49:51.466 +02:00  DBG  Compiling query expression: 
'DbSet<UtilisateurEntite>()
    .FirstOrDefault(u => u.Courriel == __identifiant_0 && u.Passe == __motDePasse_1)'
2023-10-15 18:49:51.693 +02:00  DBG  Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UtilisateurEntite>(
    asyncEnumerable: new SingleQueryingEnumerable<UtilisateurEntite>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UtilisateurEntite.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UtilisateurEntite.AgenceImmobiliereId (int) Required FK Index, 1], [Property: UtilisateurEntite.Courriel (string) Required Index MaxLength(255), 2], [Property: UtilisateurEntite.CreeLe (DateTime) Required, 3], [Property: UtilisateurEntite.EstActif (bool) Required, 4], [Property: UtilisateurEntite.ModifieLe (DateTime?), 5], [Property: UtilisateurEntite.Nom (string) Required MaxLength(255), 6], [Property: UtilisateurEntite.Passe (string) Required MaxLength(255), 7], [Property: UtilisateurEntite.Prenom (string) Required MaxLength(255), 8] }
            SELECT TOP(1) u.Id, u.AgenceImmobiliereId, u.Courriel, u.CreeLe, u.EstActif, u.ModifieLe, u.Nom, u.Passe, u.Prenom
            FROM Utilisateur AS u
            WHERE (u.Courriel == @__identifiant_0) && (u.Passe == @__motDePasse_1)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UtilisateurEntite>, 
        Infoeco.infrastructure.InfoEcoDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-10-15 18:49:51.753 +02:00  DBG  Creating DbCommand for 'ExecuteReader'.
2023-10-15 18:49:51.753 +02:00  DBG  Creating DbConnection.
2023-10-15 18:49:51.753 +02:00  DBG  Created DbConnection. (0ms).
2023-10-15 18:49:51.753 +02:00  DBG  Created DbCommand for 'ExecuteReader' (0ms).
2023-10-15 18:49:51.756 +02:00  DBG  Initialized DbCommand for 'ExecuteReader' (3ms).
2023-10-15 18:49:51.761 +02:00  DBG  Opening connection to database 'pmjmvgha' on server ''.
2023-10-15 18:49:51.763 +02:00  DBG  Opened connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:49:51.767 +02:00  DBG  Executing DbCommand [Parameters=[@__identifiant_0='?', @__motDePasse_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."AgenceImmobiliereId", u."Courriel", u."CreeLe", u."EstActif", u."ModifieLe", u."Nom", u."Passe", u."Prenom"
FROM "Utilisateur" AS u
WHERE u."Courriel" = @__identifiant_0 AND u."Passe" = @__motDePasse_1
LIMIT 1
2023-10-15 18:49:51.836 +02:00  INF  Executed DbCommand (71ms) [Parameters=[@__identifiant_0='?', @__motDePasse_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."AgenceImmobiliereId", u."Courriel", u."CreeLe", u."EstActif", u."ModifieLe", u."Nom", u."Passe", u."Prenom"
FROM "Utilisateur" AS u
WHERE u."Courriel" = @__identifiant_0 AND u."Passe" = @__motDePasse_1
LIMIT 1
2023-10-15 18:49:51.896 +02:00  DBG  Context 'InfoEcoDbContext' started tracking 'UtilisateurEntite' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-15 18:49:51.964 +02:00  DBG  Closing data reader to 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:49:51.965 +02:00  DBG  A data reader for 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432' is being disposed after spending 129ms reading results.
2023-10-15 18:49:51.970 +02:00  DBG  Closing connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:49:51.971 +02:00  DBG  Closed connection to database 'pmjmvgha' on server '' (1ms).
2023-10-15 18:49:51.982 +02:00  INF  Handled DetailUtilisateurResponse
2023-10-15 18:49:51.987 +02:00  INF  Information : POST https://localhost:44375/login from '::1:59575' responded 200 in 726,2320 ms
2023-10-15 18:49:52.038 +02:00  INF  Executed action method IDSoft.CrmWelcome.Api.Controllers.ConnexionController.LoginAsync (Infeco.Api), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 816.4481ms.
2023-10-15 18:49:52.044 +02:00  DBG  List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-10-15 18:49:52.046 +02:00  DBG  No information found on request to perform content negotiation.
2023-10-15 18:49:52.046 +02:00  DBG  Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/json"]'.
2023-10-15 18:49:52.048 +02:00  DBG  Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-10-15 18:49:52.049 +02:00  INF  Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-10-15 18:49:52.169 +02:00  INF  Executed action IDSoft.CrmWelcome.Api.Controllers.ConnexionController.LoginAsync (Infeco.Api) in 1016.2652ms
2023-10-15 18:49:52.170 +02:00  INF  Executed endpoint 'IDSoft.CrmWelcome.Api.Controllers.ConnexionController.LoginAsync (Infeco.Api)'
2023-10-15 18:49:52.172 +02:00  DBG  'InfoEcoDbContext' disposed.
2023-10-15 18:49:52.175 +02:00  DBG  Disposing connection to database 'pmjmvgha' on server ''.
2023-10-15 18:49:52.177 +02:00  DBG  Disposed connection to database 'pmjmvgha' on server '' (1ms).
2023-10-15 18:49:52.177 +02:00  INF  Request finished HTTP/1.1 POST https://localhost:44375/login - 0 - 200 517 application/json;+charset=utf-8 1078.0670ms
2023-10-15 18:50:12.509 +02:00  INF  Request starting HTTP/1.1 PUT https://localhost:44375/Appartements/11 application/json 150
2023-10-15 18:50:12.510 +02:00  DBG  1 candidate(s) found for the request path '/Appartements/11'
2023-10-15 18:50:12.510 +02:00  DBG  Endpoint 'Infeco.Api.Controllers.AppartementController.ModifierUnAppartementAsync (Infeco.Api)' with route pattern 'appartements/{id:int}' is valid for the request path '/Appartements/11'
2023-10-15 18:50:12.510 +02:00  DBG  Request matched endpoint 'Infeco.Api.Controllers.AppartementController.ModifierUnAppartementAsync (Infeco.Api)'
2023-10-15 18:50:12.529 +02:00  DBG  Successfully validated the token.
2023-10-15 18:50:12.531 +02:00  DBG  AuthenticationScheme: Bearer was successfully authenticated.
2023-10-15 18:50:12.534 +02:00  DBG  Authorization was successful.
2023-10-15 18:50:12.535 +02:00  DBG  Static files was skipped as the request already matched an endpoint.
2023-10-15 18:50:12.535 +02:00  INF  Executing endpoint 'Infeco.Api.Controllers.AppartementController.ModifierUnAppartementAsync (Infeco.Api)'
2023-10-15 18:50:12.554 +02:00  INF  Route matched with {action = "ModifierUnAppartement", controller = "Appartement"}. Executing controller action with signature System.Threading.Tasks.Task ModifierUnAppartementAsync(Int32, Infeco.Api.Commands.Appartements.ModifierAppartementCommand, System.Threading.CancellationToken) on controller Infeco.Api.Controllers.AppartementController (Infeco.Api).
2023-10-15 18:50:12.554 +02:00  DBG  Execution plan of authorization filters (in the following order): ["None"]
2023-10-15 18:50:12.554 +02:00  DBG  Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2023-10-15 18:50:12.554 +02:00  DBG  Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2023-10-15 18:50:12.554 +02:00  DBG  Execution plan of exception filters (in the following order): ["None"]
2023-10-15 18:50:12.554 +02:00  DBG  Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2023-10-15 18:50:12.555 +02:00  DBG  Executing controller factory for controller Infeco.Api.Controllers.AppartementController (Infeco.Api)
2023-10-15 18:50:12.556 +02:00  DBG  Executed controller factory for controller Infeco.Api.Controllers.AppartementController (Infeco.Api)
2023-10-15 18:50:12.557 +02:00  DBG  Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-10-15 18:50:12.559 +02:00  DBG  Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-10-15 18:50:12.560 +02:00  DBG  Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-10-15 18:50:12.561 +02:00  DBG  Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-10-15 18:50:12.561 +02:00  DBG  Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-10-15 18:50:12.562 +02:00  DBG  Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-10-15 18:50:12.562 +02:00  DBG  Attempting to bind parameter 'command' of type 'Infeco.Api.Commands.Appartements.ModifierAppartementCommand' ...
2023-10-15 18:50:12.563 +02:00  DBG  Attempting to bind parameter 'command' of type 'Infeco.Api.Commands.Appartements.ModifierAppartementCommand' using the name '' in request data ...
2023-10-15 18:50:12.564 +02:00  DBG  Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-10-15 18:50:12.565 +02:00  DBG  Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-10-15 18:50:12.608 +02:00  DBG  Done attempting to bind parameter 'command' of type 'Infeco.Api.Commands.Appartements.ModifierAppartementCommand'.
2023-10-15 18:50:12.608 +02:00  DBG  Done attempting to bind parameter 'command' of type 'Infeco.Api.Commands.Appartements.ModifierAppartementCommand'.
2023-10-15 18:50:12.608 +02:00  DBG  Attempting to validate the bound parameter 'command' of type 'Infeco.Api.Commands.Appartements.ModifierAppartementCommand' ...
2023-10-15 18:50:12.619 +02:00  DBG  Done attempting to validate the bound parameter 'command' of type 'Infeco.Api.Commands.Appartements.ModifierAppartementCommand'.
2023-10-15 18:50:12.619 +02:00  DBG  Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-10-15 18:50:12.620 +02:00  DBG  Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-10-15 18:50:12.620 +02:00  DBG  Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-10-15 18:50:12.620 +02:00  DBG  Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-10-15 18:50:12.637 +02:00  INF  Executing action method Infeco.Api.Controllers.AppartementController.ModifierUnAppartementAsync (Infeco.Api) - Validation state: "Valid"
2023-10-15 18:50:12.669 +02:00  INF  Handling ModifierAppartementCommand
2023-10-15 18:50:12.728 +02:00  DBG  Entity Framework Core 7.0.11 initialized 'InfoEcoDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None
2023-10-15 18:50:15.148 +02:00  DBG  Compiling query expression: 
'DbSet<AppartementEntite>()
    .FirstOrDefault(u => u.Id == __id_0)'
2023-10-15 18:50:15.155 +02:00  DBG  Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<AppartementEntite>(
    asyncEnumerable: new SingleQueryingEnumerable<AppartementEntite>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: AppartementEntite.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: AppartementEntite.Adresse (string), 1], [Property: AppartementEntite.AgenceImmobiliereId (int) Required FK Index, 2], [Property: AppartementEntite.ComplementAdresse (string), 3], [Property: AppartementEntite.CreeLe (DateTime) Required, 4], [Property: AppartementEntite.DepotDeGarantie (double) Required, 5], [Property: AppartementEntite.Loyer (double) Required, 6], [Property: AppartementEntite.ModifieLe (DateTime?), 7], [Property: AppartementEntite.NombreDeMetre2 (double) Required, 8], [Property: AppartementEntite.PrixDesCharges (double) Required, 9], [Property: AppartementEntite.TypeAppartementId (int?) FK Index, 10], [Property: AppartementEntite.VilleId (int) Required FK Index, 11] }
            SELECT TOP(1) a.Id, a.Adresse, a.AgenceImmobiliereId, a.ComplementAdresse, a.CreeLe, a.DepotDeGarantie, a.Loyer, a.ModifieLe, a.NombreDeMetre2, a.PrixDesCharges, a.TypeAppartementId, a.VilleId
            FROM Appartement AS a
            WHERE a.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, AppartementEntite>, 
        Infoeco.infrastructure.InfoEcoDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-10-15 18:50:15.157 +02:00  DBG  Creating DbCommand for 'ExecuteReader'.
2023-10-15 18:50:15.157 +02:00  DBG  Creating DbConnection.
2023-10-15 18:50:15.157 +02:00  DBG  Created DbConnection. (0ms).
2023-10-15 18:50:15.157 +02:00  DBG  Created DbCommand for 'ExecuteReader' (0ms).
2023-10-15 18:50:15.157 +02:00  DBG  Initialized DbCommand for 'ExecuteReader' (0ms).
2023-10-15 18:50:15.157 +02:00  DBG  Opening connection to database 'pmjmvgha' on server ''.
2023-10-15 18:50:15.157 +02:00  DBG  Opened connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:50:15.158 +02:00  DBG  Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."Adresse", a."AgenceImmobiliereId", a."ComplementAdresse", a."CreeLe", a."DepotDeGarantie", a."Loyer", a."ModifieLe", a."NombreDeMetre2", a."PrixDesCharges", a."TypeAppartementId", a."VilleId"
FROM "Appartement" AS a
WHERE a."Id" = @__id_0
LIMIT 1
2023-10-15 18:50:15.206 +02:00  INF  Executed DbCommand (49ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."Adresse", a."AgenceImmobiliereId", a."ComplementAdresse", a."CreeLe", a."DepotDeGarantie", a."Loyer", a."ModifieLe", a."NombreDeMetre2", a."PrixDesCharges", a."TypeAppartementId", a."VilleId"
FROM "Appartement" AS a
WHERE a."Id" = @__id_0
LIMIT 1
2023-10-15 18:50:15.218 +02:00  DBG  Context 'InfoEcoDbContext' started tracking 'AppartementEntite' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-15 18:50:15.245 +02:00  DBG  Closing data reader to 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:50:15.245 +02:00  DBG  A data reader for 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432' is being disposed after spending 38ms reading results.
2023-10-15 18:50:15.245 +02:00  DBG  Closing connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:50:15.245 +02:00  DBG  Closed connection to database 'pmjmvgha' on server '' (0ms).
2023-10-15 18:53:47.367 +02:00  DBG  Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-10-15 18:53:47.607 +02:00  DBG  An 'IServiceProvider' was created for internal use by Entity Framework.
2023-10-15 18:53:48.442 +02:00  DBG  Entity Framework Core 7.0.11 initialized 'InfoEcoDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None
2023-10-15 18:53:48.451 +02:00  DBG  Creating DbConnection.
2023-10-15 18:53:48.494 +02:00  DBG  Created DbConnection. (40ms).
2023-10-15 18:53:48.500 +02:00  DBG  Migrating using database 'pmjmvgha' on server ''.
2023-10-15 18:53:48.515 +02:00  DBG  Opening connection to database 'pmjmvgha' on server ''.
2023-10-15 18:53:49.035 +02:00  DBG  Opened connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:53:49.037 +02:00  DBG  Closing connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:53:49.050 +02:00  DBG  Closed connection to database 'pmjmvgha' on server '' (8ms).
2023-10-15 18:53:49.056 +02:00  DBG  Creating DbCommand for 'ExecuteScalar'.
2023-10-15 18:53:49.061 +02:00  DBG  Created DbCommand for 'ExecuteScalar' (3ms).
2023-10-15 18:53:49.063 +02:00  DBG  Initialized DbCommand for 'ExecuteScalar' (8ms).
2023-10-15 18:53:49.063 +02:00  DBG  Opening connection to database 'pmjmvgha' on server ''.
2023-10-15 18:53:49.424 +02:00  DBG  Opened connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:53:49.431 +02:00  DBG  Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-10-15 18:53:49.506 +02:00  INF  Executed DbCommand (76ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-10-15 18:53:49.509 +02:00  DBG  Closing connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:53:49.511 +02:00  DBG  Closed connection to database 'pmjmvgha' on server '' (3ms).
2023-10-15 18:53:49.513 +02:00  DBG  Opening connection to database 'pmjmvgha' on server ''.
2023-10-15 18:53:49.815 +02:00  DBG  Opened connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:53:49.815 +02:00  DBG  Closing connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:53:49.816 +02:00  DBG  Closed connection to database 'pmjmvgha' on server '' (0ms).
2023-10-15 18:53:49.817 +02:00  DBG  Creating DbCommand for 'ExecuteScalar'.
2023-10-15 18:53:49.817 +02:00  DBG  Created DbCommand for 'ExecuteScalar' (0ms).
2023-10-15 18:53:49.817 +02:00  DBG  Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-10-15 18:53:49.817 +02:00  DBG  Opening connection to database 'pmjmvgha' on server ''.
2023-10-15 18:53:49.818 +02:00  DBG  Opened connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:53:49.818 +02:00  DBG  Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-10-15 18:53:49.865 +02:00  INF  Executed DbCommand (47ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-10-15 18:53:49.865 +02:00  DBG  Closing connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:53:49.865 +02:00  DBG  Closed connection to database 'pmjmvgha' on server '' (0ms).
2023-10-15 18:53:49.887 +02:00  DBG  Creating DbCommand for 'ExecuteReader'.
2023-10-15 18:53:49.887 +02:00  DBG  Created DbCommand for 'ExecuteReader' (0ms).
2023-10-15 18:53:49.887 +02:00  DBG  Initialized DbCommand for 'ExecuteReader' (0ms).
2023-10-15 18:53:49.887 +02:00  DBG  Opening connection to database 'pmjmvgha' on server ''.
2023-10-15 18:53:49.887 +02:00  DBG  Opened connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:53:49.888 +02:00  DBG  Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-10-15 18:53:49.940 +02:00  INF  Executed DbCommand (53ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-10-15 18:53:49.946 +02:00  DBG  Closing data reader to 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:53:49.947 +02:00  DBG  A data reader for 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432' is being disposed after spending 5ms reading results.
2023-10-15 18:53:49.948 +02:00  DBG  Closing connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:53:49.948 +02:00  DBG  Closed connection to database 'pmjmvgha' on server '' (0ms).
2023-10-15 18:53:49.959 +02:00  INF  No migrations were applied. The database is already up to date.
2023-10-15 18:53:49.960 +02:00  DBG  'InfoEcoDbContext' disposed.
2023-10-15 18:53:49.962 +02:00  DBG  Disposing connection to database 'pmjmvgha' on server ''.
2023-10-15 18:53:49.963 +02:00  DBG  Disposed connection to database 'pmjmvgha' on server '' (0ms).
2023-10-15 18:53:49.965 +02:00  DBG  Hosting starting
2023-10-15 18:53:49.998 +02:00  INF  User profile is available. Using 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-10-15 18:53:50.003 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-2ce4c23f-757b-4029-95d3-9c9820e6de80.xml'.
2023-10-15 18:53:50.011 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-6921759b-a9f9-48ea-a379-13505875271d.xml'.
2023-10-15 18:53:50.012 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-7c4081c7-f341-4ce9-ad03-d3ea3cf1c21f.xml'.
2023-10-15 18:53:50.012 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-a038200a-44f7-48da-9d2b-5646ef68d51f.xml'.
2023-10-15 18:53:50.012 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-a642139e-629a-42ab-b89a-38ed4778f2e0.xml'.
2023-10-15 18:53:50.012 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-b1a02c3b-a417-45ff-ac5c-986fca4cdd22.xml'.
2023-10-15 18:53:50.013 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-b5a22f60-a6fe-488b-8048-b8d1034bef7d.xml'.
2023-10-15 18:53:50.013 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-b8996f88-e69f-41d1-b4d3-e7b15b37a5e2.xml'.
2023-10-15 18:53:50.017 +02:00  DBG  Found key {2ce4c23f-757b-4029-95d3-9c9820e6de80}.
2023-10-15 18:53:50.020 +02:00  DBG  Found key {6921759b-a9f9-48ea-a379-13505875271d}.
2023-10-15 18:53:50.021 +02:00  DBG  Found key {7c4081c7-f341-4ce9-ad03-d3ea3cf1c21f}.
2023-10-15 18:53:50.021 +02:00  DBG  Found key {a038200a-44f7-48da-9d2b-5646ef68d51f}.
2023-10-15 18:53:50.021 +02:00  DBG  Found key {a642139e-629a-42ab-b89a-38ed4778f2e0}.
2023-10-15 18:53:50.021 +02:00  DBG  Found key {b1a02c3b-a417-45ff-ac5c-986fca4cdd22}.
2023-10-15 18:53:50.021 +02:00  DBG  Found key {b5a22f60-a6fe-488b-8048-b8d1034bef7d}.
2023-10-15 18:53:50.021 +02:00  DBG  Found key {b8996f88-e69f-41d1-b4d3-e7b15b37a5e2}.
2023-10-15 18:53:50.026 +02:00  DBG  Considering key {6921759b-a9f9-48ea-a379-13505875271d} with expiration date 2023-11-22 12:55:42Z as default key.
2023-10-15 18:53:50.029 +02:00  DBG  Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-10-15 18:53:50.029 +02:00  DBG  Decrypting secret element using Windows DPAPI.
2023-10-15 18:53:50.031 +02:00  DBG  Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-10-15 18:53:50.032 +02:00  DBG  Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-10-15 18:53:50.034 +02:00  DBG  Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-10-15 18:53:50.035 +02:00  DBG  Using key {6921759b-a9f9-48ea-a379-13505875271d} as the default key.
2023-10-15 18:53:50.036 +02:00  DBG  Key ring with default key {6921759b-a9f9-48ea-a379-13505875271d} was loaded during application startup.
2023-10-15 18:53:50.101 +02:00  DBG  Loaded hosting startup assembly Infeco.Api
2023-10-15 18:53:50.101 +02:00  DBG  Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-10-15 18:53:50.106 +02:00  DBG  Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-10-15 18:53:50.106 +02:00  INF  Application started. Press Ctrl+C to shut down.
2023-10-15 18:53:50.107 +02:00  INF  Hosting environment: Development
2023-10-15 18:53:50.107 +02:00  INF  Content root path: C:\Users\fdepret\source\repos\Infeco.api\Infeco.api
2023-10-15 18:53:50.107 +02:00  DBG  Hosting started
2023-10-15 18:53:50.140 +02:00  INF  Request starting HTTP/2 GET https://localhost:44375/index.html - -
2023-10-15 18:53:50.167 +02:00  DBG  Wildcard detected, all requests with hosts will be allowed.
2023-10-15 18:53:50.199 +02:00  DBG  No candidates found for the request path '/index.html'
2023-10-15 18:53:50.199 +02:00  DBG  Request did not match any endpoints
2023-10-15 18:53:50.237 +02:00  DBG  AuthenticationScheme: Bearer was not authenticated.
2023-10-15 18:53:50.352 +02:00  DBG  Response markup is scheduled to include browser refresh script injection.
2023-10-15 18:53:52.510 +02:00  DBG  Response markup was updated to include browser refresh script injection.
2023-10-15 18:53:52.525 +02:00  DBG  Connection ID "18374686485577203716" disconnecting.
2023-10-15 18:53:52.526 +02:00  INF  Request starting HTTP/2 GET https://localhost:44375/_framework/aspnetcore-browser-refresh.js - -
2023-10-15 18:53:52.528 +02:00  INF  Request finished HTTP/2 GET https://localhost:44375/index.html - - - 200 - text/html;charset=utf-8 2388.4581ms
2023-10-15 18:53:52.540 +02:00  DBG  Connection ID "18374686489872171020" disconnecting.
2023-10-15 18:53:52.541 +02:00  INF  Request finished HTTP/2 GET https://localhost:44375/_framework/aspnetcore-browser-refresh.js - - - 200 12352 application/javascript;+charset=utf-8 8.0214ms
2023-10-15 18:53:52.619 +02:00  INF  Request starting HTTP/2 GET https://localhost:44375/swagger/v1/swagger.json - -
2023-10-15 18:53:52.622 +02:00  DBG  No candidates found for the request path '/swagger/v1/swagger.json'
2023-10-15 18:53:52.622 +02:00  DBG  Request did not match any endpoints
2023-10-15 18:53:52.625 +02:00  DBG  AuthenticationScheme: Bearer was not authenticated.
2023-10-15 18:53:52.845 +02:00  DBG  Connection ID "18374686489872171022" disconnecting.
2023-10-15 18:53:52.845 +02:00  INF  Request finished HTTP/2 GET https://localhost:44375/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 225.9981ms
2023-10-15 18:53:56.920 +02:00  INF  Request starting HTTP/1.1 PUT https://localhost:44375/Appartements/11 application/json 150
2023-10-15 18:53:56.923 +02:00  DBG  1 candidate(s) found for the request path '/Appartements/11'
2023-10-15 18:53:56.926 +02:00  DBG  Endpoint 'Infeco.Api.Controllers.AppartementController.ModifierUnAppartementAsync (Infeco.Api)' with route pattern 'appartements/{id:int}' is valid for the request path '/Appartements/11'
2023-10-15 18:53:56.927 +02:00  DBG  Request matched endpoint 'Infeco.Api.Controllers.AppartementController.ModifierUnAppartementAsync (Infeco.Api)'
2023-10-15 18:53:57.057 +02:00  DBG  Successfully validated the token.
2023-10-15 18:53:57.059 +02:00  DBG  AuthenticationScheme: Bearer was successfully authenticated.
2023-10-15 18:53:57.064 +02:00  DBG  Authorization was successful.
2023-10-15 18:53:57.066 +02:00  DBG  Static files was skipped as the request already matched an endpoint.
2023-10-15 18:53:57.067 +02:00  INF  Executing endpoint 'Infeco.Api.Controllers.AppartementController.ModifierUnAppartementAsync (Infeco.Api)'
2023-10-15 18:53:57.092 +02:00  INF  Route matched with {action = "ModifierUnAppartement", controller = "Appartement"}. Executing controller action with signature System.Threading.Tasks.Task ModifierUnAppartementAsync(Int32, Infeco.Api.Commands.Appartements.ModifierAppartementCommand, System.Threading.CancellationToken) on controller Infeco.Api.Controllers.AppartementController (Infeco.Api).
2023-10-15 18:53:57.094 +02:00  DBG  Execution plan of authorization filters (in the following order): ["None"]
2023-10-15 18:53:57.094 +02:00  DBG  Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2023-10-15 18:53:57.094 +02:00  DBG  Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2023-10-15 18:53:57.094 +02:00  DBG  Execution plan of exception filters (in the following order): ["None"]
2023-10-15 18:53:57.094 +02:00  DBG  Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2023-10-15 18:53:57.096 +02:00  DBG  Executing controller factory for controller Infeco.Api.Controllers.AppartementController (Infeco.Api)
2023-10-15 18:53:57.097 +02:00  DBG  Executed controller factory for controller Infeco.Api.Controllers.AppartementController (Infeco.Api)
2023-10-15 18:53:57.102 +02:00  DBG  Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-10-15 18:53:57.104 +02:00  DBG  Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-10-15 18:53:57.104 +02:00  DBG  Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-10-15 18:53:57.104 +02:00  DBG  Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-10-15 18:53:57.105 +02:00  DBG  Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-10-15 18:53:57.107 +02:00  DBG  Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-10-15 18:53:57.108 +02:00  DBG  Attempting to bind parameter 'command' of type 'Infeco.Api.Commands.Appartements.ModifierAppartementCommand' ...
2023-10-15 18:53:57.109 +02:00  DBG  Attempting to bind parameter 'command' of type 'Infeco.Api.Commands.Appartements.ModifierAppartementCommand' using the name '' in request data ...
2023-10-15 18:53:57.110 +02:00  DBG  Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-10-15 18:53:57.110 +02:00  DBG  Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-10-15 18:53:57.183 +02:00  DBG  Done attempting to bind parameter 'command' of type 'Infeco.Api.Commands.Appartements.ModifierAppartementCommand'.
2023-10-15 18:53:57.183 +02:00  DBG  Done attempting to bind parameter 'command' of type 'Infeco.Api.Commands.Appartements.ModifierAppartementCommand'.
2023-10-15 18:53:57.183 +02:00  DBG  Attempting to validate the bound parameter 'command' of type 'Infeco.Api.Commands.Appartements.ModifierAppartementCommand' ...
2023-10-15 18:53:57.192 +02:00  DBG  Done attempting to validate the bound parameter 'command' of type 'Infeco.Api.Commands.Appartements.ModifierAppartementCommand'.
2023-10-15 18:53:57.192 +02:00  DBG  Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-10-15 18:53:57.192 +02:00  DBG  Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-10-15 18:53:57.192 +02:00  DBG  Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-10-15 18:53:57.193 +02:00  DBG  Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-10-15 18:53:57.250 +02:00  INF  Executing action method Infeco.Api.Controllers.AppartementController.ModifierUnAppartementAsync (Infeco.Api) - Validation state: "Valid"
2023-10-15 18:53:57.288 +02:00  INF  Handling ModifierAppartementCommand
2023-10-15 18:53:57.299 +02:00  DBG  Entity Framework Core 7.0.11 initialized 'InfoEcoDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None
2023-10-15 18:53:59.369 +02:00  DBG  Compiling query expression: 
'DbSet<AppartementEntite>()
    .AsNoTracking()
    .FirstOrDefault(u => u.Id == __id_0)'
2023-10-15 18:53:59.527 +02:00  DBG  Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<AppartementEntite>(
    asyncEnumerable: new SingleQueryingEnumerable<AppartementEntite>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: AppartementEntite.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: AppartementEntite.Adresse (string), 1], [Property: AppartementEntite.AgenceImmobiliereId (int) Required FK Index, 2], [Property: AppartementEntite.ComplementAdresse (string), 3], [Property: AppartementEntite.CreeLe (DateTime) Required, 4], [Property: AppartementEntite.DepotDeGarantie (double) Required, 5], [Property: AppartementEntite.Loyer (double) Required, 6], [Property: AppartementEntite.ModifieLe (DateTime?), 7], [Property: AppartementEntite.NombreDeMetre2 (double) Required, 8], [Property: AppartementEntite.PrixDesCharges (double) Required, 9], [Property: AppartementEntite.TypeAppartementId (int?) FK Index, 10], [Property: AppartementEntite.VilleId (int) Required FK Index, 11] }
            SELECT TOP(1) a.Id, a.Adresse, a.AgenceImmobiliereId, a.ComplementAdresse, a.CreeLe, a.DepotDeGarantie, a.Loyer, a.ModifieLe, a.NombreDeMetre2, a.PrixDesCharges, a.TypeAppartementId, a.VilleId
            FROM Appartement AS a
            WHERE a.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, AppartementEntite>, 
        Infoeco.infrastructure.InfoEcoDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-10-15 18:53:59.557 +02:00  DBG  Creating DbCommand for 'ExecuteReader'.
2023-10-15 18:53:59.557 +02:00  DBG  Creating DbConnection.
2023-10-15 18:53:59.557 +02:00  DBG  Created DbConnection. (0ms).
2023-10-15 18:53:59.557 +02:00  DBG  Created DbCommand for 'ExecuteReader' (0ms).
2023-10-15 18:53:59.560 +02:00  DBG  Initialized DbCommand for 'ExecuteReader' (3ms).
2023-10-15 18:53:59.562 +02:00  DBG  Opening connection to database 'pmjmvgha' on server ''.
2023-10-15 18:53:59.564 +02:00  DBG  Opened connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:53:59.568 +02:00  DBG  Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."Adresse", a."AgenceImmobiliereId", a."ComplementAdresse", a."CreeLe", a."DepotDeGarantie", a."Loyer", a."ModifieLe", a."NombreDeMetre2", a."PrixDesCharges", a."TypeAppartementId", a."VilleId"
FROM "Appartement" AS a
WHERE a."Id" = @__id_0
LIMIT 1
2023-10-15 18:53:59.634 +02:00  INF  Executed DbCommand (69ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."Adresse", a."AgenceImmobiliereId", a."ComplementAdresse", a."CreeLe", a."DepotDeGarantie", a."Loyer", a."ModifieLe", a."NombreDeMetre2", a."PrixDesCharges", a."TypeAppartementId", a."VilleId"
FROM "Appartement" AS a
WHERE a."Id" = @__id_0
LIMIT 1
2023-10-15 18:53:59.651 +02:00  DBG  Closing data reader to 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:53:59.652 +02:00  DBG  A data reader for 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432' is being disposed after spending 16ms reading results.
2023-10-15 18:53:59.655 +02:00  DBG  Closing connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:53:59.655 +02:00  DBG  Closed connection to database 'pmjmvgha' on server '' (0ms).
2023-10-15 18:54:08.491 +02:00  DBG  Context 'InfoEcoDbContext' started tracking 'AppartementEntite' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-15 18:54:12.262 +02:00  DBG  SaveChanges starting for 'InfoEcoDbContext'.
2023-10-15 18:54:12.265 +02:00  DBG  DetectChanges starting for 'InfoEcoDbContext'.
2023-10-15 18:54:12.276 +02:00  DBG  DetectChanges completed for 'InfoEcoDbContext'.
2023-10-15 18:54:12.352 +02:00  DBG  Opening connection to database 'pmjmvgha' on server ''.
2023-10-15 18:54:12.353 +02:00  DBG  Opened connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:54:12.354 +02:00  DBG  Creating DbCommand for 'ExecuteReader'.
2023-10-15 18:54:12.355 +02:00  DBG  Created DbCommand for 'ExecuteReader' (0ms).
2023-10-15 18:54:12.355 +02:00  DBG  Initialized DbCommand for 'ExecuteReader' (0ms).
2023-10-15 18:54:12.355 +02:00  DBG  Executing DbCommand [Parameters=[@p11='?' (DbType = Int32), @p0='?', @p1='?' (DbType = Int32), @p2='?', @p3='?' (DbType = DateTime), @p4='?' (DbType = Double), @p5='?' (DbType = Double), @p6='?' (DbType = DateTime), @p7='?' (DbType = Double), @p8='?' (DbType = Double), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Appartement" SET "Adresse" = @p0, "AgenceImmobiliereId" = @p1, "ComplementAdresse" = @p2, "CreeLe" = @p3, "DepotDeGarantie" = @p4, "Loyer" = @p5, "ModifieLe" = @p6, "NombreDeMetre2" = @p7, "PrixDesCharges" = @p8, "TypeAppartementId" = @p9, "VilleId" = @p10
WHERE "Id" = @p11;
2023-10-15 18:54:12.665 +02:00  ERR  Failed executing DbCommand (309ms) [Parameters=[@p11='?' (DbType = Int32), @p0='?', @p1='?' (DbType = Int32), @p2='?', @p3='?' (DbType = DateTime), @p4='?' (DbType = Double), @p5='?' (DbType = Double), @p6='?' (DbType = DateTime), @p7='?' (DbType = Double), @p8='?' (DbType = Double), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Appartement" SET "Adresse" = @p0, "AgenceImmobiliereId" = @p1, "ComplementAdresse" = @p2, "CreeLe" = @p3, "DepotDeGarantie" = @p4, "Loyer" = @p5, "ModifieLe" = @p6, "NombreDeMetre2" = @p7, "PrixDesCharges" = @p8, "TypeAppartementId" = @p9, "VilleId" = @p10
WHERE "Id" = @p11;
2023-10-15 18:54:12.887 +02:00  DBG  Closing connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:54:12.887 +02:00  DBG  Closed connection to database 'pmjmvgha' on server '' (0ms).
2023-10-15 18:54:13.270 +02:00  ERR  An exception occurred in the database while saving changes for context type 'Infoeco.infrastructure.InfoEcoDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "Appartement" violates foreign key constraint "FK_Appartement_AgenceImmobiliere_AgenceImmobiliereId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|234_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "Appartement" violates foreign key constraint "FK_Appartement_AgenceImmobiliere_AgenceImmobiliereId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Appartement
    ConstraintName: FK_Appartement_AgenceImmobiliere_AgenceImmobiliereId
    File: ri_triggers.c
    Line: 2465
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "Appartement" violates foreign key constraint "FK_Appartement_AgenceImmobiliere_AgenceImmobiliereId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|234_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "Appartement" violates foreign key constraint "FK_Appartement_AgenceImmobiliere_AgenceImmobiliereId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Appartement
    ConstraintName: FK_Appartement_AgenceImmobiliere_AgenceImmobiliereId
    File: ri_triggers.c
    Line: 2465
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)

2023-10-15 18:55:52.817 +02:00  DBG  Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-10-15 18:55:53.036 +02:00  DBG  An 'IServiceProvider' was created for internal use by Entity Framework.
2023-10-15 18:55:53.764 +02:00  DBG  Entity Framework Core 7.0.11 initialized 'InfoEcoDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None
2023-10-15 18:55:53.774 +02:00  DBG  Creating DbConnection.
2023-10-15 18:55:53.818 +02:00  DBG  Created DbConnection. (42ms).
2023-10-15 18:55:53.822 +02:00  DBG  Migrating using database 'pmjmvgha' on server ''.
2023-10-15 18:55:53.839 +02:00  DBG  Opening connection to database 'pmjmvgha' on server ''.
2023-10-15 18:55:54.354 +02:00  DBG  Opened connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:55:54.356 +02:00  DBG  Closing connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:55:54.370 +02:00  DBG  Closed connection to database 'pmjmvgha' on server '' (9ms).
2023-10-15 18:55:54.379 +02:00  DBG  Creating DbCommand for 'ExecuteScalar'.
2023-10-15 18:55:54.387 +02:00  DBG  Created DbCommand for 'ExecuteScalar' (5ms).
2023-10-15 18:55:54.390 +02:00  DBG  Initialized DbCommand for 'ExecuteScalar' (12ms).
2023-10-15 18:55:54.390 +02:00  DBG  Opening connection to database 'pmjmvgha' on server ''.
2023-10-15 18:55:54.746 +02:00  DBG  Opened connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:55:54.751 +02:00  DBG  Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-10-15 18:55:54.825 +02:00  INF  Executed DbCommand (73ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-10-15 18:55:54.826 +02:00  DBG  Closing connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:55:54.828 +02:00  DBG  Closed connection to database 'pmjmvgha' on server '' (1ms).
2023-10-15 18:55:54.829 +02:00  DBG  Opening connection to database 'pmjmvgha' on server ''.
2023-10-15 18:55:55.113 +02:00  DBG  Opened connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:55:55.113 +02:00  DBG  Closing connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:55:55.114 +02:00  DBG  Closed connection to database 'pmjmvgha' on server '' (0ms).
2023-10-15 18:55:55.114 +02:00  DBG  Creating DbCommand for 'ExecuteScalar'.
2023-10-15 18:55:55.114 +02:00  DBG  Created DbCommand for 'ExecuteScalar' (0ms).
2023-10-15 18:55:55.114 +02:00  DBG  Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-10-15 18:55:55.114 +02:00  DBG  Opening connection to database 'pmjmvgha' on server ''.
2023-10-15 18:55:55.114 +02:00  DBG  Opened connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:55:55.115 +02:00  DBG  Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-10-15 18:55:55.161 +02:00  INF  Executed DbCommand (47ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-10-15 18:55:55.162 +02:00  DBG  Closing connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:55:55.162 +02:00  DBG  Closed connection to database 'pmjmvgha' on server '' (0ms).
2023-10-15 18:55:55.178 +02:00  DBG  Creating DbCommand for 'ExecuteReader'.
2023-10-15 18:55:55.178 +02:00  DBG  Created DbCommand for 'ExecuteReader' (0ms).
2023-10-15 18:55:55.178 +02:00  DBG  Initialized DbCommand for 'ExecuteReader' (0ms).
2023-10-15 18:55:55.178 +02:00  DBG  Opening connection to database 'pmjmvgha' on server ''.
2023-10-15 18:55:55.178 +02:00  DBG  Opened connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:55:55.179 +02:00  DBG  Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-10-15 18:55:55.227 +02:00  INF  Executed DbCommand (48ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-10-15 18:55:55.232 +02:00  DBG  Closing data reader to 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:55:55.234 +02:00  DBG  A data reader for 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432' is being disposed after spending 5ms reading results.
2023-10-15 18:55:55.234 +02:00  DBG  Closing connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:55:55.234 +02:00  DBG  Closed connection to database 'pmjmvgha' on server '' (0ms).
2023-10-15 18:55:55.243 +02:00  INF  No migrations were applied. The database is already up to date.
2023-10-15 18:55:55.245 +02:00  DBG  'InfoEcoDbContext' disposed.
2023-10-15 18:55:55.246 +02:00  DBG  Disposing connection to database 'pmjmvgha' on server ''.
2023-10-15 18:55:55.247 +02:00  DBG  Disposed connection to database 'pmjmvgha' on server '' (0ms).
2023-10-15 18:55:55.249 +02:00  DBG  Hosting starting
2023-10-15 18:55:55.281 +02:00  INF  User profile is available. Using 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-10-15 18:55:55.286 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-2ce4c23f-757b-4029-95d3-9c9820e6de80.xml'.
2023-10-15 18:55:55.293 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-6921759b-a9f9-48ea-a379-13505875271d.xml'.
2023-10-15 18:55:55.293 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-7c4081c7-f341-4ce9-ad03-d3ea3cf1c21f.xml'.
2023-10-15 18:55:55.294 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-a038200a-44f7-48da-9d2b-5646ef68d51f.xml'.
2023-10-15 18:55:55.294 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-a642139e-629a-42ab-b89a-38ed4778f2e0.xml'.
2023-10-15 18:55:55.294 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-b1a02c3b-a417-45ff-ac5c-986fca4cdd22.xml'.
2023-10-15 18:55:55.294 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-b5a22f60-a6fe-488b-8048-b8d1034bef7d.xml'.
2023-10-15 18:55:55.294 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-b8996f88-e69f-41d1-b4d3-e7b15b37a5e2.xml'.
2023-10-15 18:55:55.298 +02:00  DBG  Found key {2ce4c23f-757b-4029-95d3-9c9820e6de80}.
2023-10-15 18:55:55.303 +02:00  DBG  Found key {6921759b-a9f9-48ea-a379-13505875271d}.
2023-10-15 18:55:55.303 +02:00  DBG  Found key {7c4081c7-f341-4ce9-ad03-d3ea3cf1c21f}.
2023-10-15 18:55:55.303 +02:00  DBG  Found key {a038200a-44f7-48da-9d2b-5646ef68d51f}.
2023-10-15 18:55:55.303 +02:00  DBG  Found key {a642139e-629a-42ab-b89a-38ed4778f2e0}.
2023-10-15 18:55:55.303 +02:00  DBG  Found key {b1a02c3b-a417-45ff-ac5c-986fca4cdd22}.
2023-10-15 18:55:55.303 +02:00  DBG  Found key {b5a22f60-a6fe-488b-8048-b8d1034bef7d}.
2023-10-15 18:55:55.304 +02:00  DBG  Found key {b8996f88-e69f-41d1-b4d3-e7b15b37a5e2}.
2023-10-15 18:55:55.309 +02:00  DBG  Considering key {6921759b-a9f9-48ea-a379-13505875271d} with expiration date 2023-11-22 12:55:42Z as default key.
2023-10-15 18:55:55.312 +02:00  DBG  Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-10-15 18:55:55.313 +02:00  DBG  Decrypting secret element using Windows DPAPI.
2023-10-15 18:55:55.315 +02:00  DBG  Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-10-15 18:55:55.316 +02:00  DBG  Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-10-15 18:55:55.317 +02:00  DBG  Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-10-15 18:55:55.319 +02:00  DBG  Using key {6921759b-a9f9-48ea-a379-13505875271d} as the default key.
2023-10-15 18:55:55.319 +02:00  DBG  Key ring with default key {6921759b-a9f9-48ea-a379-13505875271d} was loaded during application startup.
2023-10-15 18:55:55.391 +02:00  DBG  Loaded hosting startup assembly Infeco.Api
2023-10-15 18:55:55.396 +02:00  DBG  Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-10-15 18:55:55.397 +02:00  DBG  Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-10-15 18:55:55.397 +02:00  INF  Application started. Press Ctrl+C to shut down.
2023-10-15 18:55:55.397 +02:00  INF  Hosting environment: Development
2023-10-15 18:55:55.397 +02:00  INF  Content root path: C:\Users\fdepret\source\repos\Infeco.api\Infeco.api
2023-10-15 18:55:55.397 +02:00  DBG  Hosting started
2023-10-15 18:55:55.435 +02:00  INF  Request starting HTTP/2 GET https://localhost:44375/index.html - -
2023-10-15 18:55:55.465 +02:00  DBG  Wildcard detected, all requests with hosts will be allowed.
2023-10-15 18:55:55.499 +02:00  DBG  No candidates found for the request path '/index.html'
2023-10-15 18:55:55.500 +02:00  DBG  Request did not match any endpoints
2023-10-15 18:55:55.557 +02:00  DBG  AuthenticationScheme: Bearer was not authenticated.
2023-10-15 18:55:55.730 +02:00  DBG  Response markup is scheduled to include browser refresh script injection.
2023-10-15 18:55:57.902 +02:00  DBG  Response markup was updated to include browser refresh script injection.
2023-10-15 18:55:57.926 +02:00  DBG  Connection ID "18230571310386249735" disconnecting.
2023-10-15 18:55:57.928 +02:00  INF  Request starting HTTP/2 GET https://localhost:44375/_framework/aspnetcore-browser-refresh.js - -
2023-10-15 18:55:57.931 +02:00  INF  Request finished HTTP/2 GET https://localhost:44375/index.html - - - 200 - text/html;charset=utf-8 2494.3754ms
2023-10-15 18:55:57.951 +02:00  INF  Request finished HTTP/2 GET https://localhost:44375/_framework/aspnetcore-browser-refresh.js - - - 200 12352 application/javascript;+charset=utf-8 9.9690ms
2023-10-15 18:55:57.951 +02:00  DBG  Connection ID "18374686515641974799" disconnecting.
2023-10-15 18:55:58.055 +02:00  INF  Request starting HTTP/2 GET https://localhost:44375/swagger/v1/swagger.json - -
2023-10-15 18:55:58.057 +02:00  DBG  No candidates found for the request path '/swagger/v1/swagger.json'
2023-10-15 18:55:58.057 +02:00  DBG  Request did not match any endpoints
2023-10-15 18:55:58.059 +02:00  DBG  AuthenticationScheme: Bearer was not authenticated.
2023-10-15 18:55:58.283 +02:00  DBG  Connection ID "18374686524231909389" disconnecting.
2023-10-15 18:55:58.284 +02:00  INF  Request finished HTTP/2 GET https://localhost:44375/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 228.5546ms
2023-10-15 18:56:02.734 +02:00  INF  Request starting HTTP/1.1 PUT https://localhost:44375/Appartements/11 application/json 150
2023-10-15 18:56:02.737 +02:00  DBG  1 candidate(s) found for the request path '/Appartements/11'
2023-10-15 18:56:02.740 +02:00  DBG  Endpoint 'Infeco.Api.Controllers.AppartementController.ModifierUnAppartementAsync (Infeco.Api)' with route pattern 'appartements/{id:int}' is valid for the request path '/Appartements/11'
2023-10-15 18:56:02.741 +02:00  DBG  Request matched endpoint 'Infeco.Api.Controllers.AppartementController.ModifierUnAppartementAsync (Infeco.Api)'
2023-10-15 18:56:02.923 +02:00  DBG  Successfully validated the token.
2023-10-15 18:56:02.925 +02:00  DBG  AuthenticationScheme: Bearer was successfully authenticated.
2023-10-15 18:56:02.932 +02:00  DBG  Authorization was successful.
2023-10-15 18:56:02.934 +02:00  DBG  Static files was skipped as the request already matched an endpoint.
2023-10-15 18:56:02.935 +02:00  INF  Executing endpoint 'Infeco.Api.Controllers.AppartementController.ModifierUnAppartementAsync (Infeco.Api)'
2023-10-15 18:56:02.963 +02:00  INF  Route matched with {action = "ModifierUnAppartement", controller = "Appartement"}. Executing controller action with signature System.Threading.Tasks.Task ModifierUnAppartementAsync(Int32, Infeco.Api.Commands.Appartements.ModifierAppartementCommand, System.Threading.CancellationToken) on controller Infeco.Api.Controllers.AppartementController (Infeco.Api).
2023-10-15 18:56:02.964 +02:00  DBG  Execution plan of authorization filters (in the following order): ["None"]
2023-10-15 18:56:02.964 +02:00  DBG  Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2023-10-15 18:56:02.965 +02:00  DBG  Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2023-10-15 18:56:02.965 +02:00  DBG  Execution plan of exception filters (in the following order): ["None"]
2023-10-15 18:56:02.965 +02:00  DBG  Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2023-10-15 18:56:02.967 +02:00  DBG  Executing controller factory for controller Infeco.Api.Controllers.AppartementController (Infeco.Api)
2023-10-15 18:56:02.967 +02:00  DBG  Executed controller factory for controller Infeco.Api.Controllers.AppartementController (Infeco.Api)
2023-10-15 18:56:02.972 +02:00  DBG  Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-10-15 18:56:02.975 +02:00  DBG  Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-10-15 18:56:02.976 +02:00  DBG  Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-10-15 18:56:02.976 +02:00  DBG  Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-10-15 18:56:02.976 +02:00  DBG  Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-10-15 18:56:02.979 +02:00  DBG  Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-10-15 18:56:02.980 +02:00  DBG  Attempting to bind parameter 'command' of type 'Infeco.Api.Commands.Appartements.ModifierAppartementCommand' ...
2023-10-15 18:56:02.981 +02:00  DBG  Attempting to bind parameter 'command' of type 'Infeco.Api.Commands.Appartements.ModifierAppartementCommand' using the name '' in request data ...
2023-10-15 18:56:02.982 +02:00  DBG  Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-10-15 18:56:02.982 +02:00  DBG  Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-10-15 18:56:03.054 +02:00  DBG  Done attempting to bind parameter 'command' of type 'Infeco.Api.Commands.Appartements.ModifierAppartementCommand'.
2023-10-15 18:56:03.054 +02:00  DBG  Done attempting to bind parameter 'command' of type 'Infeco.Api.Commands.Appartements.ModifierAppartementCommand'.
2023-10-15 18:56:03.054 +02:00  DBG  Attempting to validate the bound parameter 'command' of type 'Infeco.Api.Commands.Appartements.ModifierAppartementCommand' ...
2023-10-15 18:56:03.061 +02:00  DBG  Done attempting to validate the bound parameter 'command' of type 'Infeco.Api.Commands.Appartements.ModifierAppartementCommand'.
2023-10-15 18:56:03.062 +02:00  DBG  Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-10-15 18:56:03.062 +02:00  DBG  Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-10-15 18:56:03.062 +02:00  DBG  Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-10-15 18:56:03.062 +02:00  DBG  Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-10-15 18:56:03.127 +02:00  INF  Executing action method Infeco.Api.Controllers.AppartementController.ModifierUnAppartementAsync (Infeco.Api) - Validation state: "Valid"
2023-10-15 18:56:03.168 +02:00  INF  Handling ModifierAppartementCommand
2023-10-15 18:56:03.193 +02:00  DBG  Entity Framework Core 7.0.11 initialized 'InfoEcoDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None
2023-10-15 18:56:05.406 +02:00  DBG  Compiling query expression: 
'DbSet<AppartementEntite>()
    .AsNoTracking()
    .FirstOrDefault(u => u.Id == __id_0)'
2023-10-15 18:56:05.612 +02:00  DBG  Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<AppartementEntite>(
    asyncEnumerable: new SingleQueryingEnumerable<AppartementEntite>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: AppartementEntite.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: AppartementEntite.Adresse (string), 1], [Property: AppartementEntite.AgenceImmobiliereId (int) Required FK Index, 2], [Property: AppartementEntite.ComplementAdresse (string), 3], [Property: AppartementEntite.CreeLe (DateTime) Required, 4], [Property: AppartementEntite.DepotDeGarantie (double) Required, 5], [Property: AppartementEntite.Loyer (double) Required, 6], [Property: AppartementEntite.ModifieLe (DateTime?), 7], [Property: AppartementEntite.NombreDeMetre2 (double) Required, 8], [Property: AppartementEntite.PrixDesCharges (double) Required, 9], [Property: AppartementEntite.TypeAppartementId (int?) FK Index, 10], [Property: AppartementEntite.VilleId (int) Required FK Index, 11] }
            SELECT TOP(1) a.Id, a.Adresse, a.AgenceImmobiliereId, a.ComplementAdresse, a.CreeLe, a.DepotDeGarantie, a.Loyer, a.ModifieLe, a.NombreDeMetre2, a.PrixDesCharges, a.TypeAppartementId, a.VilleId
            FROM Appartement AS a
            WHERE a.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, AppartementEntite>, 
        Infoeco.infrastructure.InfoEcoDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-10-15 18:56:05.644 +02:00  DBG  Creating DbCommand for 'ExecuteReader'.
2023-10-15 18:56:05.644 +02:00  DBG  Creating DbConnection.
2023-10-15 18:56:05.644 +02:00  DBG  Created DbConnection. (0ms).
2023-10-15 18:56:05.644 +02:00  DBG  Created DbCommand for 'ExecuteReader' (0ms).
2023-10-15 18:56:05.646 +02:00  DBG  Initialized DbCommand for 'ExecuteReader' (2ms).
2023-10-15 18:56:05.648 +02:00  DBG  Opening connection to database 'pmjmvgha' on server ''.
2023-10-15 18:56:05.650 +02:00  DBG  Opened connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:56:05.653 +02:00  DBG  Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."Adresse", a."AgenceImmobiliereId", a."ComplementAdresse", a."CreeLe", a."DepotDeGarantie", a."Loyer", a."ModifieLe", a."NombreDeMetre2", a."PrixDesCharges", a."TypeAppartementId", a."VilleId"
FROM "Appartement" AS a
WHERE a."Id" = @__id_0
LIMIT 1
2023-10-15 18:56:05.717 +02:00  INF  Executed DbCommand (66ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."Adresse", a."AgenceImmobiliereId", a."ComplementAdresse", a."CreeLe", a."DepotDeGarantie", a."Loyer", a."ModifieLe", a."NombreDeMetre2", a."PrixDesCharges", a."TypeAppartementId", a."VilleId"
FROM "Appartement" AS a
WHERE a."Id" = @__id_0
LIMIT 1
2023-10-15 18:56:05.733 +02:00  DBG  Closing data reader to 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:56:05.734 +02:00  DBG  A data reader for 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432' is being disposed after spending 16ms reading results.
2023-10-15 18:56:05.737 +02:00  DBG  Closing connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:56:05.737 +02:00  DBG  Closed connection to database 'pmjmvgha' on server '' (0ms).
2023-10-15 18:56:13.379 +02:00  DBG  Context 'InfoEcoDbContext' started tracking 'AppartementEntite' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-15 18:56:14.014 +02:00  DBG  SaveChanges starting for 'InfoEcoDbContext'.
2023-10-15 18:56:14.018 +02:00  DBG  DetectChanges starting for 'InfoEcoDbContext'.
2023-10-15 18:56:14.028 +02:00  DBG  DetectChanges completed for 'InfoEcoDbContext'.
2023-10-15 18:56:14.098 +02:00  DBG  Opening connection to database 'pmjmvgha' on server ''.
2023-10-15 18:56:14.099 +02:00  DBG  Opened connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:56:14.100 +02:00  DBG  Creating DbCommand for 'ExecuteReader'.
2023-10-15 18:56:14.100 +02:00  DBG  Created DbCommand for 'ExecuteReader' (0ms).
2023-10-15 18:56:14.101 +02:00  DBG  Initialized DbCommand for 'ExecuteReader' (0ms).
2023-10-15 18:56:14.101 +02:00  DBG  Executing DbCommand [Parameters=[@p11='?' (DbType = Int32), @p0='?', @p1='?' (DbType = Int32), @p2='?', @p3='?' (DbType = DateTime), @p4='?' (DbType = Double), @p5='?' (DbType = Double), @p6='?' (DbType = DateTime), @p7='?' (DbType = Double), @p8='?' (DbType = Double), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Appartement" SET "Adresse" = @p0, "AgenceImmobiliereId" = @p1, "ComplementAdresse" = @p2, "CreeLe" = @p3, "DepotDeGarantie" = @p4, "Loyer" = @p5, "ModifieLe" = @p6, "NombreDeMetre2" = @p7, "PrixDesCharges" = @p8, "TypeAppartementId" = @p9, "VilleId" = @p10
WHERE "Id" = @p11;
2023-10-15 18:56:14.158 +02:00  INF  Executed DbCommand (58ms) [Parameters=[@p11='?' (DbType = Int32), @p0='?', @p1='?' (DbType = Int32), @p2='?', @p3='?' (DbType = DateTime), @p4='?' (DbType = Double), @p5='?' (DbType = Double), @p6='?' (DbType = DateTime), @p7='?' (DbType = Double), @p8='?' (DbType = Double), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Appartement" SET "Adresse" = @p0, "AgenceImmobiliereId" = @p1, "ComplementAdresse" = @p2, "CreeLe" = @p3, "DepotDeGarantie" = @p4, "Loyer" = @p5, "ModifieLe" = @p6, "NombreDeMetre2" = @p7, "PrixDesCharges" = @p8, "TypeAppartementId" = @p9, "VilleId" = @p10
WHERE "Id" = @p11;
2023-10-15 18:56:14.161 +02:00  DBG  Closing data reader to 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:56:14.161 +02:00  DBG  A data reader for 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432' is being disposed after spending 2ms reading results.
2023-10-15 18:56:14.162 +02:00  DBG  Closing connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 18:56:14.162 +02:00  DBG  Closed connection to database 'pmjmvgha' on server '' (0ms).
2023-10-15 18:56:14.170 +02:00  DBG  An entity of type 'AppartementEntite' tracked by 'InfoEcoDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-15 18:56:14.172 +02:00  DBG  SaveChanges completed for 'InfoEcoDbContext' with 1 entities written to the database.
2023-10-15 18:56:19.449 +02:00  INF  Handled Unit
2023-10-15 18:56:19.452 +02:00  INF  Information : PUT https://localhost:44375/Appartements/11 from '::1:60422' responded 200 in 16280,8766 ms
2023-10-15 18:56:19.459 +02:00  INF  Executed action method Infeco.Api.Controllers.AppartementController.ModifierUnAppartementAsync (Infeco.Api), returned result Microsoft.AspNetCore.Mvc.EmptyResult in 16329.4191ms.
2023-10-15 18:56:19.466 +02:00  INF  Executed action Infeco.Api.Controllers.AppartementController.ModifierUnAppartementAsync (Infeco.Api) in 16498.6062ms
2023-10-15 18:56:19.467 +02:00  INF  Executed endpoint 'Infeco.Api.Controllers.AppartementController.ModifierUnAppartementAsync (Infeco.Api)'
2023-10-15 18:56:19.469 +02:00  DBG  'InfoEcoDbContext' disposed.
2023-10-15 18:56:19.472 +02:00  DBG  Disposing connection to database 'pmjmvgha' on server ''.
2023-10-15 18:56:19.473 +02:00  DBG  Disposed connection to database 'pmjmvgha' on server '' (1ms).
2023-10-15 18:56:19.473 +02:00  INF  Request finished HTTP/1.1 PUT https://localhost:44375/Appartements/11 application/json 150 - 200 - - 16739.5434ms
2023-10-15 19:01:55.035 +02:00  INF  Request starting HTTP/1.1 GET https://localhost:44375/Appartements/11 - -
2023-10-15 19:01:55.038 +02:00  DBG  1 candidate(s) found for the request path '/Appartements/11'
2023-10-15 19:01:55.038 +02:00  DBG  Endpoint 'Infeco.Api.Controllers.AppartementController.ObtenirAppartementParIdAsync (Infeco.Api)' with route pattern 'appartements/{id}' is valid for the request path '/Appartements/11'
2023-10-15 19:01:55.039 +02:00  DBG  Request matched endpoint 'Infeco.Api.Controllers.AppartementController.ObtenirAppartementParIdAsync (Infeco.Api)'
2023-10-15 19:01:55.075 +02:00  INF  Failed to validate the token.Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '15/10/2023 16:59:51', Current time: '15/10/2023 17:01:55'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()

2023-10-15 19:01:55.090 +02:00  INF  Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '15/10/2023 16:59:51', Current time: '15/10/2023 17:01:55'.
2023-10-15 19:01:55.093 +02:00  INF  Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-10-15 19:01:55.126 +02:00  INF  AuthenticationScheme: Bearer was challenged.
2023-10-15 19:01:55.127 +02:00  INF  Request finished HTTP/1.1 GET https://localhost:44375/Appartements/11 - - - 401 - - 92.5868ms
2023-10-15 19:02:02.669 +02:00  INF  Request starting HTTP/1.1 GET https://localhost:44375/Appartements/11 - -
2023-10-15 19:02:02.669 +02:00  DBG  1 candidate(s) found for the request path '/Appartements/11'
2023-10-15 19:02:02.669 +02:00  DBG  Endpoint 'Infeco.Api.Controllers.AppartementController.ObtenirAppartementParIdAsync (Infeco.Api)' with route pattern 'appartements/{id}' is valid for the request path '/Appartements/11'
2023-10-15 19:02:02.669 +02:00  DBG  Request matched endpoint 'Infeco.Api.Controllers.AppartementController.ObtenirAppartementParIdAsync (Infeco.Api)'
2023-10-15 19:02:02.692 +02:00  INF  Failed to validate the token.Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '15/10/2023 16:59:51', Current time: '15/10/2023 17:02:02'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()

2023-10-15 19:02:02.693 +02:00  INF  Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '15/10/2023 16:59:51', Current time: '15/10/2023 17:02:02'.
2023-10-15 19:02:02.694 +02:00  INF  Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-10-15 19:02:02.695 +02:00  INF  AuthenticationScheme: Bearer was challenged.
2023-10-15 19:02:02.696 +02:00  INF  Request finished HTTP/1.1 GET https://localhost:44375/Appartements/11 - - - 401 - - 27.0214ms
2023-10-15 19:02:06.980 +02:00  INF  Request starting HTTP/1.1 POST https://localhost:44375/login - 0
2023-10-15 19:02:06.981 +02:00  DBG  1 candidate(s) found for the request path '/login'
2023-10-15 19:02:06.981 +02:00  DBG  Endpoint 'IDSoft.CrmWelcome.Api.Controllers.ConnexionController.LoginAsync (Infeco.Api)' with route pattern 'login' is valid for the request path '/login'
2023-10-15 19:02:06.981 +02:00  DBG  Request matched endpoint 'IDSoft.CrmWelcome.Api.Controllers.ConnexionController.LoginAsync (Infeco.Api)'
2023-10-15 19:02:06.981 +02:00  DBG  AuthenticationScheme: Bearer was not authenticated.
2023-10-15 19:02:06.981 +02:00  DBG  Static files was skipped as the request already matched an endpoint.
2023-10-15 19:02:06.981 +02:00  INF  Executing endpoint 'IDSoft.CrmWelcome.Api.Controllers.ConnexionController.LoginAsync (Infeco.Api)'
2023-10-15 19:02:06.988 +02:00  INF  Route matched with {action = "Login", controller = "Connexion"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginAsync(System.Threading.CancellationToken) on controller IDSoft.CrmWelcome.Api.Controllers.ConnexionController (Infeco.Api).
2023-10-15 19:02:06.988 +02:00  DBG  Execution plan of authorization filters (in the following order): ["None"]
2023-10-15 19:02:06.988 +02:00  DBG  Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2023-10-15 19:02:06.988 +02:00  DBG  Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2023-10-15 19:02:06.988 +02:00  DBG  Execution plan of exception filters (in the following order): ["None"]
2023-10-15 19:02:06.988 +02:00  DBG  Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2023-10-15 19:02:06.988 +02:00  DBG  Executing controller factory for controller IDSoft.CrmWelcome.Api.Controllers.ConnexionController (Infeco.Api)
2023-10-15 19:02:06.989 +02:00  DBG  Executed controller factory for controller IDSoft.CrmWelcome.Api.Controllers.ConnexionController (Infeco.Api)
2023-10-15 19:02:06.990 +02:00  DBG  Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-10-15 19:02:06.990 +02:00  DBG  Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-10-15 19:02:06.990 +02:00  DBG  Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-10-15 19:02:06.990 +02:00  DBG  Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-10-15 19:02:07.012 +02:00  INF  Executing action method IDSoft.CrmWelcome.Api.Controllers.ConnexionController.LoginAsync (Infeco.Api) - Validation state: "Valid"
2023-10-15 19:02:07.034 +02:00  INF  Handling ObtenirUtilisateurParIdentifiantEtMotDePasseQuery
2023-10-15 19:02:07.087 +02:00  DBG  Entity Framework Core 7.0.11 initialized 'InfoEcoDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None
2023-10-15 19:02:07.093 +02:00  DBG  Compiling query expression: 
'DbSet<UtilisateurEntite>()
    .FirstOrDefault(u => u.Courriel == __identifiant_0 && u.Passe == __motDePasse_1)'
2023-10-15 19:02:07.100 +02:00  DBG  Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UtilisateurEntite>(
    asyncEnumerable: new SingleQueryingEnumerable<UtilisateurEntite>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UtilisateurEntite.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UtilisateurEntite.AgenceImmobiliereId (int) Required FK Index, 1], [Property: UtilisateurEntite.Courriel (string) Required Index MaxLength(255), 2], [Property: UtilisateurEntite.CreeLe (DateTime) Required, 3], [Property: UtilisateurEntite.EstActif (bool) Required, 4], [Property: UtilisateurEntite.ModifieLe (DateTime?), 5], [Property: UtilisateurEntite.Nom (string) Required MaxLength(255), 6], [Property: UtilisateurEntite.Passe (string) Required MaxLength(255), 7], [Property: UtilisateurEntite.Prenom (string) Required MaxLength(255), 8] }
            SELECT TOP(1) u.Id, u.AgenceImmobiliereId, u.Courriel, u.CreeLe, u.EstActif, u.ModifieLe, u.Nom, u.Passe, u.Prenom
            FROM Utilisateur AS u
            WHERE (u.Courriel == @__identifiant_0) && (u.Passe == @__motDePasse_1)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UtilisateurEntite>, 
        Infoeco.infrastructure.InfoEcoDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-10-15 19:02:07.104 +02:00  DBG  Creating DbCommand for 'ExecuteReader'.
2023-10-15 19:02:07.104 +02:00  DBG  Creating DbConnection.
2023-10-15 19:02:07.104 +02:00  DBG  Created DbConnection. (0ms).
2023-10-15 19:02:07.104 +02:00  DBG  Created DbCommand for 'ExecuteReader' (0ms).
2023-10-15 19:02:07.104 +02:00  DBG  Initialized DbCommand for 'ExecuteReader' (0ms).
2023-10-15 19:02:07.104 +02:00  DBG  Opening connection to database 'pmjmvgha' on server ''.
2023-10-15 19:02:07.433 +02:00  DBG  Opened connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:02:07.434 +02:00  DBG  Executing DbCommand [Parameters=[@__identifiant_0='?', @__motDePasse_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."AgenceImmobiliereId", u."Courriel", u."CreeLe", u."EstActif", u."ModifieLe", u."Nom", u."Passe", u."Prenom"
FROM "Utilisateur" AS u
WHERE u."Courriel" = @__identifiant_0 AND u."Passe" = @__motDePasse_1
LIMIT 1
2023-10-15 19:02:07.481 +02:00  INF  Executed DbCommand (47ms) [Parameters=[@__identifiant_0='?', @__motDePasse_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."AgenceImmobiliereId", u."Courriel", u."CreeLe", u."EstActif", u."ModifieLe", u."Nom", u."Passe", u."Prenom"
FROM "Utilisateur" AS u
WHERE u."Courriel" = @__identifiant_0 AND u."Passe" = @__motDePasse_1
LIMIT 1
2023-10-15 19:02:07.487 +02:00  DBG  Context 'InfoEcoDbContext' started tracking 'UtilisateurEntite' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-15 19:02:07.500 +02:00  DBG  Closing data reader to 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:02:07.500 +02:00  DBG  A data reader for 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432' is being disposed after spending 18ms reading results.
2023-10-15 19:02:07.500 +02:00  DBG  Closing connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:02:07.500 +02:00  DBG  Closed connection to database 'pmjmvgha' on server '' (0ms).
2023-10-15 19:02:07.503 +02:00  INF  Handled DetailUtilisateurResponse
2023-10-15 19:02:07.503 +02:00  INF  Information : POST https://localhost:44375/login from '::1:61077' responded 200 in 468,9957 ms
2023-10-15 19:02:07.517 +02:00  INF  Executed action method IDSoft.CrmWelcome.Api.Controllers.ConnexionController.LoginAsync (Infeco.Api), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 504.8851ms.
2023-10-15 19:02:07.519 +02:00  DBG  List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-10-15 19:02:07.520 +02:00  DBG  No information found on request to perform content negotiation.
2023-10-15 19:02:07.521 +02:00  DBG  Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/json"]'.
2023-10-15 19:02:07.522 +02:00  DBG  Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-10-15 19:02:07.522 +02:00  INF  Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-10-15 19:02:07.548 +02:00  INF  Executed action IDSoft.CrmWelcome.Api.Controllers.ConnexionController.LoginAsync (Infeco.Api) in 560.4068ms
2023-10-15 19:02:07.549 +02:00  INF  Executed endpoint 'IDSoft.CrmWelcome.Api.Controllers.ConnexionController.LoginAsync (Infeco.Api)'
2023-10-15 19:02:07.549 +02:00  DBG  'InfoEcoDbContext' disposed.
2023-10-15 19:02:07.549 +02:00  DBG  Disposing connection to database 'pmjmvgha' on server ''.
2023-10-15 19:02:07.549 +02:00  DBG  Disposed connection to database 'pmjmvgha' on server '' (0ms).
2023-10-15 19:02:07.549 +02:00  INF  Request finished HTTP/1.1 POST https://localhost:44375/login - 0 - 200 517 application/json;+charset=utf-8 568.7734ms
2023-10-15 19:02:18.643 +02:00  INF  Request starting HTTP/1.1 GET https://localhost:44375/Appartements/11 - -
2023-10-15 19:02:18.643 +02:00  DBG  1 candidate(s) found for the request path '/Appartements/11'
2023-10-15 19:02:18.643 +02:00  DBG  Endpoint 'Infeco.Api.Controllers.AppartementController.ObtenirAppartementParIdAsync (Infeco.Api)' with route pattern 'appartements/{id}' is valid for the request path '/Appartements/11'
2023-10-15 19:02:18.643 +02:00  DBG  Request matched endpoint 'Infeco.Api.Controllers.AppartementController.ObtenirAppartementParIdAsync (Infeco.Api)'
2023-10-15 19:02:18.643 +02:00  DBG  Successfully validated the token.
2023-10-15 19:02:18.643 +02:00  DBG  AuthenticationScheme: Bearer was successfully authenticated.
2023-10-15 19:02:18.643 +02:00  DBG  Authorization was successful.
2023-10-15 19:02:18.644 +02:00  DBG  Static files was skipped as the request already matched an endpoint.
2023-10-15 19:02:18.644 +02:00  INF  Executing endpoint 'Infeco.Api.Controllers.AppartementController.ObtenirAppartementParIdAsync (Infeco.Api)'
2023-10-15 19:02:18.647 +02:00  INF  Route matched with {action = "ObtenirAppartementParId", controller = "Appartement"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Infeco.Api.ViewModel.AppartementViewModel]] ObtenirAppartementParIdAsync(Int32, System.Threading.CancellationToken) on controller Infeco.Api.Controllers.AppartementController (Infeco.Api).
2023-10-15 19:02:18.647 +02:00  DBG  Execution plan of authorization filters (in the following order): ["None"]
2023-10-15 19:02:18.647 +02:00  DBG  Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2023-10-15 19:02:18.647 +02:00  DBG  Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2023-10-15 19:02:18.647 +02:00  DBG  Execution plan of exception filters (in the following order): ["None"]
2023-10-15 19:02:18.647 +02:00  DBG  Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2023-10-15 19:02:18.647 +02:00  DBG  Executing controller factory for controller Infeco.Api.Controllers.AppartementController (Infeco.Api)
2023-10-15 19:02:18.647 +02:00  DBG  Executed controller factory for controller Infeco.Api.Controllers.AppartementController (Infeco.Api)
2023-10-15 19:02:18.647 +02:00  DBG  Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-10-15 19:02:18.648 +02:00  DBG  Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-10-15 19:02:18.648 +02:00  DBG  Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-10-15 19:02:18.648 +02:00  DBG  Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-10-15 19:02:18.648 +02:00  DBG  Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-10-15 19:02:18.648 +02:00  DBG  Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-10-15 19:02:18.648 +02:00  DBG  Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-10-15 19:02:18.648 +02:00  DBG  Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-10-15 19:02:18.648 +02:00  DBG  Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-10-15 19:02:18.648 +02:00  DBG  Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-10-15 19:02:18.662 +02:00  INF  Executing action method Infeco.Api.Controllers.AppartementController.ObtenirAppartementParIdAsync (Infeco.Api) - Validation state: "Valid"
2023-10-15 19:02:18.665 +02:00  INF  Handling ObtenirAppartementParIdQuery
2023-10-15 19:02:18.666 +02:00  DBG  Entity Framework Core 7.0.11 initialized 'InfoEcoDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None
2023-10-15 19:02:18.669 +02:00  DBG  Creating DbCommand for 'ExecuteReader'.
2023-10-15 19:02:18.669 +02:00  DBG  Creating DbConnection.
2023-10-15 19:02:18.669 +02:00  DBG  Created DbConnection. (0ms).
2023-10-15 19:02:18.669 +02:00  DBG  Created DbCommand for 'ExecuteReader' (0ms).
2023-10-15 19:02:18.669 +02:00  DBG  Initialized DbCommand for 'ExecuteReader' (0ms).
2023-10-15 19:02:18.669 +02:00  DBG  Opening connection to database 'pmjmvgha' on server ''.
2023-10-15 19:02:18.669 +02:00  DBG  Opened connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:02:18.670 +02:00  DBG  Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."Adresse", a."AgenceImmobiliereId", a."ComplementAdresse", a."CreeLe", a."DepotDeGarantie", a."Loyer", a."ModifieLe", a."NombreDeMetre2", a."PrixDesCharges", a."TypeAppartementId", a."VilleId"
FROM "Appartement" AS a
WHERE a."Id" = @__id_0
LIMIT 1
2023-10-15 19:02:18.716 +02:00  INF  Executed DbCommand (46ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."Adresse", a."AgenceImmobiliereId", a."ComplementAdresse", a."CreeLe", a."DepotDeGarantie", a."Loyer", a."ModifieLe", a."NombreDeMetre2", a."PrixDesCharges", a."TypeAppartementId", a."VilleId"
FROM "Appartement" AS a
WHERE a."Id" = @__id_0
LIMIT 1
2023-10-15 19:02:18.716 +02:00  DBG  Closing data reader to 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:02:18.717 +02:00  DBG  A data reader for 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432' is being disposed after spending 0ms reading results.
2023-10-15 19:02:18.717 +02:00  DBG  Closing connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:02:18.717 +02:00  DBG  Closed connection to database 'pmjmvgha' on server '' (0ms).
2023-10-15 19:02:18.720 +02:00  INF  Handled DetailAppartementResponse
2023-10-15 19:02:18.720 +02:00  INF  Information : GET https://localhost:44375/Appartements/11 from '::1:61077' responded 200 in 54,6784 ms
2023-10-15 19:02:18.721 +02:00  INF  Executed action method Infeco.Api.Controllers.AppartementController.ObtenirAppartementParIdAsync (Infeco.Api), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 58.8675ms.
2023-10-15 19:02:18.722 +02:00  DBG  List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-10-15 19:02:18.722 +02:00  DBG  No information found on request to perform content negotiation.
2023-10-15 19:02:18.722 +02:00  DBG  Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/json"]'.
2023-10-15 19:02:18.722 +02:00  DBG  Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-10-15 19:02:18.722 +02:00  INF  Executing OkObjectResult, writing value of type 'Infeco.Api.Queries.Appartements.DetailAppartementResponse'.
2023-10-15 19:02:18.729 +02:00  INF  Executed action Infeco.Api.Controllers.AppartementController.ObtenirAppartementParIdAsync (Infeco.Api) in 82.1382ms
2023-10-15 19:02:18.729 +02:00  INF  Executed endpoint 'Infeco.Api.Controllers.AppartementController.ObtenirAppartementParIdAsync (Infeco.Api)'
2023-10-15 19:02:18.729 +02:00  DBG  'InfoEcoDbContext' disposed.
2023-10-15 19:02:18.729 +02:00  DBG  Disposing connection to database 'pmjmvgha' on server ''.
2023-10-15 19:02:18.729 +02:00  DBG  Disposed connection to database 'pmjmvgha' on server '' (0ms).
2023-10-15 19:02:18.730 +02:00  INF  Request finished HTTP/1.1 GET https://localhost:44375/Appartements/11 - - - 200 174 application/json;+charset=utf-8 86.9812ms
2023-10-15 19:08:04.797 +02:00  DBG  Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-10-15 19:08:05.013 +02:00  DBG  An 'IServiceProvider' was created for internal use by Entity Framework.
2023-10-15 19:08:05.766 +02:00  DBG  Entity Framework Core 7.0.11 initialized 'InfoEcoDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None
2023-10-15 19:08:05.774 +02:00  DBG  Creating DbConnection.
2023-10-15 19:08:05.826 +02:00  DBG  Created DbConnection. (47ms).
2023-10-15 19:08:05.831 +02:00  DBG  Migrating using database 'pmjmvgha' on server ''.
2023-10-15 19:08:05.850 +02:00  DBG  Opening connection to database 'pmjmvgha' on server ''.
2023-10-15 19:08:06.385 +02:00  DBG  Opened connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:08:06.388 +02:00  DBG  Closing connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:08:06.406 +02:00  DBG  Closed connection to database 'pmjmvgha' on server '' (12ms).
2023-10-15 19:08:06.418 +02:00  DBG  Creating DbCommand for 'ExecuteScalar'.
2023-10-15 19:08:06.428 +02:00  DBG  Created DbCommand for 'ExecuteScalar' (7ms).
2023-10-15 19:08:06.431 +02:00  DBG  Initialized DbCommand for 'ExecuteScalar' (15ms).
2023-10-15 19:08:06.431 +02:00  DBG  Opening connection to database 'pmjmvgha' on server ''.
2023-10-15 19:08:06.808 +02:00  DBG  Opened connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:08:06.813 +02:00  DBG  Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-10-15 19:08:06.911 +02:00  INF  Executed DbCommand (93ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-10-15 19:08:06.912 +02:00  DBG  Closing connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:08:06.915 +02:00  DBG  Closed connection to database 'pmjmvgha' on server '' (2ms).
2023-10-15 19:08:06.917 +02:00  DBG  Opening connection to database 'pmjmvgha' on server ''.
2023-10-15 19:08:07.254 +02:00  DBG  Opened connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:08:07.254 +02:00  DBG  Closing connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:08:07.255 +02:00  DBG  Closed connection to database 'pmjmvgha' on server '' (0ms).
2023-10-15 19:08:07.257 +02:00  DBG  Creating DbCommand for 'ExecuteScalar'.
2023-10-15 19:08:07.257 +02:00  DBG  Created DbCommand for 'ExecuteScalar' (0ms).
2023-10-15 19:08:07.258 +02:00  DBG  Initialized DbCommand for 'ExecuteScalar' (1ms).
2023-10-15 19:08:07.258 +02:00  DBG  Opening connection to database 'pmjmvgha' on server ''.
2023-10-15 19:08:07.259 +02:00  DBG  Opened connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:08:07.259 +02:00  DBG  Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-10-15 19:08:07.308 +02:00  INF  Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-10-15 19:08:07.309 +02:00  DBG  Closing connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:08:07.309 +02:00  DBG  Closed connection to database 'pmjmvgha' on server '' (0ms).
2023-10-15 19:08:07.337 +02:00  DBG  Creating DbCommand for 'ExecuteReader'.
2023-10-15 19:08:07.338 +02:00  DBG  Created DbCommand for 'ExecuteReader' (0ms).
2023-10-15 19:08:07.338 +02:00  DBG  Initialized DbCommand for 'ExecuteReader' (0ms).
2023-10-15 19:08:07.338 +02:00  DBG  Opening connection to database 'pmjmvgha' on server ''.
2023-10-15 19:08:07.338 +02:00  DBG  Opened connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:08:07.338 +02:00  DBG  Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-10-15 19:08:07.391 +02:00  INF  Executed DbCommand (52ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-10-15 19:08:07.396 +02:00  DBG  Closing data reader to 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:08:07.398 +02:00  DBG  A data reader for 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432' is being disposed after spending 5ms reading results.
2023-10-15 19:08:07.399 +02:00  DBG  Closing connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:08:07.399 +02:00  DBG  Closed connection to database 'pmjmvgha' on server '' (0ms).
2023-10-15 19:08:07.413 +02:00  INF  No migrations were applied. The database is already up to date.
2023-10-15 19:08:07.416 +02:00  DBG  'InfoEcoDbContext' disposed.
2023-10-15 19:08:07.419 +02:00  DBG  Disposing connection to database 'pmjmvgha' on server ''.
2023-10-15 19:08:07.420 +02:00  DBG  Disposed connection to database 'pmjmvgha' on server '' (1ms).
2023-10-15 19:08:07.426 +02:00  DBG  Hosting starting
2023-10-15 19:08:07.474 +02:00  INF  User profile is available. Using 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-10-15 19:08:07.481 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-2ce4c23f-757b-4029-95d3-9c9820e6de80.xml'.
2023-10-15 19:08:07.493 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-6921759b-a9f9-48ea-a379-13505875271d.xml'.
2023-10-15 19:08:07.494 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-7c4081c7-f341-4ce9-ad03-d3ea3cf1c21f.xml'.
2023-10-15 19:08:07.495 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-a038200a-44f7-48da-9d2b-5646ef68d51f.xml'.
2023-10-15 19:08:07.495 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-a642139e-629a-42ab-b89a-38ed4778f2e0.xml'.
2023-10-15 19:08:07.496 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-b1a02c3b-a417-45ff-ac5c-986fca4cdd22.xml'.
2023-10-15 19:08:07.496 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-b5a22f60-a6fe-488b-8048-b8d1034bef7d.xml'.
2023-10-15 19:08:07.496 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-b8996f88-e69f-41d1-b4d3-e7b15b37a5e2.xml'.
2023-10-15 19:08:07.504 +02:00  DBG  Found key {2ce4c23f-757b-4029-95d3-9c9820e6de80}.
2023-10-15 19:08:07.510 +02:00  DBG  Found key {6921759b-a9f9-48ea-a379-13505875271d}.
2023-10-15 19:08:07.511 +02:00  DBG  Found key {7c4081c7-f341-4ce9-ad03-d3ea3cf1c21f}.
2023-10-15 19:08:07.511 +02:00  DBG  Found key {a038200a-44f7-48da-9d2b-5646ef68d51f}.
2023-10-15 19:08:07.511 +02:00  DBG  Found key {a642139e-629a-42ab-b89a-38ed4778f2e0}.
2023-10-15 19:08:07.511 +02:00  DBG  Found key {b1a02c3b-a417-45ff-ac5c-986fca4cdd22}.
2023-10-15 19:08:07.511 +02:00  DBG  Found key {b5a22f60-a6fe-488b-8048-b8d1034bef7d}.
2023-10-15 19:08:07.511 +02:00  DBG  Found key {b8996f88-e69f-41d1-b4d3-e7b15b37a5e2}.
2023-10-15 19:08:07.522 +02:00  DBG  Considering key {6921759b-a9f9-48ea-a379-13505875271d} with expiration date 2023-11-22 12:55:42Z as default key.
2023-10-15 19:08:07.526 +02:00  DBG  Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-10-15 19:08:07.527 +02:00  DBG  Decrypting secret element using Windows DPAPI.
2023-10-15 19:08:07.529 +02:00  DBG  Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-10-15 19:08:07.532 +02:00  DBG  Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-10-15 19:08:07.533 +02:00  DBG  Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-10-15 19:08:07.536 +02:00  DBG  Using key {6921759b-a9f9-48ea-a379-13505875271d} as the default key.
2023-10-15 19:08:07.537 +02:00  DBG  Key ring with default key {6921759b-a9f9-48ea-a379-13505875271d} was loaded during application startup.
2023-10-15 19:08:07.622 +02:00  DBG  Loaded hosting startup assembly Infeco.Api
2023-10-15 19:08:07.628 +02:00  DBG  Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-10-15 19:08:07.629 +02:00  DBG  Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-10-15 19:08:07.629 +02:00  INF  Application started. Press Ctrl+C to shut down.
2023-10-15 19:08:07.629 +02:00  INF  Hosting environment: Development
2023-10-15 19:08:07.629 +02:00  INF  Content root path: C:\Users\fdepret\source\repos\Infeco.api\Infeco.api
2023-10-15 19:08:07.629 +02:00  DBG  Hosting started
2023-10-15 19:08:07.672 +02:00  INF  Request starting HTTP/2 GET https://localhost:44375/index.html - -
2023-10-15 19:08:07.702 +02:00  DBG  Wildcard detected, all requests with hosts will be allowed.
2023-10-15 19:08:07.744 +02:00  DBG  No candidates found for the request path '/index.html'
2023-10-15 19:08:07.744 +02:00  DBG  Request did not match any endpoints
2023-10-15 19:08:07.798 +02:00  DBG  AuthenticationScheme: Bearer was not authenticated.
2023-10-15 19:08:07.928 +02:00  DBG  Response markup is scheduled to include browser refresh script injection.
2023-10-15 19:08:10.111 +02:00  DBG  Response markup was updated to include browser refresh script injection.
2023-10-15 19:08:10.121 +02:00  DBG  Connection ID "18374686489872171026" disconnecting.
2023-10-15 19:08:10.123 +02:00  INF  Request finished HTTP/2 GET https://localhost:44375/index.html - - - 200 - text/html;charset=utf-8 2453.2341ms
2023-10-15 19:08:10.125 +02:00  INF  Request starting HTTP/2 GET https://localhost:44375/_framework/aspnetcore-browser-refresh.js - -
2023-10-15 19:08:10.135 +02:00  INF  Request finished HTTP/2 GET https://localhost:44375/_framework/aspnetcore-browser-refresh.js - - - 200 12352 application/javascript;+charset=utf-8 6.9499ms
2023-10-15 19:08:10.141 +02:00  DBG  Connection ID "18374686515641974806" disconnecting.
2023-10-15 19:08:10.223 +02:00  INF  Request starting HTTP/2 GET https://localhost:44375/swagger/v1/swagger.json - -
2023-10-15 19:08:10.224 +02:00  DBG  No candidates found for the request path '/swagger/v1/swagger.json'
2023-10-15 19:08:10.225 +02:00  DBG  Request did not match any endpoints
2023-10-15 19:08:10.227 +02:00  DBG  AuthenticationScheme: Bearer was not authenticated.
2023-10-15 19:08:10.429 +02:00  DBG  Connection ID "18302628895834243075" disconnecting.
2023-10-15 19:08:10.429 +02:00  INF  Request finished HTTP/2 GET https://localhost:44375/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 205.9181ms
2023-10-15 19:08:20.440 +02:00  INF  Request starting HTTP/1.1 GET https://localhost:44375/Appartements/11 - -
2023-10-15 19:08:20.444 +02:00  DBG  1 candidate(s) found for the request path '/Appartements/11'
2023-10-15 19:08:20.448 +02:00  DBG  Endpoint 'Infeco.Api.Controllers.AppartementController.ObtenirAppartementParIdAsync (Infeco.Api)' with route pattern 'appartements/{id}' is valid for the request path '/Appartements/11'
2023-10-15 19:08:20.448 +02:00  DBG  Request matched endpoint 'Infeco.Api.Controllers.AppartementController.ObtenirAppartementParIdAsync (Infeco.Api)'
2023-10-15 19:08:20.570 +02:00  DBG  Successfully validated the token.
2023-10-15 19:08:20.572 +02:00  DBG  AuthenticationScheme: Bearer was successfully authenticated.
2023-10-15 19:08:20.578 +02:00  DBG  Authorization was successful.
2023-10-15 19:08:20.580 +02:00  DBG  Static files was skipped as the request already matched an endpoint.
2023-10-15 19:08:20.581 +02:00  INF  Executing endpoint 'Infeco.Api.Controllers.AppartementController.ObtenirAppartementParIdAsync (Infeco.Api)'
2023-10-15 19:08:20.606 +02:00  INF  Route matched with {action = "ObtenirAppartementParId", controller = "Appartement"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Infeco.Api.ViewModel.AppartementViewModel]] ObtenirAppartementParIdAsync(Int32, System.Threading.CancellationToken) on controller Infeco.Api.Controllers.AppartementController (Infeco.Api).
2023-10-15 19:08:20.607 +02:00  DBG  Execution plan of authorization filters (in the following order): ["None"]
2023-10-15 19:08:20.607 +02:00  DBG  Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2023-10-15 19:08:20.608 +02:00  DBG  Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2023-10-15 19:08:20.608 +02:00  DBG  Execution plan of exception filters (in the following order): ["None"]
2023-10-15 19:08:20.608 +02:00  DBG  Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2023-10-15 19:08:20.609 +02:00  DBG  Executing controller factory for controller Infeco.Api.Controllers.AppartementController (Infeco.Api)
2023-10-15 19:08:20.610 +02:00  DBG  Executed controller factory for controller Infeco.Api.Controllers.AppartementController (Infeco.Api)
2023-10-15 19:08:20.615 +02:00  DBG  Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-10-15 19:08:20.617 +02:00  DBG  Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-10-15 19:08:20.618 +02:00  DBG  Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-10-15 19:08:20.618 +02:00  DBG  Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-10-15 19:08:20.618 +02:00  DBG  Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-10-15 19:08:20.620 +02:00  DBG  Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-10-15 19:08:20.621 +02:00  DBG  Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-10-15 19:08:20.621 +02:00  DBG  Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-10-15 19:08:20.621 +02:00  DBG  Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-10-15 19:08:20.621 +02:00  DBG  Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-10-15 19:08:20.675 +02:00  INF  Executing action method Infeco.Api.Controllers.AppartementController.ObtenirAppartementParIdAsync (Infeco.Api) - Validation state: "Valid"
2023-10-15 19:08:20.699 +02:00  INF  Handling ObtenirAppartementParIdQuery
2023-10-15 19:08:20.720 +02:00  DBG  Entity Framework Core 7.0.11 initialized 'InfoEcoDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None
2023-10-15 19:08:22.594 +02:00  DBG  Compiling query expression: 
'DbSet<AppartementEntite>()
    .Include(u => u.AgenceImmobiliere)
    .AsNoTracking()
    .FirstOrDefault(u => u.Id == __id_0)'
2023-10-15 19:08:22.640 +02:00  DBG  Including navigation: 'AppartementEntite.AgenceImmobiliere'.
2023-10-15 19:08:22.800 +02:00  DBG  Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<AppartementEntite>(
    asyncEnumerable: new SingleQueryingEnumerable<AppartementEntite>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: AppartementEntite.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: AppartementEntite.Adresse (string), 1], [Property: AppartementEntite.AgenceImmobiliereId (int) Required FK Index, 2], [Property: AppartementEntite.ComplementAdresse (string), 3], [Property: AppartementEntite.CreeLe (DateTime) Required, 4], [Property: AppartementEntite.DepotDeGarantie (double) Required, 5], [Property: AppartementEntite.Loyer (double) Required, 6], [Property: AppartementEntite.ModifieLe (DateTime?), 7], [Property: AppartementEntite.NombreDeMetre2 (double) Required, 8], [Property: AppartementEntite.PrixDesCharges (double) Required, 9], [Property: AppartementEntite.TypeAppartementId (int?) FK Index, 10], [Property: AppartementEntite.VilleId (int) Required FK Index, 11] }
                1 -> Dictionary<IProperty, int> { [Property: AgenceImmobiliereEntite.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 12], [Property: AgenceImmobiliereEntite.Adresse (string) Required, 13], [Property: AgenceImmobiliereEntite.ComplementAdresse (string), 14], [Property: AgenceImmobiliereEntite.CreeLe (DateTime) Required, 15], [Property: AgenceImmobiliereEntite.FraisAgence (double) Required, 16], [Property: AgenceImmobiliereEntite.ModifieLe (DateTime?), 17], [Property: AgenceImmobiliereEntite.Nom (string) Required MaxLength(255), 18], [Property: AgenceImmobiliereEntite.VilleId (int) Required FK Index, 19] }
            SELECT TOP(1) a.Id, a.Adresse, a.AgenceImmobiliereId, a.ComplementAdresse, a.CreeLe, a.DepotDeGarantie, a.Loyer, a.ModifieLe, a.NombreDeMetre2, a.PrixDesCharges, a.TypeAppartementId, a.VilleId, a0.Id, a0.Adresse, a0.ComplementAdresse, a0.CreeLe, a0.FraisAgence, a0.ModifieLe, a0.Nom, a0.VilleId
            FROM Appartement AS a
            INNER JOIN AgenceImmobiliere AS a0 ON a.AgenceImmobiliereId == a0.Id
            WHERE a.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, AppartementEntite>, 
        Infoeco.infrastructure.InfoEcoDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-10-15 19:08:22.825 +02:00  DBG  Creating DbCommand for 'ExecuteReader'.
2023-10-15 19:08:22.825 +02:00  DBG  Creating DbConnection.
2023-10-15 19:08:22.826 +02:00  DBG  Created DbConnection. (0ms).
2023-10-15 19:08:22.826 +02:00  DBG  Created DbCommand for 'ExecuteReader' (0ms).
2023-10-15 19:08:22.827 +02:00  DBG  Initialized DbCommand for 'ExecuteReader' (2ms).
2023-10-15 19:08:22.830 +02:00  DBG  Opening connection to database 'pmjmvgha' on server ''.
2023-10-15 19:08:22.831 +02:00  DBG  Opened connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:08:22.834 +02:00  DBG  Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."Adresse", a."AgenceImmobiliereId", a."ComplementAdresse", a."CreeLe", a."DepotDeGarantie", a."Loyer", a."ModifieLe", a."NombreDeMetre2", a."PrixDesCharges", a."TypeAppartementId", a."VilleId", a0."Id", a0."Adresse", a0."ComplementAdresse", a0."CreeLe", a0."FraisAgence", a0."ModifieLe", a0."Nom", a0."VilleId"
FROM "Appartement" AS a
INNER JOIN "AgenceImmobiliere" AS a0 ON a."AgenceImmobiliereId" = a0."Id"
WHERE a."Id" = @__id_0
LIMIT 1
2023-10-15 19:08:22.892 +02:00  INF  Executed DbCommand (60ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."Adresse", a."AgenceImmobiliereId", a."ComplementAdresse", a."CreeLe", a."DepotDeGarantie", a."Loyer", a."ModifieLe", a."NombreDeMetre2", a."PrixDesCharges", a."TypeAppartementId", a."VilleId", a0."Id", a0."Adresse", a0."ComplementAdresse", a0."CreeLe", a0."FraisAgence", a0."ModifieLe", a0."Nom", a0."VilleId"
FROM "Appartement" AS a
INNER JOIN "AgenceImmobiliere" AS a0 ON a."AgenceImmobiliereId" = a0."Id"
WHERE a."Id" = @__id_0
LIMIT 1
2023-10-15 19:08:22.906 +02:00  DBG  Closing data reader to 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:08:22.907 +02:00  DBG  A data reader for 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432' is being disposed after spending 14ms reading results.
2023-10-15 19:08:22.909 +02:00  DBG  Closing connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:08:22.909 +02:00  DBG  Closed connection to database 'pmjmvgha' on server '' (0ms).
2023-10-15 19:08:41.931 +02:00  INF  Executed action Infeco.Api.Controllers.AppartementController.ObtenirAppartementParIdAsync (Infeco.Api) in 21319.6134ms
2023-10-15 19:08:42.123 +02:00  INF  Executed endpoint 'Infeco.Api.Controllers.AppartementController.ObtenirAppartementParIdAsync (Infeco.Api)'
2023-10-15 19:08:42.602 +02:00  ERR  An unhandled exception has occurred while executing the request.AutoMapper.AutoMapperMappingException: Error mapping types.

Mapping types:
AppartementEntite -> AppartementViewModel
Infoeco.infrastructure.Entities.AppartementEntite -> Infeco.Api.ViewModel.AppartementViewModel

Type Map configuration:
AppartementEntite -> AppartementViewModel
Infoeco.infrastructure.Entities.AppartementEntite -> Infeco.Api.ViewModel.AppartementViewModel

Destination Member:
AgenceImmobiliere

 ---> AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
AgenceImmobiliereEntite -> AgenceImmobiliereViewModel
Infoeco.infrastructure.Entities.AgenceImmobiliereEntite -> Infeco.Api.ViewModel.AgenceImmobiliereViewModel

Destination Member:
AgenceImmobiliere

   at lambda_method33(Closure, AgenceImmobiliereEntite, AgenceImmobiliereViewModel, ResolutionContext)
   at lambda_method32(Closure, Object, AppartementViewModel, ResolutionContext)
   --- End of inner exception stack trace ---
   at lambda_method32(Closure, Object, AppartementViewModel, ResolutionContext)
   at Infeco.Api.Queries.Appartements.ObtenirAppartementParIdQueryHandler.Handle(ObtenirAppartementParIdQuery request, CancellationToken cancellationToken) in C:\Users\fdepret\source\repos\Infeco.api\Infeco.api\Queries\Appartements\ObtenirAppartementParIdQueryHandler.cs:line 21
   at Infeco.api.Infrastructure.MediatR.LoggingBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\fdepret\source\repos\Infeco.api\Infeco.api\Infrastructure\MediatR\LoggingBehavior.cs:line 27
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at Infeco.Api.Controllers.AppartementController.ObtenirAppartementParIdAsync(Int32 id, CancellationToken cancellationToken) in C:\Users\fdepret\source\repos\Infeco.api\Infeco.api\Controllers\AppartementController.cs:line 32
   at lambda_method21(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)

2023-10-15 19:08:42.645 +02:00  DBG  'InfoEcoDbContext' disposed.
2023-10-15 19:08:42.648 +02:00  DBG  Disposing connection to database 'pmjmvgha' on server ''.
2023-10-15 19:08:42.649 +02:00  DBG  Disposed connection to database 'pmjmvgha' on server '' (1ms).
2023-10-15 19:08:42.649 +02:00  INF  Request finished HTTP/1.1 GET https://localhost:44375/Appartements/11 - - - 500 - text/plain;+charset=utf-8 22209.2319ms
2023-10-15 19:10:18.413 +02:00  DBG  Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-10-15 19:10:18.652 +02:00  DBG  An 'IServiceProvider' was created for internal use by Entity Framework.
2023-10-15 19:10:19.513 +02:00  DBG  Entity Framework Core 7.0.11 initialized 'InfoEcoDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None
2023-10-15 19:10:19.527 +02:00  DBG  Creating DbConnection.
2023-10-15 19:10:19.594 +02:00  DBG  Created DbConnection. (63ms).
2023-10-15 19:10:19.599 +02:00  DBG  Migrating using database 'pmjmvgha' on server ''.
2023-10-15 19:10:19.616 +02:00  DBG  Opening connection to database 'pmjmvgha' on server ''.
2023-10-15 19:10:20.157 +02:00  DBG  Opened connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:10:20.160 +02:00  DBG  Closing connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:10:20.173 +02:00  DBG  Closed connection to database 'pmjmvgha' on server '' (8ms).
2023-10-15 19:10:20.181 +02:00  DBG  Creating DbCommand for 'ExecuteScalar'.
2023-10-15 19:10:20.187 +02:00  DBG  Created DbCommand for 'ExecuteScalar' (3ms).
2023-10-15 19:10:20.188 +02:00  DBG  Initialized DbCommand for 'ExecuteScalar' (8ms).
2023-10-15 19:10:20.188 +02:00  DBG  Opening connection to database 'pmjmvgha' on server ''.
2023-10-15 19:10:20.550 +02:00  DBG  Opened connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:10:20.557 +02:00  DBG  Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-10-15 19:10:20.630 +02:00  INF  Executed DbCommand (73ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-10-15 19:10:20.631 +02:00  DBG  Closing connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:10:20.632 +02:00  DBG  Closed connection to database 'pmjmvgha' on server '' (1ms).
2023-10-15 19:10:20.633 +02:00  DBG  Opening connection to database 'pmjmvgha' on server ''.
2023-10-15 19:10:20.930 +02:00  DBG  Opened connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:10:20.930 +02:00  DBG  Closing connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:10:20.931 +02:00  DBG  Closed connection to database 'pmjmvgha' on server '' (0ms).
2023-10-15 19:10:20.931 +02:00  DBG  Creating DbCommand for 'ExecuteScalar'.
2023-10-15 19:10:20.932 +02:00  DBG  Created DbCommand for 'ExecuteScalar' (0ms).
2023-10-15 19:10:20.932 +02:00  DBG  Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-10-15 19:10:20.932 +02:00  DBG  Opening connection to database 'pmjmvgha' on server ''.
2023-10-15 19:10:20.932 +02:00  DBG  Opened connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:10:20.932 +02:00  DBG  Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-10-15 19:10:20.981 +02:00  INF  Executed DbCommand (48ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-10-15 19:10:20.981 +02:00  DBG  Closing connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:10:20.981 +02:00  DBG  Closed connection to database 'pmjmvgha' on server '' (0ms).
2023-10-15 19:10:21.007 +02:00  DBG  Creating DbCommand for 'ExecuteReader'.
2023-10-15 19:10:21.007 +02:00  DBG  Created DbCommand for 'ExecuteReader' (0ms).
2023-10-15 19:10:21.007 +02:00  DBG  Initialized DbCommand for 'ExecuteReader' (0ms).
2023-10-15 19:10:21.007 +02:00  DBG  Opening connection to database 'pmjmvgha' on server ''.
2023-10-15 19:10:21.007 +02:00  DBG  Opened connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:10:21.008 +02:00  DBG  Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-10-15 19:10:21.060 +02:00  INF  Executed DbCommand (52ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-10-15 19:10:21.064 +02:00  DBG  Closing data reader to 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:10:21.066 +02:00  DBG  A data reader for 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432' is being disposed after spending 4ms reading results.
2023-10-15 19:10:21.066 +02:00  DBG  Closing connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:10:21.066 +02:00  DBG  Closed connection to database 'pmjmvgha' on server '' (0ms).
2023-10-15 19:10:21.075 +02:00  INF  No migrations were applied. The database is already up to date.
2023-10-15 19:10:21.077 +02:00  DBG  'InfoEcoDbContext' disposed.
2023-10-15 19:10:21.078 +02:00  DBG  Disposing connection to database 'pmjmvgha' on server ''.
2023-10-15 19:10:21.079 +02:00  DBG  Disposed connection to database 'pmjmvgha' on server '' (0ms).
2023-10-15 19:10:21.081 +02:00  DBG  Hosting starting
2023-10-15 19:10:21.110 +02:00  INF  User profile is available. Using 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-10-15 19:10:21.114 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-2ce4c23f-757b-4029-95d3-9c9820e6de80.xml'.
2023-10-15 19:10:21.120 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-6921759b-a9f9-48ea-a379-13505875271d.xml'.
2023-10-15 19:10:21.121 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-7c4081c7-f341-4ce9-ad03-d3ea3cf1c21f.xml'.
2023-10-15 19:10:21.121 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-a038200a-44f7-48da-9d2b-5646ef68d51f.xml'.
2023-10-15 19:10:21.121 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-a642139e-629a-42ab-b89a-38ed4778f2e0.xml'.
2023-10-15 19:10:21.121 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-b1a02c3b-a417-45ff-ac5c-986fca4cdd22.xml'.
2023-10-15 19:10:21.122 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-b5a22f60-a6fe-488b-8048-b8d1034bef7d.xml'.
2023-10-15 19:10:21.122 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-b8996f88-e69f-41d1-b4d3-e7b15b37a5e2.xml'.
2023-10-15 19:10:21.126 +02:00  DBG  Found key {2ce4c23f-757b-4029-95d3-9c9820e6de80}.
2023-10-15 19:10:21.131 +02:00  DBG  Found key {6921759b-a9f9-48ea-a379-13505875271d}.
2023-10-15 19:10:21.131 +02:00  DBG  Found key {7c4081c7-f341-4ce9-ad03-d3ea3cf1c21f}.
2023-10-15 19:10:21.132 +02:00  DBG  Found key {a038200a-44f7-48da-9d2b-5646ef68d51f}.
2023-10-15 19:10:21.132 +02:00  DBG  Found key {a642139e-629a-42ab-b89a-38ed4778f2e0}.
2023-10-15 19:10:21.132 +02:00  DBG  Found key {b1a02c3b-a417-45ff-ac5c-986fca4cdd22}.
2023-10-15 19:10:21.132 +02:00  DBG  Found key {b5a22f60-a6fe-488b-8048-b8d1034bef7d}.
2023-10-15 19:10:21.132 +02:00  DBG  Found key {b8996f88-e69f-41d1-b4d3-e7b15b37a5e2}.
2023-10-15 19:10:21.141 +02:00  DBG  Considering key {6921759b-a9f9-48ea-a379-13505875271d} with expiration date 2023-11-22 12:55:42Z as default key.
2023-10-15 19:10:21.144 +02:00  DBG  Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-10-15 19:10:21.144 +02:00  DBG  Decrypting secret element using Windows DPAPI.
2023-10-15 19:10:21.146 +02:00  DBG  Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-10-15 19:10:21.148 +02:00  DBG  Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-10-15 19:10:21.150 +02:00  DBG  Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-10-15 19:10:21.152 +02:00  DBG  Using key {6921759b-a9f9-48ea-a379-13505875271d} as the default key.
2023-10-15 19:10:21.153 +02:00  DBG  Key ring with default key {6921759b-a9f9-48ea-a379-13505875271d} was loaded during application startup.
2023-10-15 19:10:21.264 +02:00  DBG  Loaded hosting startup assembly Infeco.Api
2023-10-15 19:10:21.264 +02:00  DBG  Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-10-15 19:10:21.264 +02:00  DBG  Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-10-15 19:10:21.265 +02:00  INF  Application started. Press Ctrl+C to shut down.
2023-10-15 19:10:21.265 +02:00  INF  Hosting environment: Development
2023-10-15 19:10:21.265 +02:00  INF  Content root path: C:\Users\fdepret\source\repos\Infeco.api\Infeco.api
2023-10-15 19:10:21.266 +02:00  DBG  Hosting started
2023-10-15 19:10:21.320 +02:00  INF  Request starting HTTP/2 GET https://localhost:44375/index.html - -
2023-10-15 19:10:21.365 +02:00  DBG  Wildcard detected, all requests with hosts will be allowed.
2023-10-15 19:10:21.408 +02:00  DBG  No candidates found for the request path '/index.html'
2023-10-15 19:10:21.409 +02:00  DBG  Request did not match any endpoints
2023-10-15 19:10:21.450 +02:00  DBG  AuthenticationScheme: Bearer was not authenticated.
2023-10-15 19:10:21.556 +02:00  DBG  Response markup is scheduled to include browser refresh script injection.
2023-10-15 19:10:23.711 +02:00  DBG  Response markup was updated to include browser refresh script injection.
2023-10-15 19:10:23.722 +02:00  DBG  Connection ID "18374686511347007497" disconnecting.
2023-10-15 19:10:23.722 +02:00  INF  Request starting HTTP/2 GET https://localhost:44375/_framework/aspnetcore-browser-refresh.js - -
2023-10-15 19:10:23.725 +02:00  INF  Request finished HTTP/2 GET https://localhost:44375/index.html - - - 200 - text/html;charset=utf-8 2407.1998ms
2023-10-15 19:10:23.737 +02:00  DBG  Connection ID "18014398554042269697" disconnecting.
2023-10-15 19:10:23.737 +02:00  INF  Request finished HTTP/2 GET https://localhost:44375/_framework/aspnetcore-browser-refresh.js - - - 200 12352 application/javascript;+charset=utf-8 8.5380ms
2023-10-15 19:10:23.794 +02:00  INF  Request starting HTTP/2 GET https://localhost:44375/swagger/v1/swagger.json - -
2023-10-15 19:10:23.796 +02:00  DBG  No candidates found for the request path '/swagger/v1/swagger.json'
2023-10-15 19:10:23.796 +02:00  DBG  Request did not match any endpoints
2023-10-15 19:10:23.797 +02:00  DBG  AuthenticationScheme: Bearer was not authenticated.
2023-10-15 19:10:23.974 +02:00  INF  Request finished HTTP/2 GET https://localhost:44375/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 178.8409ms
2023-10-15 19:10:23.979 +02:00  DBG  Connection ID "18230571310386249741" disconnecting.
2023-10-15 19:10:26.154 +02:00  INF  Request starting HTTP/1.1 GET https://localhost:44375/Appartements/11 - -
2023-10-15 19:10:26.157 +02:00  DBG  1 candidate(s) found for the request path '/Appartements/11'
2023-10-15 19:10:26.160 +02:00  DBG  Endpoint 'Infeco.Api.Controllers.AppartementController.ObtenirAppartementParIdAsync (Infeco.Api)' with route pattern 'appartements/{id}' is valid for the request path '/Appartements/11'
2023-10-15 19:10:26.160 +02:00  DBG  Request matched endpoint 'Infeco.Api.Controllers.AppartementController.ObtenirAppartementParIdAsync (Infeco.Api)'
2023-10-15 19:10:26.285 +02:00  DBG  Successfully validated the token.
2023-10-15 19:10:26.286 +02:00  DBG  AuthenticationScheme: Bearer was successfully authenticated.
2023-10-15 19:10:26.293 +02:00  DBG  Authorization was successful.
2023-10-15 19:10:26.295 +02:00  DBG  Static files was skipped as the request already matched an endpoint.
2023-10-15 19:10:26.295 +02:00  INF  Executing endpoint 'Infeco.Api.Controllers.AppartementController.ObtenirAppartementParIdAsync (Infeco.Api)'
2023-10-15 19:10:26.319 +02:00  INF  Route matched with {action = "ObtenirAppartementParId", controller = "Appartement"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Infeco.Api.ViewModel.AppartementViewModel]] ObtenirAppartementParIdAsync(Int32, System.Threading.CancellationToken) on controller Infeco.Api.Controllers.AppartementController (Infeco.Api).
2023-10-15 19:10:26.320 +02:00  DBG  Execution plan of authorization filters (in the following order): ["None"]
2023-10-15 19:10:26.320 +02:00  DBG  Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2023-10-15 19:10:26.320 +02:00  DBG  Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2023-10-15 19:10:26.321 +02:00  DBG  Execution plan of exception filters (in the following order): ["None"]
2023-10-15 19:10:26.321 +02:00  DBG  Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2023-10-15 19:10:26.322 +02:00  DBG  Executing controller factory for controller Infeco.Api.Controllers.AppartementController (Infeco.Api)
2023-10-15 19:10:26.323 +02:00  DBG  Executed controller factory for controller Infeco.Api.Controllers.AppartementController (Infeco.Api)
2023-10-15 19:10:26.327 +02:00  DBG  Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-10-15 19:10:26.330 +02:00  DBG  Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-10-15 19:10:26.331 +02:00  DBG  Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-10-15 19:10:26.331 +02:00  DBG  Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-10-15 19:10:26.331 +02:00  DBG  Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-10-15 19:10:26.333 +02:00  DBG  Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-10-15 19:10:26.334 +02:00  DBG  Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-10-15 19:10:26.334 +02:00  DBG  Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-10-15 19:10:26.335 +02:00  DBG  Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-10-15 19:10:26.335 +02:00  DBG  Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-10-15 19:10:26.391 +02:00  INF  Executing action method Infeco.Api.Controllers.AppartementController.ObtenirAppartementParIdAsync (Infeco.Api) - Validation state: "Valid"
2023-10-15 19:10:26.416 +02:00  INF  Handling ObtenirAppartementParIdQuery
2023-10-15 19:10:26.431 +02:00  DBG  Entity Framework Core 7.0.11 initialized 'InfoEcoDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None
2023-10-15 19:10:28.732 +02:00  DBG  Compiling query expression: 
'DbSet<AppartementEntite>()
    .Include(u => u.AgenceImmobiliere)
    .AsNoTracking()
    .FirstOrDefault(u => u.Id == __id_0)'
2023-10-15 19:10:28.786 +02:00  DBG  Including navigation: 'AppartementEntite.AgenceImmobiliere'.
2023-10-15 19:10:28.967 +02:00  DBG  Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<AppartementEntite>(
    asyncEnumerable: new SingleQueryingEnumerable<AppartementEntite>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: AppartementEntite.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: AppartementEntite.Adresse (string), 1], [Property: AppartementEntite.AgenceImmobiliereId (int) Required FK Index, 2], [Property: AppartementEntite.ComplementAdresse (string), 3], [Property: AppartementEntite.CreeLe (DateTime) Required, 4], [Property: AppartementEntite.DepotDeGarantie (double) Required, 5], [Property: AppartementEntite.Loyer (double) Required, 6], [Property: AppartementEntite.ModifieLe (DateTime?), 7], [Property: AppartementEntite.NombreDeMetre2 (double) Required, 8], [Property: AppartementEntite.PrixDesCharges (double) Required, 9], [Property: AppartementEntite.TypeAppartementId (int?) FK Index, 10], [Property: AppartementEntite.VilleId (int) Required FK Index, 11] }
                1 -> Dictionary<IProperty, int> { [Property: AgenceImmobiliereEntite.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 12], [Property: AgenceImmobiliereEntite.Adresse (string) Required, 13], [Property: AgenceImmobiliereEntite.ComplementAdresse (string), 14], [Property: AgenceImmobiliereEntite.CreeLe (DateTime) Required, 15], [Property: AgenceImmobiliereEntite.FraisAgence (double) Required, 16], [Property: AgenceImmobiliereEntite.ModifieLe (DateTime?), 17], [Property: AgenceImmobiliereEntite.Nom (string) Required MaxLength(255), 18], [Property: AgenceImmobiliereEntite.VilleId (int) Required FK Index, 19] }
            SELECT TOP(1) a.Id, a.Adresse, a.AgenceImmobiliereId, a.ComplementAdresse, a.CreeLe, a.DepotDeGarantie, a.Loyer, a.ModifieLe, a.NombreDeMetre2, a.PrixDesCharges, a.TypeAppartementId, a.VilleId, a0.Id, a0.Adresse, a0.ComplementAdresse, a0.CreeLe, a0.FraisAgence, a0.ModifieLe, a0.Nom, a0.VilleId
            FROM Appartement AS a
            INNER JOIN AgenceImmobiliere AS a0 ON a.AgenceImmobiliereId == a0.Id
            WHERE a.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, AppartementEntite>, 
        Infoeco.infrastructure.InfoEcoDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-10-15 19:10:28.997 +02:00  DBG  Creating DbCommand for 'ExecuteReader'.
2023-10-15 19:10:28.997 +02:00  DBG  Creating DbConnection.
2023-10-15 19:10:28.997 +02:00  DBG  Created DbConnection. (0ms).
2023-10-15 19:10:28.997 +02:00  DBG  Created DbCommand for 'ExecuteReader' (0ms).
2023-10-15 19:10:28.999 +02:00  DBG  Initialized DbCommand for 'ExecuteReader' (2ms).
2023-10-15 19:10:29.002 +02:00  DBG  Opening connection to database 'pmjmvgha' on server ''.
2023-10-15 19:10:29.003 +02:00  DBG  Opened connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:10:29.006 +02:00  DBG  Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."Adresse", a."AgenceImmobiliereId", a."ComplementAdresse", a."CreeLe", a."DepotDeGarantie", a."Loyer", a."ModifieLe", a."NombreDeMetre2", a."PrixDesCharges", a."TypeAppartementId", a."VilleId", a0."Id", a0."Adresse", a0."ComplementAdresse", a0."CreeLe", a0."FraisAgence", a0."ModifieLe", a0."Nom", a0."VilleId"
FROM "Appartement" AS a
INNER JOIN "AgenceImmobiliere" AS a0 ON a."AgenceImmobiliereId" = a0."Id"
WHERE a."Id" = @__id_0
LIMIT 1
2023-10-15 19:10:29.065 +02:00  INF  Executed DbCommand (61ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."Adresse", a."AgenceImmobiliereId", a."ComplementAdresse", a."CreeLe", a."DepotDeGarantie", a."Loyer", a."ModifieLe", a."NombreDeMetre2", a."PrixDesCharges", a."TypeAppartementId", a."VilleId", a0."Id", a0."Adresse", a0."ComplementAdresse", a0."CreeLe", a0."FraisAgence", a0."ModifieLe", a0."Nom", a0."VilleId"
FROM "Appartement" AS a
INNER JOIN "AgenceImmobiliere" AS a0 ON a."AgenceImmobiliereId" = a0."Id"
WHERE a."Id" = @__id_0
LIMIT 1
2023-10-15 19:10:29.085 +02:00  DBG  Closing data reader to 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:10:29.085 +02:00  DBG  A data reader for 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432' is being disposed after spending 20ms reading results.
2023-10-15 19:10:29.088 +02:00  DBG  Closing connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:10:29.089 +02:00  DBG  Closed connection to database 'pmjmvgha' on server '' (0ms).
2023-10-15 19:10:31.664 +02:00  INF  Handled DetailAppartementResponse
2023-10-15 19:10:31.666 +02:00  INF  Information : GET https://localhost:44375/Appartements/11 from '::1:62132' responded 200 in 5247,3160 ms
2023-10-15 19:10:31.673 +02:00  INF  Executed action method Infeco.Api.Controllers.AppartementController.ObtenirAppartementParIdAsync (Infeco.Api), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 5278.2093ms.
2023-10-15 19:10:31.678 +02:00  DBG  List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-10-15 19:10:31.679 +02:00  DBG  No information found on request to perform content negotiation.
2023-10-15 19:10:31.679 +02:00  DBG  Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/json"]'.
2023-10-15 19:10:31.680 +02:00  DBG  Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-10-15 19:10:31.681 +02:00  INF  Executing OkObjectResult, writing value of type 'Infeco.Api.Queries.Appartements.DetailAppartementResponse'.
2023-10-15 19:10:32.925 +02:00  INF  Executed action Infeco.Api.Controllers.AppartementController.ObtenirAppartementParIdAsync (Infeco.Api) in 6601.3816ms
2023-10-15 19:10:33.084 +02:00  INF  Executed endpoint 'Infeco.Api.Controllers.AppartementController.ObtenirAppartementParIdAsync (Infeco.Api)'
2023-10-15 19:10:33.537 +02:00  ERR  An unhandled exception has occurred while executing the request.Newtonsoft.Json.JsonSerializationException: Self referencing loop detected with type 'Infeco.Api.ViewModel.AppartementViewModel'. Path 'contenu.agenceImmobiliere.utilisateursMetier'.
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.CheckForCircularReference(JsonWriter writer, Object value, JsonProperty property, JsonContract contract, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeList(JsonWriter writer, IEnumerable values, JsonArrayContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.Serialize(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.SerializeInternal(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.Serialize(JsonWriter jsonWriter, Object value)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeResultAsync>g__Logged|22_0(ResourceInvoker invoker, IActionResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)

2023-10-15 19:10:33.563 +02:00  DBG  'InfoEcoDbContext' disposed.
2023-10-15 19:10:33.566 +02:00  DBG  Disposing connection to database 'pmjmvgha' on server ''.
2023-10-15 19:10:33.567 +02:00  DBG  Disposed connection to database 'pmjmvgha' on server '' (1ms).
2023-10-15 19:10:33.568 +02:00  INF  Request finished HTTP/1.1 GET https://localhost:44375/Appartements/11 - - - 500 - text/plain;+charset=utf-8 7413.5119ms
2023-10-15 19:11:20.183 +02:00  DBG  Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-10-15 19:11:20.418 +02:00  DBG  An 'IServiceProvider' was created for internal use by Entity Framework.
2023-10-15 19:11:21.077 +02:00  DBG  Entity Framework Core 7.0.11 initialized 'InfoEcoDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None
2023-10-15 19:11:21.085 +02:00  DBG  Creating DbConnection.
2023-10-15 19:11:21.127 +02:00  DBG  Created DbConnection. (39ms).
2023-10-15 19:11:21.130 +02:00  DBG  Migrating using database 'pmjmvgha' on server ''.
2023-10-15 19:11:21.145 +02:00  DBG  Opening connection to database 'pmjmvgha' on server ''.
2023-10-15 19:11:21.651 +02:00  DBG  Opened connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:11:21.653 +02:00  DBG  Closing connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:11:21.664 +02:00  DBG  Closed connection to database 'pmjmvgha' on server '' (7ms).
2023-10-15 19:11:21.669 +02:00  DBG  Creating DbCommand for 'ExecuteScalar'.
2023-10-15 19:11:21.674 +02:00  DBG  Created DbCommand for 'ExecuteScalar' (2ms).
2023-10-15 19:11:21.675 +02:00  DBG  Initialized DbCommand for 'ExecuteScalar' (6ms).
2023-10-15 19:11:21.675 +02:00  DBG  Opening connection to database 'pmjmvgha' on server ''.
2023-10-15 19:11:22.043 +02:00  DBG  Opened connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:11:22.050 +02:00  DBG  Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-10-15 19:11:22.129 +02:00  INF  Executed DbCommand (76ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-10-15 19:11:22.130 +02:00  DBG  Closing connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:11:22.132 +02:00  DBG  Closed connection to database 'pmjmvgha' on server '' (1ms).
2023-10-15 19:11:22.133 +02:00  DBG  Opening connection to database 'pmjmvgha' on server ''.
2023-10-15 19:11:22.413 +02:00  DBG  Opened connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:11:22.413 +02:00  DBG  Closing connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:11:22.414 +02:00  DBG  Closed connection to database 'pmjmvgha' on server '' (0ms).
2023-10-15 19:11:22.414 +02:00  DBG  Creating DbCommand for 'ExecuteScalar'.
2023-10-15 19:11:22.414 +02:00  DBG  Created DbCommand for 'ExecuteScalar' (0ms).
2023-10-15 19:11:22.415 +02:00  DBG  Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-10-15 19:11:22.415 +02:00  DBG  Opening connection to database 'pmjmvgha' on server ''.
2023-10-15 19:11:22.415 +02:00  DBG  Opened connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:11:22.416 +02:00  DBG  Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-10-15 19:11:22.462 +02:00  INF  Executed DbCommand (46ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-10-15 19:11:22.462 +02:00  DBG  Closing connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:11:22.462 +02:00  DBG  Closed connection to database 'pmjmvgha' on server '' (0ms).
2023-10-15 19:11:22.485 +02:00  DBG  Creating DbCommand for 'ExecuteReader'.
2023-10-15 19:11:22.486 +02:00  DBG  Created DbCommand for 'ExecuteReader' (0ms).
2023-10-15 19:11:22.486 +02:00  DBG  Initialized DbCommand for 'ExecuteReader' (0ms).
2023-10-15 19:11:22.486 +02:00  DBG  Opening connection to database 'pmjmvgha' on server ''.
2023-10-15 19:11:22.486 +02:00  DBG  Opened connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:11:22.486 +02:00  DBG  Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-10-15 19:11:22.532 +02:00  INF  Executed DbCommand (46ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-10-15 19:11:22.536 +02:00  DBG  Closing data reader to 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:11:22.538 +02:00  DBG  A data reader for 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432' is being disposed after spending 4ms reading results.
2023-10-15 19:11:22.538 +02:00  DBG  Closing connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:11:22.538 +02:00  DBG  Closed connection to database 'pmjmvgha' on server '' (0ms).
2023-10-15 19:11:22.547 +02:00  INF  No migrations were applied. The database is already up to date.
2023-10-15 19:11:22.549 +02:00  DBG  'InfoEcoDbContext' disposed.
2023-10-15 19:11:22.550 +02:00  DBG  Disposing connection to database 'pmjmvgha' on server ''.
2023-10-15 19:11:22.551 +02:00  DBG  Disposed connection to database 'pmjmvgha' on server '' (0ms).
2023-10-15 19:11:22.553 +02:00  DBG  Hosting starting
2023-10-15 19:11:22.584 +02:00  INF  User profile is available. Using 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-10-15 19:11:22.588 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-2ce4c23f-757b-4029-95d3-9c9820e6de80.xml'.
2023-10-15 19:11:22.594 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-6921759b-a9f9-48ea-a379-13505875271d.xml'.
2023-10-15 19:11:22.595 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-7c4081c7-f341-4ce9-ad03-d3ea3cf1c21f.xml'.
2023-10-15 19:11:22.595 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-a038200a-44f7-48da-9d2b-5646ef68d51f.xml'.
2023-10-15 19:11:22.595 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-a642139e-629a-42ab-b89a-38ed4778f2e0.xml'.
2023-10-15 19:11:22.595 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-b1a02c3b-a417-45ff-ac5c-986fca4cdd22.xml'.
2023-10-15 19:11:22.595 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-b5a22f60-a6fe-488b-8048-b8d1034bef7d.xml'.
2023-10-15 19:11:22.596 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-b8996f88-e69f-41d1-b4d3-e7b15b37a5e2.xml'.
2023-10-15 19:11:22.599 +02:00  DBG  Found key {2ce4c23f-757b-4029-95d3-9c9820e6de80}.
2023-10-15 19:11:22.603 +02:00  DBG  Found key {6921759b-a9f9-48ea-a379-13505875271d}.
2023-10-15 19:11:22.603 +02:00  DBG  Found key {7c4081c7-f341-4ce9-ad03-d3ea3cf1c21f}.
2023-10-15 19:11:22.603 +02:00  DBG  Found key {a038200a-44f7-48da-9d2b-5646ef68d51f}.
2023-10-15 19:11:22.603 +02:00  DBG  Found key {a642139e-629a-42ab-b89a-38ed4778f2e0}.
2023-10-15 19:11:22.603 +02:00  DBG  Found key {b1a02c3b-a417-45ff-ac5c-986fca4cdd22}.
2023-10-15 19:11:22.604 +02:00  DBG  Found key {b5a22f60-a6fe-488b-8048-b8d1034bef7d}.
2023-10-15 19:11:22.604 +02:00  DBG  Found key {b8996f88-e69f-41d1-b4d3-e7b15b37a5e2}.
2023-10-15 19:11:22.612 +02:00  DBG  Considering key {6921759b-a9f9-48ea-a379-13505875271d} with expiration date 2023-11-22 12:55:42Z as default key.
2023-10-15 19:11:22.615 +02:00  DBG  Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-10-15 19:11:22.615 +02:00  DBG  Decrypting secret element using Windows DPAPI.
2023-10-15 19:11:22.617 +02:00  DBG  Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-10-15 19:11:22.618 +02:00  DBG  Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-10-15 19:11:22.620 +02:00  DBG  Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-10-15 19:11:22.621 +02:00  DBG  Using key {6921759b-a9f9-48ea-a379-13505875271d} as the default key.
2023-10-15 19:11:22.623 +02:00  DBG  Key ring with default key {6921759b-a9f9-48ea-a379-13505875271d} was loaded during application startup.
2023-10-15 19:11:22.701 +02:00  DBG  Loaded hosting startup assembly Infeco.Api
2023-10-15 19:11:22.702 +02:00  DBG  Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-10-15 19:11:22.702 +02:00  DBG  Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-10-15 19:11:22.702 +02:00  INF  Application started. Press Ctrl+C to shut down.
2023-10-15 19:11:22.703 +02:00  INF  Hosting environment: Development
2023-10-15 19:11:22.703 +02:00  INF  Content root path: C:\Users\fdepret\source\repos\Infeco.api\Infeco.api
2023-10-15 19:11:22.703 +02:00  DBG  Hosting started
2023-10-15 19:11:22.751 +02:00  INF  Request starting HTTP/2 GET https://localhost:44375/index.html - -
2023-10-15 19:11:22.789 +02:00  DBG  Wildcard detected, all requests with hosts will be allowed.
2023-10-15 19:11:22.836 +02:00  DBG  No candidates found for the request path '/index.html'
2023-10-15 19:11:22.837 +02:00  DBG  Request did not match any endpoints
2023-10-15 19:11:22.886 +02:00  DBG  AuthenticationScheme: Bearer was not authenticated.
2023-10-15 19:11:22.987 +02:00  DBG  Response markup is scheduled to include browser refresh script injection.
2023-10-15 19:11:25.134 +02:00  DBG  Response markup was updated to include browser refresh script injection.
2023-10-15 19:11:25.148 +02:00  DBG  Connection ID "18302628913014112278" disconnecting.
2023-10-15 19:11:25.149 +02:00  INF  Request starting HTTP/2 GET https://localhost:44375/_framework/aspnetcore-browser-refresh.js - -
2023-10-15 19:11:25.150 +02:00  INF  Request finished HTTP/2 GET https://localhost:44375/index.html - - - 200 - text/html;charset=utf-8 2402.3610ms
2023-10-15 19:11:25.154 +02:00  DBG  Connection ID "18374686489872171029" disconnecting.
2023-10-15 19:11:25.155 +02:00  INF  Request finished HTTP/2 GET https://localhost:44375/_framework/aspnetcore-browser-refresh.js - - - 200 12352 application/javascript;+charset=utf-8 5.2371ms
2023-10-15 19:11:25.222 +02:00  INF  Request starting HTTP/2 GET https://localhost:44375/swagger/v1/swagger.json - -
2023-10-15 19:11:25.223 +02:00  DBG  No candidates found for the request path '/swagger/v1/swagger.json'
2023-10-15 19:11:25.223 +02:00  DBG  Request did not match any endpoints
2023-10-15 19:11:25.225 +02:00  DBG  AuthenticationScheme: Bearer was not authenticated.
2023-10-15 19:11:25.459 +02:00  DBG  Connection ID "18374686515641974810" disconnecting.
2023-10-15 19:11:25.460 +02:00  INF  Request finished HTTP/2 GET https://localhost:44375/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 237.7715ms
2023-10-15 19:11:27.460 +02:00  INF  Request starting HTTP/1.1 GET https://localhost:44375/Appartements/11 - -
2023-10-15 19:11:27.463 +02:00  DBG  1 candidate(s) found for the request path '/Appartements/11'
2023-10-15 19:11:27.466 +02:00  DBG  Endpoint 'Infeco.Api.Controllers.AppartementController.ObtenirAppartementParIdAsync (Infeco.Api)' with route pattern 'appartements/{id}' is valid for the request path '/Appartements/11'
2023-10-15 19:11:27.466 +02:00  DBG  Request matched endpoint 'Infeco.Api.Controllers.AppartementController.ObtenirAppartementParIdAsync (Infeco.Api)'
2023-10-15 19:11:27.594 +02:00  DBG  Successfully validated the token.
2023-10-15 19:11:27.596 +02:00  DBG  AuthenticationScheme: Bearer was successfully authenticated.
2023-10-15 19:11:27.602 +02:00  DBG  Authorization was successful.
2023-10-15 19:11:27.604 +02:00  DBG  Static files was skipped as the request already matched an endpoint.
2023-10-15 19:11:27.605 +02:00  INF  Executing endpoint 'Infeco.Api.Controllers.AppartementController.ObtenirAppartementParIdAsync (Infeco.Api)'
2023-10-15 19:11:27.649 +02:00  INF  Route matched with {action = "ObtenirAppartementParId", controller = "Appartement"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Infeco.Api.ViewModel.AppartementViewModel]] ObtenirAppartementParIdAsync(Int32, System.Threading.CancellationToken) on controller Infeco.Api.Controllers.AppartementController (Infeco.Api).
2023-10-15 19:11:27.651 +02:00  DBG  Execution plan of authorization filters (in the following order): ["None"]
2023-10-15 19:11:27.651 +02:00  DBG  Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2023-10-15 19:11:27.652 +02:00  DBG  Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2023-10-15 19:11:27.652 +02:00  DBG  Execution plan of exception filters (in the following order): ["None"]
2023-10-15 19:11:27.652 +02:00  DBG  Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2023-10-15 19:11:27.656 +02:00  DBG  Executing controller factory for controller Infeco.Api.Controllers.AppartementController (Infeco.Api)
2023-10-15 19:11:27.657 +02:00  DBG  Executed controller factory for controller Infeco.Api.Controllers.AppartementController (Infeco.Api)
2023-10-15 19:11:27.664 +02:00  DBG  Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-10-15 19:11:27.667 +02:00  DBG  Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-10-15 19:11:27.668 +02:00  DBG  Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-10-15 19:11:27.668 +02:00  DBG  Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-10-15 19:11:27.668 +02:00  DBG  Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-10-15 19:11:27.672 +02:00  DBG  Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-10-15 19:11:27.673 +02:00  DBG  Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-10-15 19:11:27.674 +02:00  DBG  Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-10-15 19:11:27.674 +02:00  DBG  Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-10-15 19:11:27.675 +02:00  DBG  Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-10-15 19:11:27.755 +02:00  INF  Executing action method Infeco.Api.Controllers.AppartementController.ObtenirAppartementParIdAsync (Infeco.Api) - Validation state: "Valid"
2023-10-15 19:11:27.792 +02:00  INF  Handling ObtenirAppartementParIdQuery
2023-10-15 19:11:27.806 +02:00  DBG  Entity Framework Core 7.0.11 initialized 'InfoEcoDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None
2023-10-15 19:11:29.928 +02:00  DBG  Compiling query expression: 
'DbSet<AppartementEntite>()
    .Include(u => u.AgenceImmobiliere)
    .AsNoTracking()
    .FirstOrDefault(u => u.Id == __id_0)'
2023-10-15 19:11:29.987 +02:00  DBG  Including navigation: 'AppartementEntite.AgenceImmobiliere'.
2023-10-15 19:11:30.169 +02:00  DBG  Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<AppartementEntite>(
    asyncEnumerable: new SingleQueryingEnumerable<AppartementEntite>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: AppartementEntite.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: AppartementEntite.Adresse (string), 1], [Property: AppartementEntite.AgenceImmobiliereId (int) Required FK Index, 2], [Property: AppartementEntite.ComplementAdresse (string), 3], [Property: AppartementEntite.CreeLe (DateTime) Required, 4], [Property: AppartementEntite.DepotDeGarantie (double) Required, 5], [Property: AppartementEntite.Loyer (double) Required, 6], [Property: AppartementEntite.ModifieLe (DateTime?), 7], [Property: AppartementEntite.NombreDeMetre2 (double) Required, 8], [Property: AppartementEntite.PrixDesCharges (double) Required, 9], [Property: AppartementEntite.TypeAppartementId (int?) FK Index, 10], [Property: AppartementEntite.VilleId (int) Required FK Index, 11] }
                1 -> Dictionary<IProperty, int> { [Property: AgenceImmobiliereEntite.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 12], [Property: AgenceImmobiliereEntite.Adresse (string) Required, 13], [Property: AgenceImmobiliereEntite.ComplementAdresse (string), 14], [Property: AgenceImmobiliereEntite.CreeLe (DateTime) Required, 15], [Property: AgenceImmobiliereEntite.FraisAgence (double) Required, 16], [Property: AgenceImmobiliereEntite.ModifieLe (DateTime?), 17], [Property: AgenceImmobiliereEntite.Nom (string) Required MaxLength(255), 18], [Property: AgenceImmobiliereEntite.VilleId (int) Required FK Index, 19] }
            SELECT TOP(1) a.Id, a.Adresse, a.AgenceImmobiliereId, a.ComplementAdresse, a.CreeLe, a.DepotDeGarantie, a.Loyer, a.ModifieLe, a.NombreDeMetre2, a.PrixDesCharges, a.TypeAppartementId, a.VilleId, a0.Id, a0.Adresse, a0.ComplementAdresse, a0.CreeLe, a0.FraisAgence, a0.ModifieLe, a0.Nom, a0.VilleId
            FROM Appartement AS a
            INNER JOIN AgenceImmobiliere AS a0 ON a.AgenceImmobiliereId == a0.Id
            WHERE a.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, AppartementEntite>, 
        Infoeco.infrastructure.InfoEcoDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-10-15 19:11:30.204 +02:00  DBG  Creating DbCommand for 'ExecuteReader'.
2023-10-15 19:11:30.205 +02:00  DBG  Creating DbConnection.
2023-10-15 19:11:30.205 +02:00  DBG  Created DbConnection. (0ms).
2023-10-15 19:11:30.205 +02:00  DBG  Created DbCommand for 'ExecuteReader' (1ms).
2023-10-15 19:11:30.207 +02:00  DBG  Initialized DbCommand for 'ExecuteReader' (3ms).
2023-10-15 19:11:30.210 +02:00  DBG  Opening connection to database 'pmjmvgha' on server ''.
2023-10-15 19:11:30.212 +02:00  DBG  Opened connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:11:30.215 +02:00  DBG  Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."Adresse", a."AgenceImmobiliereId", a."ComplementAdresse", a."CreeLe", a."DepotDeGarantie", a."Loyer", a."ModifieLe", a."NombreDeMetre2", a."PrixDesCharges", a."TypeAppartementId", a."VilleId", a0."Id", a0."Adresse", a0."ComplementAdresse", a0."CreeLe", a0."FraisAgence", a0."ModifieLe", a0."Nom", a0."VilleId"
FROM "Appartement" AS a
INNER JOIN "AgenceImmobiliere" AS a0 ON a."AgenceImmobiliereId" = a0."Id"
WHERE a."Id" = @__id_0
LIMIT 1
2023-10-15 19:11:30.279 +02:00  INF  Executed DbCommand (66ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."Adresse", a."AgenceImmobiliereId", a."ComplementAdresse", a."CreeLe", a."DepotDeGarantie", a."Loyer", a."ModifieLe", a."NombreDeMetre2", a."PrixDesCharges", a."TypeAppartementId", a."VilleId", a0."Id", a0."Adresse", a0."ComplementAdresse", a0."CreeLe", a0."FraisAgence", a0."ModifieLe", a0."Nom", a0."VilleId"
FROM "Appartement" AS a
INNER JOIN "AgenceImmobiliere" AS a0 ON a."AgenceImmobiliereId" = a0."Id"
WHERE a."Id" = @__id_0
LIMIT 1
2023-10-15 19:11:30.301 +02:00  DBG  Closing data reader to 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:11:30.301 +02:00  DBG  A data reader for 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432' is being disposed after spending 22ms reading results.
2023-10-15 19:11:30.304 +02:00  DBG  Closing connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:11:30.305 +02:00  DBG  Closed connection to database 'pmjmvgha' on server '' (0ms).
2023-10-15 19:11:33.209 +02:00  INF  Handled DetailAppartementResponse
2023-10-15 19:11:33.212 +02:00  INF  Information : GET https://localhost:44375/Appartements/11 from '::1:62286' responded 200 in 5416,6950 ms
2023-10-15 19:11:33.218 +02:00  INF  Executed action method Infeco.Api.Controllers.AppartementController.ObtenirAppartementParIdAsync (Infeco.Api), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 5459.8531ms.
2023-10-15 19:11:33.223 +02:00  DBG  List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-10-15 19:11:33.225 +02:00  DBG  No information found on request to perform content negotiation.
2023-10-15 19:11:33.226 +02:00  DBG  Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/json"]'.
2023-10-15 19:11:33.227 +02:00  DBG  Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-10-15 19:11:33.227 +02:00  INF  Executing OkObjectResult, writing value of type 'Infeco.Api.Queries.Appartements.DetailAppartementResponse'.
2023-10-15 19:11:34.442 +02:00  INF  Executed action Infeco.Api.Controllers.AppartementController.ObtenirAppartementParIdAsync (Infeco.Api) in 6787.4588ms
2023-10-15 19:11:34.598 +02:00  INF  Executed endpoint 'Infeco.Api.Controllers.AppartementController.ObtenirAppartementParIdAsync (Infeco.Api)'
2023-10-15 19:11:35.025 +02:00  ERR  An unhandled exception has occurred while executing the request.Newtonsoft.Json.JsonSerializationException: Self referencing loop detected with type 'Infeco.Api.ViewModel.AppartementViewModel'. Path 'contenu.agenceImmobiliere.utilisateursMetier'.
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.CheckForCircularReference(JsonWriter writer, Object value, JsonProperty property, JsonContract contract, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeList(JsonWriter writer, IEnumerable values, JsonArrayContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.Serialize(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.SerializeInternal(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.Serialize(JsonWriter jsonWriter, Object value)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeResultAsync>g__Logged|22_0(ResourceInvoker invoker, IActionResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)

2023-10-15 19:11:35.055 +02:00  DBG  'InfoEcoDbContext' disposed.
2023-10-15 19:11:35.059 +02:00  DBG  Disposing connection to database 'pmjmvgha' on server ''.
2023-10-15 19:11:35.061 +02:00  DBG  Disposed connection to database 'pmjmvgha' on server '' (1ms).
2023-10-15 19:11:35.062 +02:00  INF  Request finished HTTP/1.1 GET https://localhost:44375/Appartements/11 - - - 500 - text/plain;+charset=utf-8 7601.3099ms
2023-10-15 19:13:43.235 +02:00  DBG  Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-10-15 19:13:43.444 +02:00  DBG  An 'IServiceProvider' was created for internal use by Entity Framework.
2023-10-15 19:13:44.196 +02:00  DBG  Entity Framework Core 7.0.11 initialized 'InfoEcoDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None
2023-10-15 19:13:44.205 +02:00  DBG  Creating DbConnection.
2023-10-15 19:13:44.251 +02:00  DBG  Created DbConnection. (42ms).
2023-10-15 19:13:44.255 +02:00  DBG  Migrating using database 'pmjmvgha' on server ''.
2023-10-15 19:13:44.271 +02:00  DBG  Opening connection to database 'pmjmvgha' on server ''.
2023-10-15 19:13:44.751 +02:00  DBG  Opened connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:13:44.753 +02:00  DBG  Closing connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:13:44.763 +02:00  DBG  Closed connection to database 'pmjmvgha' on server '' (6ms).
2023-10-15 19:13:44.768 +02:00  DBG  Creating DbCommand for 'ExecuteScalar'.
2023-10-15 19:13:44.772 +02:00  DBG  Created DbCommand for 'ExecuteScalar' (3ms).
2023-10-15 19:13:44.773 +02:00  DBG  Initialized DbCommand for 'ExecuteScalar' (6ms).
2023-10-15 19:13:44.774 +02:00  DBG  Opening connection to database 'pmjmvgha' on server ''.
2023-10-15 19:13:45.170 +02:00  DBG  Opened connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:13:45.176 +02:00  DBG  Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-10-15 19:13:45.256 +02:00  INF  Executed DbCommand (80ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-10-15 19:13:45.257 +02:00  DBG  Closing connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:13:45.258 +02:00  DBG  Closed connection to database 'pmjmvgha' on server '' (1ms).
2023-10-15 19:13:45.259 +02:00  DBG  Opening connection to database 'pmjmvgha' on server ''.
2023-10-15 19:13:45.561 +02:00  DBG  Opened connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:13:45.561 +02:00  DBG  Closing connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:13:45.562 +02:00  DBG  Closed connection to database 'pmjmvgha' on server '' (0ms).
2023-10-15 19:13:45.562 +02:00  DBG  Creating DbCommand for 'ExecuteScalar'.
2023-10-15 19:13:45.562 +02:00  DBG  Created DbCommand for 'ExecuteScalar' (0ms).
2023-10-15 19:13:45.563 +02:00  DBG  Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-10-15 19:13:45.563 +02:00  DBG  Opening connection to database 'pmjmvgha' on server ''.
2023-10-15 19:13:45.563 +02:00  DBG  Opened connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:13:45.563 +02:00  DBG  Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-10-15 19:13:45.613 +02:00  INF  Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-10-15 19:13:45.613 +02:00  DBG  Closing connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:13:45.613 +02:00  DBG  Closed connection to database 'pmjmvgha' on server '' (0ms).
2023-10-15 19:13:45.629 +02:00  DBG  Creating DbCommand for 'ExecuteReader'.
2023-10-15 19:13:45.629 +02:00  DBG  Created DbCommand for 'ExecuteReader' (0ms).
2023-10-15 19:13:45.629 +02:00  DBG  Initialized DbCommand for 'ExecuteReader' (0ms).
2023-10-15 19:13:45.629 +02:00  DBG  Opening connection to database 'pmjmvgha' on server ''.
2023-10-15 19:13:45.629 +02:00  DBG  Opened connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:13:45.630 +02:00  DBG  Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-10-15 19:13:45.678 +02:00  INF  Executed DbCommand (48ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-10-15 19:13:45.682 +02:00  DBG  Closing data reader to 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:13:45.684 +02:00  DBG  A data reader for 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432' is being disposed after spending 4ms reading results.
2023-10-15 19:13:45.684 +02:00  DBG  Closing connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:13:45.684 +02:00  DBG  Closed connection to database 'pmjmvgha' on server '' (0ms).
2023-10-15 19:13:45.692 +02:00  INF  No migrations were applied. The database is already up to date.
2023-10-15 19:13:45.693 +02:00  DBG  'InfoEcoDbContext' disposed.
2023-10-15 19:13:45.694 +02:00  DBG  Disposing connection to database 'pmjmvgha' on server ''.
2023-10-15 19:13:45.694 +02:00  DBG  Disposed connection to database 'pmjmvgha' on server '' (0ms).
2023-10-15 19:13:45.697 +02:00  DBG  Hosting starting
2023-10-15 19:13:45.726 +02:00  INF  User profile is available. Using 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-10-15 19:13:45.730 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-2ce4c23f-757b-4029-95d3-9c9820e6de80.xml'.
2023-10-15 19:13:45.735 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-6921759b-a9f9-48ea-a379-13505875271d.xml'.
2023-10-15 19:13:45.736 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-7c4081c7-f341-4ce9-ad03-d3ea3cf1c21f.xml'.
2023-10-15 19:13:45.736 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-a038200a-44f7-48da-9d2b-5646ef68d51f.xml'.
2023-10-15 19:13:45.736 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-a642139e-629a-42ab-b89a-38ed4778f2e0.xml'.
2023-10-15 19:13:45.736 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-b1a02c3b-a417-45ff-ac5c-986fca4cdd22.xml'.
2023-10-15 19:13:45.736 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-b5a22f60-a6fe-488b-8048-b8d1034bef7d.xml'.
2023-10-15 19:13:45.737 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-b8996f88-e69f-41d1-b4d3-e7b15b37a5e2.xml'.
2023-10-15 19:13:45.740 +02:00  DBG  Found key {2ce4c23f-757b-4029-95d3-9c9820e6de80}.
2023-10-15 19:13:45.743 +02:00  DBG  Found key {6921759b-a9f9-48ea-a379-13505875271d}.
2023-10-15 19:13:45.743 +02:00  DBG  Found key {7c4081c7-f341-4ce9-ad03-d3ea3cf1c21f}.
2023-10-15 19:13:45.743 +02:00  DBG  Found key {a038200a-44f7-48da-9d2b-5646ef68d51f}.
2023-10-15 19:13:45.744 +02:00  DBG  Found key {a642139e-629a-42ab-b89a-38ed4778f2e0}.
2023-10-15 19:13:45.744 +02:00  DBG  Found key {b1a02c3b-a417-45ff-ac5c-986fca4cdd22}.
2023-10-15 19:13:45.744 +02:00  DBG  Found key {b5a22f60-a6fe-488b-8048-b8d1034bef7d}.
2023-10-15 19:13:45.744 +02:00  DBG  Found key {b8996f88-e69f-41d1-b4d3-e7b15b37a5e2}.
2023-10-15 19:13:45.749 +02:00  DBG  Considering key {6921759b-a9f9-48ea-a379-13505875271d} with expiration date 2023-11-22 12:55:42Z as default key.
2023-10-15 19:13:45.751 +02:00  DBG  Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-10-15 19:13:45.751 +02:00  DBG  Decrypting secret element using Windows DPAPI.
2023-10-15 19:13:45.753 +02:00  DBG  Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-10-15 19:13:45.754 +02:00  DBG  Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-10-15 19:13:45.755 +02:00  DBG  Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-10-15 19:13:45.756 +02:00  DBG  Using key {6921759b-a9f9-48ea-a379-13505875271d} as the default key.
2023-10-15 19:13:45.757 +02:00  DBG  Key ring with default key {6921759b-a9f9-48ea-a379-13505875271d} was loaded during application startup.
2023-10-15 19:13:45.820 +02:00  DBG  Loaded hosting startup assembly Infeco.Api
2023-10-15 19:13:45.820 +02:00  DBG  Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-10-15 19:13:45.825 +02:00  DBG  Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-10-15 19:13:45.826 +02:00  INF  Application started. Press Ctrl+C to shut down.
2023-10-15 19:13:45.826 +02:00  INF  Hosting environment: Development
2023-10-15 19:13:45.826 +02:00  INF  Content root path: C:\Users\fdepret\source\repos\Infeco.api\Infeco.api
2023-10-15 19:13:45.826 +02:00  DBG  Hosting started
2023-10-15 19:13:45.859 +02:00  INF  Request starting HTTP/2 GET https://localhost:44375/index.html - -
2023-10-15 19:13:45.884 +02:00  DBG  Wildcard detected, all requests with hosts will be allowed.
2023-10-15 19:13:45.916 +02:00  DBG  No candidates found for the request path '/index.html'
2023-10-15 19:13:45.916 +02:00  DBG  Request did not match any endpoints
2023-10-15 19:13:45.956 +02:00  DBG  AuthenticationScheme: Bearer was not authenticated.
2023-10-15 19:13:46.063 +02:00  DBG  Response markup is scheduled to include browser refresh script injection.
2023-10-15 19:13:48.205 +02:00  DBG  Response markup was updated to include browser refresh script injection.
2023-10-15 19:13:48.220 +02:00  DBG  Connection ID "18158513716348321801" disconnecting.
2023-10-15 19:13:48.220 +02:00  INF  Request starting HTTP/2 GET https://localhost:44375/_framework/aspnetcore-browser-refresh.js - -
2023-10-15 19:13:48.221 +02:00  INF  Request finished HTTP/2 GET https://localhost:44375/index.html - - - 200 - text/html;charset=utf-8 2362.2843ms
2023-10-15 19:13:48.233 +02:00  INF  Request finished HTTP/2 GET https://localhost:44375/_framework/aspnetcore-browser-refresh.js - - - 200 12352 application/javascript;+charset=utf-8 7.9647ms
2023-10-15 19:13:48.240 +02:00  DBG  Connection ID "18158513716348321803" disconnecting.
2023-10-15 19:13:48.302 +02:00  INF  Request starting HTTP/2 GET https://localhost:44375/swagger/v1/swagger.json - -
2023-10-15 19:13:48.304 +02:00  DBG  No candidates found for the request path '/swagger/v1/swagger.json'
2023-10-15 19:13:48.304 +02:00  DBG  Request did not match any endpoints
2023-10-15 19:13:48.305 +02:00  DBG  AuthenticationScheme: Bearer was not authenticated.
2023-10-15 19:13:48.492 +02:00  DBG  Connection ID "18374686481282236433" disconnecting.
2023-10-15 19:13:48.492 +02:00  INF  Request finished HTTP/2 GET https://localhost:44375/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 189.8626ms
2023-10-15 19:13:55.099 +02:00  INF  Request starting HTTP/1.1 GET https://localhost:44375/Appartements/11 - -
2023-10-15 19:13:55.102 +02:00  DBG  1 candidate(s) found for the request path '/Appartements/11'
2023-10-15 19:13:55.104 +02:00  DBG  Endpoint 'Infeco.Api.Controllers.AppartementController.ObtenirAppartementParIdAsync (Infeco.Api)' with route pattern 'appartements/{id}' is valid for the request path '/Appartements/11'
2023-10-15 19:13:55.105 +02:00  DBG  Request matched endpoint 'Infeco.Api.Controllers.AppartementController.ObtenirAppartementParIdAsync (Infeco.Api)'
2023-10-15 19:13:55.241 +02:00  INF  Failed to validate the token.Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '15/10/2023 17:12:07', Current time: '15/10/2023 17:13:55'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()

2023-10-15 19:13:55.255 +02:00  INF  Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '15/10/2023 17:12:07', Current time: '15/10/2023 17:13:55'.
2023-10-15 19:13:55.263 +02:00  INF  Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-10-15 19:13:55.268 +02:00  INF  AuthenticationScheme: Bearer was challenged.
2023-10-15 19:13:55.270 +02:00  INF  Request finished HTTP/1.1 GET https://localhost:44375/Appartements/11 - - - 401 - - 170.3149ms
2023-10-15 19:14:14.641 +02:00  INF  Request starting HTTP/1.1 GET https://localhost:44375/Appartements/11 - -
2023-10-15 19:14:14.641 +02:00  DBG  1 candidate(s) found for the request path '/Appartements/11'
2023-10-15 19:14:14.641 +02:00  DBG  Endpoint 'Infeco.Api.Controllers.AppartementController.ObtenirAppartementParIdAsync (Infeco.Api)' with route pattern 'appartements/{id}' is valid for the request path '/Appartements/11'
2023-10-15 19:14:14.641 +02:00  DBG  Request matched endpoint 'Infeco.Api.Controllers.AppartementController.ObtenirAppartementParIdAsync (Infeco.Api)'
2023-10-15 19:14:14.665 +02:00  INF  Failed to validate the token.Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '15/10/2023 17:12:07', Current time: '15/10/2023 17:14:14'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()

2023-10-15 19:14:14.666 +02:00  INF  Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '15/10/2023 17:12:07', Current time: '15/10/2023 17:14:14'.
2023-10-15 19:14:14.667 +02:00  INF  Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-10-15 19:14:14.668 +02:00  INF  AuthenticationScheme: Bearer was challenged.
2023-10-15 19:14:14.668 +02:00  INF  Request finished HTTP/1.1 GET https://localhost:44375/Appartements/11 - - - 401 - - 27.5129ms
2023-10-15 19:14:29.210 +02:00  INF  Request starting HTTP/1.1 POST https://localhost:44375/login - 0
2023-10-15 19:14:29.210 +02:00  DBG  1 candidate(s) found for the request path '/login'
2023-10-15 19:14:29.210 +02:00  DBG  Endpoint 'IDSoft.CrmWelcome.Api.Controllers.ConnexionController.LoginAsync (Infeco.Api)' with route pattern 'login' is valid for the request path '/login'
2023-10-15 19:14:29.211 +02:00  DBG  Request matched endpoint 'IDSoft.CrmWelcome.Api.Controllers.ConnexionController.LoginAsync (Infeco.Api)'
2023-10-15 19:14:29.211 +02:00  DBG  AuthenticationScheme: Bearer was not authenticated.
2023-10-15 19:14:29.213 +02:00  DBG  Static files was skipped as the request already matched an endpoint.
2023-10-15 19:14:29.214 +02:00  INF  Executing endpoint 'IDSoft.CrmWelcome.Api.Controllers.ConnexionController.LoginAsync (Infeco.Api)'
2023-10-15 19:14:29.237 +02:00  INF  Route matched with {action = "Login", controller = "Connexion"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginAsync(System.Threading.CancellationToken) on controller IDSoft.CrmWelcome.Api.Controllers.ConnexionController (Infeco.Api).
2023-10-15 19:14:29.238 +02:00  DBG  Execution plan of authorization filters (in the following order): ["None"]
2023-10-15 19:14:29.238 +02:00  DBG  Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2023-10-15 19:14:29.238 +02:00  DBG  Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2023-10-15 19:14:29.238 +02:00  DBG  Execution plan of exception filters (in the following order): ["None"]
2023-10-15 19:14:29.238 +02:00  DBG  Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2023-10-15 19:14:29.240 +02:00  DBG  Executing controller factory for controller IDSoft.CrmWelcome.Api.Controllers.ConnexionController (Infeco.Api)
2023-10-15 19:14:29.241 +02:00  DBG  Executed controller factory for controller IDSoft.CrmWelcome.Api.Controllers.ConnexionController (Infeco.Api)
2023-10-15 19:14:29.245 +02:00  DBG  Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-10-15 19:14:29.247 +02:00  DBG  Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-10-15 19:14:29.247 +02:00  DBG  Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-10-15 19:14:29.249 +02:00  DBG  Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-10-15 19:14:29.302 +02:00  INF  Executing action method IDSoft.CrmWelcome.Api.Controllers.ConnexionController.LoginAsync (Infeco.Api) - Validation state: "Valid"
2023-10-15 19:14:29.335 +02:00  INF  Handling ObtenirUtilisateurParIdentifiantEtMotDePasseQuery
2023-10-15 19:14:29.347 +02:00  DBG  Entity Framework Core 7.0.11 initialized 'InfoEcoDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None
2023-10-15 19:14:29.487 +02:00  DBG  Compiling query expression: 
'DbSet<UtilisateurEntite>()
    .FirstOrDefault(u => u.Courriel == __identifiant_0 && u.Passe == __motDePasse_1)'
2023-10-15 19:14:29.638 +02:00  DBG  Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UtilisateurEntite>(
    asyncEnumerable: new SingleQueryingEnumerable<UtilisateurEntite>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UtilisateurEntite.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UtilisateurEntite.AgenceImmobiliereId (int) Required FK Index, 1], [Property: UtilisateurEntite.Courriel (string) Required Index MaxLength(255), 2], [Property: UtilisateurEntite.CreeLe (DateTime) Required, 3], [Property: UtilisateurEntite.EstActif (bool) Required, 4], [Property: UtilisateurEntite.ModifieLe (DateTime?), 5], [Property: UtilisateurEntite.Nom (string) Required MaxLength(255), 6], [Property: UtilisateurEntite.Passe (string) Required MaxLength(255), 7], [Property: UtilisateurEntite.Prenom (string) Required MaxLength(255), 8] }
            SELECT TOP(1) u.Id, u.AgenceImmobiliereId, u.Courriel, u.CreeLe, u.EstActif, u.ModifieLe, u.Nom, u.Passe, u.Prenom
            FROM Utilisateur AS u
            WHERE (u.Courriel == @__identifiant_0) && (u.Passe == @__motDePasse_1)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UtilisateurEntite>, 
        Infoeco.infrastructure.InfoEcoDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-10-15 19:14:29.669 +02:00  DBG  Creating DbCommand for 'ExecuteReader'.
2023-10-15 19:14:29.669 +02:00  DBG  Creating DbConnection.
2023-10-15 19:14:29.669 +02:00  DBG  Created DbConnection. (0ms).
2023-10-15 19:14:29.669 +02:00  DBG  Created DbCommand for 'ExecuteReader' (0ms).
2023-10-15 19:14:29.671 +02:00  DBG  Initialized DbCommand for 'ExecuteReader' (2ms).
2023-10-15 19:14:29.673 +02:00  DBG  Opening connection to database 'pmjmvgha' on server ''.
2023-10-15 19:14:29.674 +02:00  DBG  Opened connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:14:29.676 +02:00  DBG  Executing DbCommand [Parameters=[@__identifiant_0='?', @__motDePasse_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."AgenceImmobiliereId", u."Courriel", u."CreeLe", u."EstActif", u."ModifieLe", u."Nom", u."Passe", u."Prenom"
FROM "Utilisateur" AS u
WHERE u."Courriel" = @__identifiant_0 AND u."Passe" = @__motDePasse_1
LIMIT 1
2023-10-15 19:14:29.735 +02:00  INF  Executed DbCommand (61ms) [Parameters=[@__identifiant_0='?', @__motDePasse_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."AgenceImmobiliereId", u."Courriel", u."CreeLe", u."EstActif", u."ModifieLe", u."Nom", u."Passe", u."Prenom"
FROM "Utilisateur" AS u
WHERE u."Courriel" = @__identifiant_0 AND u."Passe" = @__motDePasse_1
LIMIT 1
2023-10-15 19:14:29.763 +02:00  DBG  Context 'InfoEcoDbContext' started tracking 'UtilisateurEntite' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-15 19:14:29.792 +02:00  DBG  Closing data reader to 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:14:29.792 +02:00  DBG  A data reader for 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432' is being disposed after spending 56ms reading results.
2023-10-15 19:14:29.794 +02:00  DBG  Closing connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:14:29.795 +02:00  DBG  Closed connection to database 'pmjmvgha' on server '' (0ms).
2023-10-15 19:14:29.802 +02:00  INF  Handled DetailUtilisateurResponse
2023-10-15 19:14:29.804 +02:00  INF  Information : POST https://localhost:44375/login from '::1:62559' responded 200 in 466,3986 ms
2023-10-15 19:14:29.830 +02:00  INF  Executed action method IDSoft.CrmWelcome.Api.Controllers.ConnexionController.LoginAsync (Infeco.Api), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 525.0612ms.
2023-10-15 19:14:29.835 +02:00  DBG  List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-10-15 19:14:29.836 +02:00  DBG  No information found on request to perform content negotiation.
2023-10-15 19:14:29.836 +02:00  DBG  Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/json"]'.
2023-10-15 19:14:29.837 +02:00  DBG  Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-10-15 19:14:29.837 +02:00  INF  Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-10-15 19:14:29.904 +02:00  INF  Executed action IDSoft.CrmWelcome.Api.Controllers.ConnexionController.LoginAsync (Infeco.Api) in 662.8643ms
2023-10-15 19:14:29.905 +02:00  INF  Executed endpoint 'IDSoft.CrmWelcome.Api.Controllers.ConnexionController.LoginAsync (Infeco.Api)'
2023-10-15 19:14:29.906 +02:00  DBG  'InfoEcoDbContext' disposed.
2023-10-15 19:14:29.908 +02:00  DBG  Disposing connection to database 'pmjmvgha' on server ''.
2023-10-15 19:14:29.909 +02:00  DBG  Disposed connection to database 'pmjmvgha' on server '' (1ms).
2023-10-15 19:14:29.909 +02:00  INF  Request finished HTTP/1.1 POST https://localhost:44375/login - 0 - 200 517 application/json;+charset=utf-8 699.2025ms
2023-10-15 19:14:42.618 +02:00  INF  Request starting HTTP/1.1 GET https://localhost:44375/Appartements/11 - -
2023-10-15 19:14:42.618 +02:00  DBG  1 candidate(s) found for the request path '/Appartements/11'
2023-10-15 19:14:42.618 +02:00  DBG  Endpoint 'Infeco.Api.Controllers.AppartementController.ObtenirAppartementParIdAsync (Infeco.Api)' with route pattern 'appartements/{id}' is valid for the request path '/Appartements/11'
2023-10-15 19:14:42.618 +02:00  DBG  Request matched endpoint 'Infeco.Api.Controllers.AppartementController.ObtenirAppartementParIdAsync (Infeco.Api)'
2023-10-15 19:14:42.632 +02:00  DBG  Successfully validated the token.
2023-10-15 19:14:42.636 +02:00  DBG  AuthenticationScheme: Bearer was successfully authenticated.
2023-10-15 19:14:42.637 +02:00  DBG  Authorization was successful.
2023-10-15 19:14:42.638 +02:00  DBG  Static files was skipped as the request already matched an endpoint.
2023-10-15 19:14:42.638 +02:00  INF  Executing endpoint 'Infeco.Api.Controllers.AppartementController.ObtenirAppartementParIdAsync (Infeco.Api)'
2023-10-15 19:14:42.647 +02:00  INF  Route matched with {action = "ObtenirAppartementParId", controller = "Appartement"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Infeco.Api.ViewModel.AppartementViewModel]] ObtenirAppartementParIdAsync(Int32, System.Threading.CancellationToken) on controller Infeco.Api.Controllers.AppartementController (Infeco.Api).
2023-10-15 19:14:42.647 +02:00  DBG  Execution plan of authorization filters (in the following order): ["None"]
2023-10-15 19:14:42.647 +02:00  DBG  Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2023-10-15 19:14:42.647 +02:00  DBG  Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2023-10-15 19:14:42.647 +02:00  DBG  Execution plan of exception filters (in the following order): ["None"]
2023-10-15 19:14:42.647 +02:00  DBG  Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2023-10-15 19:14:42.648 +02:00  DBG  Executing controller factory for controller Infeco.Api.Controllers.AppartementController (Infeco.Api)
2023-10-15 19:14:42.648 +02:00  DBG  Executed controller factory for controller Infeco.Api.Controllers.AppartementController (Infeco.Api)
2023-10-15 19:14:42.650 +02:00  DBG  Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-10-15 19:14:42.652 +02:00  DBG  Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-10-15 19:14:42.653 +02:00  DBG  Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-10-15 19:14:42.653 +02:00  DBG  Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-10-15 19:14:42.653 +02:00  DBG  Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-10-15 19:14:42.655 +02:00  DBG  Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-10-15 19:14:42.655 +02:00  DBG  Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-10-15 19:14:42.656 +02:00  DBG  Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-10-15 19:14:42.656 +02:00  DBG  Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-10-15 19:14:42.656 +02:00  DBG  Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-10-15 19:14:42.677 +02:00  INF  Executing action method Infeco.Api.Controllers.AppartementController.ObtenirAppartementParIdAsync (Infeco.Api) - Validation state: "Valid"
2023-10-15 19:14:42.681 +02:00  INF  Handling ObtenirAppartementParIdQuery
2023-10-15 19:14:42.753 +02:00  DBG  Entity Framework Core 7.0.11 initialized 'InfoEcoDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None
2023-10-15 19:14:44.854 +02:00  DBG  Compiling query expression: 
'DbSet<AppartementEntite>()
    .Include(u => u.AgenceImmobiliere)
    .AsNoTracking()
    .FirstOrDefault(u => u.Id == __id_0)'
2023-10-15 19:14:44.871 +02:00  DBG  Including navigation: 'AppartementEntite.AgenceImmobiliere'.
2023-10-15 19:14:44.953 +02:00  DBG  Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<AppartementEntite>(
    asyncEnumerable: new SingleQueryingEnumerable<AppartementEntite>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: AppartementEntite.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: AppartementEntite.Adresse (string), 1], [Property: AppartementEntite.AgenceImmobiliereId (int) Required FK Index, 2], [Property: AppartementEntite.ComplementAdresse (string), 3], [Property: AppartementEntite.CreeLe (DateTime) Required, 4], [Property: AppartementEntite.DepotDeGarantie (double) Required, 5], [Property: AppartementEntite.Loyer (double) Required, 6], [Property: AppartementEntite.ModifieLe (DateTime?), 7], [Property: AppartementEntite.NombreDeMetre2 (double) Required, 8], [Property: AppartementEntite.PrixDesCharges (double) Required, 9], [Property: AppartementEntite.TypeAppartementId (int?) FK Index, 10], [Property: AppartementEntite.VilleId (int) Required FK Index, 11] }
                1 -> Dictionary<IProperty, int> { [Property: AgenceImmobiliereEntite.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 12], [Property: AgenceImmobiliereEntite.Adresse (string) Required, 13], [Property: AgenceImmobiliereEntite.ComplementAdresse (string), 14], [Property: AgenceImmobiliereEntite.CreeLe (DateTime) Required, 15], [Property: AgenceImmobiliereEntite.FraisAgence (double) Required, 16], [Property: AgenceImmobiliereEntite.ModifieLe (DateTime?), 17], [Property: AgenceImmobiliereEntite.Nom (string) Required MaxLength(255), 18], [Property: AgenceImmobiliereEntite.VilleId (int) Required FK Index, 19] }
            SELECT TOP(1) a.Id, a.Adresse, a.AgenceImmobiliereId, a.ComplementAdresse, a.CreeLe, a.DepotDeGarantie, a.Loyer, a.ModifieLe, a.NombreDeMetre2, a.PrixDesCharges, a.TypeAppartementId, a.VilleId, a0.Id, a0.Adresse, a0.ComplementAdresse, a0.CreeLe, a0.FraisAgence, a0.ModifieLe, a0.Nom, a0.VilleId
            FROM Appartement AS a
            INNER JOIN AgenceImmobiliere AS a0 ON a.AgenceImmobiliereId == a0.Id
            WHERE a.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, AppartementEntite>, 
        Infoeco.infrastructure.InfoEcoDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-10-15 19:14:44.954 +02:00  DBG  Creating DbCommand for 'ExecuteReader'.
2023-10-15 19:14:44.954 +02:00  DBG  Creating DbConnection.
2023-10-15 19:14:44.954 +02:00  DBG  Created DbConnection. (0ms).
2023-10-15 19:14:44.955 +02:00  DBG  Created DbCommand for 'ExecuteReader' (0ms).
2023-10-15 19:14:44.955 +02:00  DBG  Initialized DbCommand for 'ExecuteReader' (0ms).
2023-10-15 19:14:44.955 +02:00  DBG  Opening connection to database 'pmjmvgha' on server ''.
2023-10-15 19:14:44.955 +02:00  DBG  Opened connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:14:44.955 +02:00  DBG  Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."Adresse", a."AgenceImmobiliereId", a."ComplementAdresse", a."CreeLe", a."DepotDeGarantie", a."Loyer", a."ModifieLe", a."NombreDeMetre2", a."PrixDesCharges", a."TypeAppartementId", a."VilleId", a0."Id", a0."Adresse", a0."ComplementAdresse", a0."CreeLe", a0."FraisAgence", a0."ModifieLe", a0."Nom", a0."VilleId"
FROM "Appartement" AS a
INNER JOIN "AgenceImmobiliere" AS a0 ON a."AgenceImmobiliereId" = a0."Id"
WHERE a."Id" = @__id_0
LIMIT 1
2023-10-15 19:14:45.006 +02:00  INF  Executed DbCommand (51ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."Adresse", a."AgenceImmobiliereId", a."ComplementAdresse", a."CreeLe", a."DepotDeGarantie", a."Loyer", a."ModifieLe", a."NombreDeMetre2", a."PrixDesCharges", a."TypeAppartementId", a."VilleId", a0."Id", a0."Adresse", a0."ComplementAdresse", a0."CreeLe", a0."FraisAgence", a0."ModifieLe", a0."Nom", a0."VilleId"
FROM "Appartement" AS a
INNER JOIN "AgenceImmobiliere" AS a0 ON a."AgenceImmobiliereId" = a0."Id"
WHERE a."Id" = @__id_0
LIMIT 1
2023-10-15 19:14:45.011 +02:00  DBG  Closing data reader to 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:14:45.011 +02:00  DBG  A data reader for 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432' is being disposed after spending 5ms reading results.
2023-10-15 19:14:45.012 +02:00  DBG  Closing connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:14:45.012 +02:00  DBG  Closed connection to database 'pmjmvgha' on server '' (0ms).
2023-10-15 19:15:00.523 +02:00  INF  Handled DetailAppartementResponse
2023-10-15 19:15:00.524 +02:00  INF  Information : GET https://localhost:44375/Appartements/11 from '::1:62559' responded 200 in 17841,6356 ms
2023-10-15 19:15:00.525 +02:00  INF  Executed action method Infeco.Api.Controllers.AppartementController.ObtenirAppartementParIdAsync (Infeco.Api), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 17848.0442ms.
2023-10-15 19:15:00.526 +02:00  DBG  List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-10-15 19:15:00.526 +02:00  DBG  No information found on request to perform content negotiation.
2023-10-15 19:15:00.526 +02:00  DBG  Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/json"]'.
2023-10-15 19:15:00.526 +02:00  DBG  Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-10-15 19:15:00.526 +02:00  INF  Executing OkObjectResult, writing value of type 'Infeco.Api.Queries.Appartements.DetailAppartementResponse'.
2023-10-15 19:15:00.547 +02:00  INF  Executed action Infeco.Api.Controllers.AppartementController.ObtenirAppartementParIdAsync (Infeco.Api) in 17899.9967ms
2023-10-15 19:15:00.547 +02:00  INF  Executed endpoint 'Infeco.Api.Controllers.AppartementController.ObtenirAppartementParIdAsync (Infeco.Api)'
2023-10-15 19:15:00.548 +02:00  DBG  'InfoEcoDbContext' disposed.
2023-10-15 19:15:00.548 +02:00  DBG  Disposing connection to database 'pmjmvgha' on server ''.
2023-10-15 19:15:00.548 +02:00  DBG  Disposed connection to database 'pmjmvgha' on server '' (0ms).
2023-10-15 19:15:00.548 +02:00  INF  Request finished HTTP/1.1 GET https://localhost:44375/Appartements/11 - - - 200 358 application/json;+charset=utf-8 17930.1226ms
2023-10-15 19:16:32.430 +02:00  DBG  Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-10-15 19:16:32.668 +02:00  DBG  An 'IServiceProvider' was created for internal use by Entity Framework.
2023-10-15 19:16:33.316 +02:00  DBG  Entity Framework Core 7.0.11 initialized 'InfoEcoDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None
2023-10-15 19:16:33.324 +02:00  DBG  Creating DbConnection.
2023-10-15 19:16:33.364 +02:00  DBG  Created DbConnection. (37ms).
2023-10-15 19:16:33.367 +02:00  DBG  Migrating using database 'pmjmvgha' on server ''.
2023-10-15 19:16:33.382 +02:00  DBG  Opening connection to database 'pmjmvgha' on server ''.
2023-10-15 19:16:33.870 +02:00  DBG  Opened connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:16:33.873 +02:00  DBG  Closing connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:16:33.884 +02:00  DBG  Closed connection to database 'pmjmvgha' on server '' (7ms).
2023-10-15 19:16:33.889 +02:00  DBG  Creating DbCommand for 'ExecuteScalar'.
2023-10-15 19:16:33.894 +02:00  DBG  Created DbCommand for 'ExecuteScalar' (2ms).
2023-10-15 19:16:33.895 +02:00  DBG  Initialized DbCommand for 'ExecuteScalar' (6ms).
2023-10-15 19:16:33.895 +02:00  DBG  Opening connection to database 'pmjmvgha' on server ''.
2023-10-15 19:16:34.243 +02:00  DBG  Opened connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:16:34.251 +02:00  DBG  Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-10-15 19:16:34.337 +02:00  INF  Executed DbCommand (86ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-10-15 19:16:34.338 +02:00  DBG  Closing connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:16:34.341 +02:00  DBG  Closed connection to database 'pmjmvgha' on server '' (2ms).
2023-10-15 19:16:34.343 +02:00  DBG  Opening connection to database 'pmjmvgha' on server ''.
2023-10-15 19:16:34.634 +02:00  DBG  Opened connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:16:34.634 +02:00  DBG  Closing connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:16:34.634 +02:00  DBG  Closed connection to database 'pmjmvgha' on server '' (0ms).
2023-10-15 19:16:34.635 +02:00  DBG  Creating DbCommand for 'ExecuteScalar'.
2023-10-15 19:16:34.635 +02:00  DBG  Created DbCommand for 'ExecuteScalar' (0ms).
2023-10-15 19:16:34.635 +02:00  DBG  Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-10-15 19:16:34.635 +02:00  DBG  Opening connection to database 'pmjmvgha' on server ''.
2023-10-15 19:16:34.636 +02:00  DBG  Opened connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:16:34.636 +02:00  DBG  Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-10-15 19:16:34.681 +02:00  INF  Executed DbCommand (45ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-10-15 19:16:34.681 +02:00  DBG  Closing connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:16:34.681 +02:00  DBG  Closed connection to database 'pmjmvgha' on server '' (0ms).
2023-10-15 19:16:34.696 +02:00  DBG  Creating DbCommand for 'ExecuteReader'.
2023-10-15 19:16:34.696 +02:00  DBG  Created DbCommand for 'ExecuteReader' (0ms).
2023-10-15 19:16:34.696 +02:00  DBG  Initialized DbCommand for 'ExecuteReader' (0ms).
2023-10-15 19:16:34.696 +02:00  DBG  Opening connection to database 'pmjmvgha' on server ''.
2023-10-15 19:16:34.696 +02:00  DBG  Opened connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:16:34.697 +02:00  DBG  Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-10-15 19:16:34.743 +02:00  INF  Executed DbCommand (46ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-10-15 19:16:34.748 +02:00  DBG  Closing data reader to 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:16:34.750 +02:00  DBG  A data reader for 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432' is being disposed after spending 5ms reading results.
2023-10-15 19:16:34.750 +02:00  DBG  Closing connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:16:34.750 +02:00  DBG  Closed connection to database 'pmjmvgha' on server '' (0ms).
2023-10-15 19:16:34.758 +02:00  INF  No migrations were applied. The database is already up to date.
2023-10-15 19:16:34.759 +02:00  DBG  'InfoEcoDbContext' disposed.
2023-10-15 19:16:34.760 +02:00  DBG  Disposing connection to database 'pmjmvgha' on server ''.
2023-10-15 19:16:34.761 +02:00  DBG  Disposed connection to database 'pmjmvgha' on server '' (0ms).
2023-10-15 19:16:34.764 +02:00  DBG  Hosting starting
2023-10-15 19:16:34.791 +02:00  INF  User profile is available. Using 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-10-15 19:16:34.795 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-2ce4c23f-757b-4029-95d3-9c9820e6de80.xml'.
2023-10-15 19:16:34.801 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-6921759b-a9f9-48ea-a379-13505875271d.xml'.
2023-10-15 19:16:34.801 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-7c4081c7-f341-4ce9-ad03-d3ea3cf1c21f.xml'.
2023-10-15 19:16:34.801 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-a038200a-44f7-48da-9d2b-5646ef68d51f.xml'.
2023-10-15 19:16:34.801 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-a642139e-629a-42ab-b89a-38ed4778f2e0.xml'.
2023-10-15 19:16:34.802 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-b1a02c3b-a417-45ff-ac5c-986fca4cdd22.xml'.
2023-10-15 19:16:34.802 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-b5a22f60-a6fe-488b-8048-b8d1034bef7d.xml'.
2023-10-15 19:16:34.802 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-b8996f88-e69f-41d1-b4d3-e7b15b37a5e2.xml'.
2023-10-15 19:16:34.805 +02:00  DBG  Found key {2ce4c23f-757b-4029-95d3-9c9820e6de80}.
2023-10-15 19:16:34.808 +02:00  DBG  Found key {6921759b-a9f9-48ea-a379-13505875271d}.
2023-10-15 19:16:34.808 +02:00  DBG  Found key {7c4081c7-f341-4ce9-ad03-d3ea3cf1c21f}.
2023-10-15 19:16:34.809 +02:00  DBG  Found key {a038200a-44f7-48da-9d2b-5646ef68d51f}.
2023-10-15 19:16:34.809 +02:00  DBG  Found key {a642139e-629a-42ab-b89a-38ed4778f2e0}.
2023-10-15 19:16:34.809 +02:00  DBG  Found key {b1a02c3b-a417-45ff-ac5c-986fca4cdd22}.
2023-10-15 19:16:34.809 +02:00  DBG  Found key {b5a22f60-a6fe-488b-8048-b8d1034bef7d}.
2023-10-15 19:16:34.809 +02:00  DBG  Found key {b8996f88-e69f-41d1-b4d3-e7b15b37a5e2}.
2023-10-15 19:16:34.814 +02:00  DBG  Considering key {6921759b-a9f9-48ea-a379-13505875271d} with expiration date 2023-11-22 12:55:42Z as default key.
2023-10-15 19:16:34.816 +02:00  DBG  Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-10-15 19:16:34.817 +02:00  DBG  Decrypting secret element using Windows DPAPI.
2023-10-15 19:16:34.818 +02:00  DBG  Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-10-15 19:16:34.819 +02:00  DBG  Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-10-15 19:16:34.820 +02:00  DBG  Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-10-15 19:16:34.822 +02:00  DBG  Using key {6921759b-a9f9-48ea-a379-13505875271d} as the default key.
2023-10-15 19:16:34.822 +02:00  DBG  Key ring with default key {6921759b-a9f9-48ea-a379-13505875271d} was loaded during application startup.
2023-10-15 19:16:34.883 +02:00  DBG  Loaded hosting startup assembly Infeco.Api
2023-10-15 19:16:34.883 +02:00  DBG  Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-10-15 19:16:34.883 +02:00  DBG  Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-10-15 19:16:34.889 +02:00  INF  Application started. Press Ctrl+C to shut down.
2023-10-15 19:16:34.889 +02:00  INF  Hosting environment: Development
2023-10-15 19:16:34.889 +02:00  INF  Content root path: C:\Users\fdepret\source\repos\Infeco.api\Infeco.api
2023-10-15 19:16:34.889 +02:00  DBG  Hosting started
2023-10-15 19:16:34.922 +02:00  INF  Request starting HTTP/2 GET https://localhost:44375/index.html - -
2023-10-15 19:16:34.947 +02:00  DBG  Wildcard detected, all requests with hosts will be allowed.
2023-10-15 19:16:34.983 +02:00  DBG  No candidates found for the request path '/index.html'
2023-10-15 19:16:34.984 +02:00  DBG  Request did not match any endpoints
2023-10-15 19:16:35.023 +02:00  DBG  AuthenticationScheme: Bearer was not authenticated.
2023-10-15 19:16:35.138 +02:00  DBG  Response markup is scheduled to include browser refresh script injection.
2023-10-15 19:16:37.273 +02:00  DBG  Response markup was updated to include browser refresh script injection.
2023-10-15 19:16:37.291 +02:00  DBG  Connection ID "18374686519936942094" disconnecting.
2023-10-15 19:16:37.292 +02:00  INF  Request starting HTTP/2 GET https://localhost:44375/_framework/aspnetcore-browser-refresh.js - -
2023-10-15 19:16:37.293 +02:00  INF  Request finished HTTP/2 GET https://localhost:44375/index.html - - - 200 - text/html;charset=utf-8 2371.2041ms
2023-10-15 19:16:37.299 +02:00  DBG  Connection ID "18374686528526876685" disconnecting.
2023-10-15 19:16:37.300 +02:00  INF  Request finished HTTP/2 GET https://localhost:44375/_framework/aspnetcore-browser-refresh.js - - - 200 12352 application/javascript;+charset=utf-8 7.4836ms
2023-10-15 19:16:37.367 +02:00  INF  Request starting HTTP/2 GET https://localhost:44375/swagger/v1/swagger.json - -
2023-10-15 19:16:37.368 +02:00  DBG  No candidates found for the request path '/swagger/v1/swagger.json'
2023-10-15 19:16:37.368 +02:00  DBG  Request did not match any endpoints
2023-10-15 19:16:37.371 +02:00  DBG  AuthenticationScheme: Bearer was not authenticated.
2023-10-15 19:16:37.535 +02:00  DBG  Connection ID "18158513716348321805" disconnecting.
2023-10-15 19:16:37.535 +02:00  INF  Request finished HTTP/2 GET https://localhost:44375/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 168.5565ms
2023-10-15 19:16:40.034 +02:00  INF  Request starting HTTP/1.1 GET https://localhost:44375/Appartements/11 - -
2023-10-15 19:16:40.039 +02:00  DBG  1 candidate(s) found for the request path '/Appartements/11'
2023-10-15 19:16:40.044 +02:00  DBG  Endpoint 'Infeco.Api.Controllers.AppartementController.ObtenirAppartementParIdAsync (Infeco.Api)' with route pattern 'appartements/{id}' is valid for the request path '/Appartements/11'
2023-10-15 19:16:40.045 +02:00  DBG  Request matched endpoint 'Infeco.Api.Controllers.AppartementController.ObtenirAppartementParIdAsync (Infeco.Api)'
2023-10-15 19:16:40.261 +02:00  DBG  Successfully validated the token.
2023-10-15 19:16:40.263 +02:00  DBG  AuthenticationScheme: Bearer was successfully authenticated.
2023-10-15 19:16:40.269 +02:00  DBG  Authorization was successful.
2023-10-15 19:16:40.271 +02:00  DBG  Static files was skipped as the request already matched an endpoint.
2023-10-15 19:16:40.272 +02:00  INF  Executing endpoint 'Infeco.Api.Controllers.AppartementController.ObtenirAppartementParIdAsync (Infeco.Api)'
2023-10-15 19:16:40.297 +02:00  INF  Route matched with {action = "ObtenirAppartementParId", controller = "Appartement"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Infeco.Api.ViewModel.AppartementViewModel]] ObtenirAppartementParIdAsync(Int32, System.Threading.CancellationToken) on controller Infeco.Api.Controllers.AppartementController (Infeco.Api).
2023-10-15 19:16:40.299 +02:00  DBG  Execution plan of authorization filters (in the following order): ["None"]
2023-10-15 19:16:40.299 +02:00  DBG  Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2023-10-15 19:16:40.299 +02:00  DBG  Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2023-10-15 19:16:40.299 +02:00  DBG  Execution plan of exception filters (in the following order): ["None"]
2023-10-15 19:16:40.300 +02:00  DBG  Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2023-10-15 19:16:40.302 +02:00  DBG  Executing controller factory for controller Infeco.Api.Controllers.AppartementController (Infeco.Api)
2023-10-15 19:16:40.303 +02:00  DBG  Executed controller factory for controller Infeco.Api.Controllers.AppartementController (Infeco.Api)
2023-10-15 19:16:40.307 +02:00  DBG  Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-10-15 19:16:40.310 +02:00  DBG  Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-10-15 19:16:40.311 +02:00  DBG  Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-10-15 19:16:40.311 +02:00  DBG  Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-10-15 19:16:40.311 +02:00  DBG  Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-10-15 19:16:40.313 +02:00  DBG  Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-10-15 19:16:40.314 +02:00  DBG  Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-10-15 19:16:40.315 +02:00  DBG  Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-10-15 19:16:40.315 +02:00  DBG  Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-10-15 19:16:40.315 +02:00  DBG  Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-10-15 19:16:40.379 +02:00  INF  Executing action method Infeco.Api.Controllers.AppartementController.ObtenirAppartementParIdAsync (Infeco.Api) - Validation state: "Valid"
2023-10-15 19:16:40.411 +02:00  INF  Handling ObtenirAppartementParIdQuery
2023-10-15 19:16:40.431 +02:00  DBG  Entity Framework Core 7.0.11 initialized 'InfoEcoDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None
2023-10-15 19:16:42.847 +02:00  DBG  Compiling query expression: 
'DbSet<AppartementEntite>()
    .Include(u => u.AgenceImmobiliere)
    .Include(u => u.TypeAppartement)
    .AsNoTracking()
    .FirstOrDefault(u => u.Id == __id_0)'
2023-10-15 19:16:42.921 +02:00  DBG  Including navigation: 'AppartementEntite.AgenceImmobiliere'.
2023-10-15 19:16:42.923 +02:00  DBG  Including navigation: 'AppartementEntite.TypeAppartement'.
2023-10-15 19:16:43.110 +02:00  DBG  Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<AppartementEntite>(
    asyncEnumerable: new SingleQueryingEnumerable<AppartementEntite>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: AppartementEntite.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: AppartementEntite.Adresse (string), 1], [Property: AppartementEntite.AgenceImmobiliereId (int) Required FK Index, 2], [Property: AppartementEntite.ComplementAdresse (string), 3], [Property: AppartementEntite.CreeLe (DateTime) Required, 4], [Property: AppartementEntite.DepotDeGarantie (double) Required, 5], [Property: AppartementEntite.Loyer (double) Required, 6], [Property: AppartementEntite.ModifieLe (DateTime?), 7], [Property: AppartementEntite.NombreDeMetre2 (double) Required, 8], [Property: AppartementEntite.PrixDesCharges (double) Required, 9], [Property: AppartementEntite.TypeAppartementId (int?) FK Index, 10], [Property: AppartementEntite.VilleId (int) Required FK Index, 11] }
                1 -> Dictionary<IProperty, int> { [Property: AgenceImmobiliereEntite.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 12], [Property: AgenceImmobiliereEntite.Adresse (string) Required, 13], [Property: AgenceImmobiliereEntite.ComplementAdresse (string), 14], [Property: AgenceImmobiliereEntite.CreeLe (DateTime) Required, 15], [Property: AgenceImmobiliereEntite.FraisAgence (double) Required, 16], [Property: AgenceImmobiliereEntite.ModifieLe (DateTime?), 17], [Property: AgenceImmobiliereEntite.Nom (string) Required MaxLength(255), 18], [Property: AgenceImmobiliereEntite.VilleId (int) Required FK Index, 19] }
                2 -> Dictionary<IProperty, int> { [Property: TypeAppartementEntite.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 20], [Property: TypeAppartementEntite.Nom (string) Required MaxLength(255), 21] }
            SELECT TOP(1) a.Id, a.Adresse, a.AgenceImmobiliereId, a.ComplementAdresse, a.CreeLe, a.DepotDeGarantie, a.Loyer, a.ModifieLe, a.NombreDeMetre2, a.PrixDesCharges, a.TypeAppartementId, a.VilleId, a0.Id, a0.Adresse, a0.ComplementAdresse, a0.CreeLe, a0.FraisAgence, a0.ModifieLe, a0.Nom, a0.VilleId, t.Id, t.Nom
            FROM Appartement AS a
            INNER JOIN AgenceImmobiliere AS a0 ON a.AgenceImmobiliereId == a0.Id
            LEFT JOIN TypeAppartement AS t ON a.TypeAppartementId == t.Id
            WHERE a.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, AppartementEntite>, 
        Infoeco.infrastructure.InfoEcoDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-10-15 19:16:43.144 +02:00  DBG  Creating DbCommand for 'ExecuteReader'.
2023-10-15 19:16:43.144 +02:00  DBG  Creating DbConnection.
2023-10-15 19:16:43.144 +02:00  DBG  Created DbConnection. (0ms).
2023-10-15 19:16:43.144 +02:00  DBG  Created DbCommand for 'ExecuteReader' (0ms).
2023-10-15 19:16:43.146 +02:00  DBG  Initialized DbCommand for 'ExecuteReader' (2ms).
2023-10-15 19:16:43.148 +02:00  DBG  Opening connection to database 'pmjmvgha' on server ''.
2023-10-15 19:16:43.150 +02:00  DBG  Opened connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:16:43.152 +02:00  DBG  Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."Adresse", a."AgenceImmobiliereId", a."ComplementAdresse", a."CreeLe", a."DepotDeGarantie", a."Loyer", a."ModifieLe", a."NombreDeMetre2", a."PrixDesCharges", a."TypeAppartementId", a."VilleId", a0."Id", a0."Adresse", a0."ComplementAdresse", a0."CreeLe", a0."FraisAgence", a0."ModifieLe", a0."Nom", a0."VilleId", t."Id", t."Nom"
FROM "Appartement" AS a
INNER JOIN "AgenceImmobiliere" AS a0 ON a."AgenceImmobiliereId" = a0."Id"
LEFT JOIN "TypeAppartement" AS t ON a."TypeAppartementId" = t."Id"
WHERE a."Id" = @__id_0
LIMIT 1
2023-10-15 19:16:43.214 +02:00  INF  Executed DbCommand (63ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."Adresse", a."AgenceImmobiliereId", a."ComplementAdresse", a."CreeLe", a."DepotDeGarantie", a."Loyer", a."ModifieLe", a."NombreDeMetre2", a."PrixDesCharges", a."TypeAppartementId", a."VilleId", a0."Id", a0."Adresse", a0."ComplementAdresse", a0."CreeLe", a0."FraisAgence", a0."ModifieLe", a0."Nom", a0."VilleId", t."Id", t."Nom"
FROM "Appartement" AS a
INNER JOIN "AgenceImmobiliere" AS a0 ON a."AgenceImmobiliereId" = a0."Id"
LEFT JOIN "TypeAppartement" AS t ON a."TypeAppartementId" = t."Id"
WHERE a."Id" = @__id_0
LIMIT 1
2023-10-15 19:16:43.234 +02:00  DBG  Closing data reader to 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:16:43.235 +02:00  DBG  A data reader for 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432' is being disposed after spending 20ms reading results.
2023-10-15 19:16:43.237 +02:00  DBG  Closing connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:16:43.238 +02:00  DBG  Closed connection to database 'pmjmvgha' on server '' (0ms).
2023-10-15 19:16:45.842 +02:00  INF  Handled DetailAppartementResponse
2023-10-15 19:16:45.845 +02:00  INF  Information : GET https://localhost:44375/Appartements/11 from '::1:62889' responded 200 in 5431,3032 ms
2023-10-15 19:16:45.850 +02:00  INF  Executed action method Infeco.Api.Controllers.AppartementController.ObtenirAppartementParIdAsync (Infeco.Api), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 5469.042ms.
2023-10-15 19:16:45.855 +02:00  DBG  List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-10-15 19:16:45.856 +02:00  DBG  No information found on request to perform content negotiation.
2023-10-15 19:16:45.856 +02:00  DBG  Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/json"]'.
2023-10-15 19:16:45.858 +02:00  DBG  Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-10-15 19:16:45.858 +02:00  INF  Executing OkObjectResult, writing value of type 'Infeco.Api.Queries.Appartements.DetailAppartementResponse'.
2023-10-15 19:16:45.935 +02:00  INF  Executed action Infeco.Api.Controllers.AppartementController.ObtenirAppartementParIdAsync (Infeco.Api) in 5632.1059ms
2023-10-15 19:16:45.935 +02:00  INF  Executed endpoint 'Infeco.Api.Controllers.AppartementController.ObtenirAppartementParIdAsync (Infeco.Api)'
2023-10-15 19:16:45.936 +02:00  DBG  'InfoEcoDbContext' disposed.
2023-10-15 19:16:45.939 +02:00  DBG  Disposing connection to database 'pmjmvgha' on server ''.
2023-10-15 19:16:45.940 +02:00  DBG  Disposed connection to database 'pmjmvgha' on server '' (1ms).
2023-10-15 19:16:45.940 +02:00  INF  Request finished HTTP/1.1 GET https://localhost:44375/Appartements/11 - - - 200 211 application/json;+charset=utf-8 5906.6286ms
2023-10-15 19:17:24.307 +02:00  DBG  Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-10-15 19:17:24.543 +02:00  DBG  An 'IServiceProvider' was created for internal use by Entity Framework.
2023-10-15 19:17:25.237 +02:00  DBG  Entity Framework Core 7.0.11 initialized 'InfoEcoDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None
2023-10-15 19:17:25.246 +02:00  DBG  Creating DbConnection.
2023-10-15 19:17:25.290 +02:00  DBG  Created DbConnection. (42ms).
2023-10-15 19:17:25.293 +02:00  DBG  Migrating using database 'pmjmvgha' on server ''.
2023-10-15 19:17:25.308 +02:00  DBG  Opening connection to database 'pmjmvgha' on server ''.
2023-10-15 19:17:25.797 +02:00  DBG  Opened connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:17:25.798 +02:00  DBG  Closing connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:17:25.807 +02:00  DBG  Closed connection to database 'pmjmvgha' on server '' (5ms).
2023-10-15 19:17:25.812 +02:00  DBG  Creating DbCommand for 'ExecuteScalar'.
2023-10-15 19:17:25.816 +02:00  DBG  Created DbCommand for 'ExecuteScalar' (2ms).
2023-10-15 19:17:25.817 +02:00  DBG  Initialized DbCommand for 'ExecuteScalar' (6ms).
2023-10-15 19:17:25.817 +02:00  DBG  Opening connection to database 'pmjmvgha' on server ''.
2023-10-15 19:17:26.179 +02:00  DBG  Opened connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:17:26.187 +02:00  DBG  Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-10-15 19:17:26.264 +02:00  INF  Executed DbCommand (77ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-10-15 19:17:26.265 +02:00  DBG  Closing connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:17:26.266 +02:00  DBG  Closed connection to database 'pmjmvgha' on server '' (1ms).
2023-10-15 19:17:26.267 +02:00  DBG  Opening connection to database 'pmjmvgha' on server ''.
2023-10-15 19:17:26.570 +02:00  DBG  Opened connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:17:26.570 +02:00  DBG  Closing connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:17:26.571 +02:00  DBG  Closed connection to database 'pmjmvgha' on server '' (0ms).
2023-10-15 19:17:26.572 +02:00  DBG  Creating DbCommand for 'ExecuteScalar'.
2023-10-15 19:17:26.572 +02:00  DBG  Created DbCommand for 'ExecuteScalar' (0ms).
2023-10-15 19:17:26.573 +02:00  DBG  Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-10-15 19:17:26.573 +02:00  DBG  Opening connection to database 'pmjmvgha' on server ''.
2023-10-15 19:17:26.574 +02:00  DBG  Opened connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:17:26.574 +02:00  DBG  Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-10-15 19:17:26.632 +02:00  INF  Executed DbCommand (57ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-10-15 19:17:26.632 +02:00  DBG  Closing connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:17:26.632 +02:00  DBG  Closed connection to database 'pmjmvgha' on server '' (0ms).
2023-10-15 19:17:26.662 +02:00  DBG  Creating DbCommand for 'ExecuteReader'.
2023-10-15 19:17:26.662 +02:00  DBG  Created DbCommand for 'ExecuteReader' (0ms).
2023-10-15 19:17:26.662 +02:00  DBG  Initialized DbCommand for 'ExecuteReader' (0ms).
2023-10-15 19:17:26.662 +02:00  DBG  Opening connection to database 'pmjmvgha' on server ''.
2023-10-15 19:17:26.662 +02:00  DBG  Opened connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:17:26.663 +02:00  DBG  Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-10-15 19:17:26.712 +02:00  INF  Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-10-15 19:17:26.717 +02:00  DBG  Closing data reader to 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:17:26.720 +02:00  DBG  A data reader for 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432' is being disposed after spending 5ms reading results.
2023-10-15 19:17:26.720 +02:00  DBG  Closing connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:17:26.720 +02:00  DBG  Closed connection to database 'pmjmvgha' on server '' (0ms).
2023-10-15 19:17:26.735 +02:00  INF  No migrations were applied. The database is already up to date.
2023-10-15 19:17:26.736 +02:00  DBG  'InfoEcoDbContext' disposed.
2023-10-15 19:17:26.738 +02:00  DBG  Disposing connection to database 'pmjmvgha' on server ''.
2023-10-15 19:17:26.738 +02:00  DBG  Disposed connection to database 'pmjmvgha' on server '' (0ms).
2023-10-15 19:17:26.742 +02:00  DBG  Hosting starting
2023-10-15 19:17:26.773 +02:00  INF  User profile is available. Using 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-10-15 19:17:26.777 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-2ce4c23f-757b-4029-95d3-9c9820e6de80.xml'.
2023-10-15 19:17:26.784 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-6921759b-a9f9-48ea-a379-13505875271d.xml'.
2023-10-15 19:17:26.784 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-7c4081c7-f341-4ce9-ad03-d3ea3cf1c21f.xml'.
2023-10-15 19:17:26.784 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-a038200a-44f7-48da-9d2b-5646ef68d51f.xml'.
2023-10-15 19:17:26.785 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-a642139e-629a-42ab-b89a-38ed4778f2e0.xml'.
2023-10-15 19:17:26.785 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-b1a02c3b-a417-45ff-ac5c-986fca4cdd22.xml'.
2023-10-15 19:17:26.785 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-b5a22f60-a6fe-488b-8048-b8d1034bef7d.xml'.
2023-10-15 19:17:26.785 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-b8996f88-e69f-41d1-b4d3-e7b15b37a5e2.xml'.
2023-10-15 19:17:26.789 +02:00  DBG  Found key {2ce4c23f-757b-4029-95d3-9c9820e6de80}.
2023-10-15 19:17:26.792 +02:00  DBG  Found key {6921759b-a9f9-48ea-a379-13505875271d}.
2023-10-15 19:17:26.793 +02:00  DBG  Found key {7c4081c7-f341-4ce9-ad03-d3ea3cf1c21f}.
2023-10-15 19:17:26.793 +02:00  DBG  Found key {a038200a-44f7-48da-9d2b-5646ef68d51f}.
2023-10-15 19:17:26.793 +02:00  DBG  Found key {a642139e-629a-42ab-b89a-38ed4778f2e0}.
2023-10-15 19:17:26.793 +02:00  DBG  Found key {b1a02c3b-a417-45ff-ac5c-986fca4cdd22}.
2023-10-15 19:17:26.793 +02:00  DBG  Found key {b5a22f60-a6fe-488b-8048-b8d1034bef7d}.
2023-10-15 19:17:26.793 +02:00  DBG  Found key {b8996f88-e69f-41d1-b4d3-e7b15b37a5e2}.
2023-10-15 19:17:26.799 +02:00  DBG  Considering key {6921759b-a9f9-48ea-a379-13505875271d} with expiration date 2023-11-22 12:55:42Z as default key.
2023-10-15 19:17:26.802 +02:00  DBG  Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-10-15 19:17:26.802 +02:00  DBG  Decrypting secret element using Windows DPAPI.
2023-10-15 19:17:26.804 +02:00  DBG  Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-10-15 19:17:26.806 +02:00  DBG  Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-10-15 19:17:26.807 +02:00  DBG  Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-10-15 19:17:26.810 +02:00  DBG  Using key {6921759b-a9f9-48ea-a379-13505875271d} as the default key.
2023-10-15 19:17:26.810 +02:00  DBG  Key ring with default key {6921759b-a9f9-48ea-a379-13505875271d} was loaded during application startup.
2023-10-15 19:17:26.878 +02:00  DBG  Loaded hosting startup assembly Infeco.Api
2023-10-15 19:17:26.879 +02:00  DBG  Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-10-15 19:17:26.879 +02:00  DBG  Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-10-15 19:17:26.885 +02:00  INF  Application started. Press Ctrl+C to shut down.
2023-10-15 19:17:26.885 +02:00  INF  Hosting environment: Development
2023-10-15 19:17:26.885 +02:00  INF  Content root path: C:\Users\fdepret\source\repos\Infeco.api\Infeco.api
2023-10-15 19:17:26.885 +02:00  DBG  Hosting started
2023-10-15 19:17:26.922 +02:00  INF  Request starting HTTP/2 GET https://localhost:44375/index.html - -
2023-10-15 19:17:26.947 +02:00  DBG  Wildcard detected, all requests with hosts will be allowed.
2023-10-15 19:17:26.980 +02:00  DBG  No candidates found for the request path '/index.html'
2023-10-15 19:17:26.980 +02:00  DBG  Request did not match any endpoints
2023-10-15 19:17:27.020 +02:00  DBG  AuthenticationScheme: Bearer was not authenticated.
2023-10-15 19:17:27.147 +02:00  DBG  Response markup is scheduled to include browser refresh script injection.
2023-10-15 19:17:29.288 +02:00  DBG  Response markup was updated to include browser refresh script injection.
2023-10-15 19:17:29.296 +02:00  DBG  Connection ID "18230571293206380545" disconnecting.
2023-10-15 19:17:29.298 +02:00  INF  Request finished HTTP/2 GET https://localhost:44375/index.html - - - 200 - text/html;charset=utf-8 2378.3338ms
2023-10-15 19:17:29.299 +02:00  INF  Request starting HTTP/2 GET https://localhost:44375/_framework/aspnetcore-browser-refresh.js - -
2023-10-15 19:17:29.311 +02:00  DBG  Connection ID "18374686515641974814" disconnecting.
2023-10-15 19:17:29.311 +02:00  INF  Request finished HTTP/2 GET https://localhost:44375/_framework/aspnetcore-browser-refresh.js - - - 200 12352 application/javascript;+charset=utf-8 4.6840ms
2023-10-15 19:17:29.379 +02:00  INF  Request starting HTTP/2 GET https://localhost:44375/swagger/v1/swagger.json - -
2023-10-15 19:17:29.380 +02:00  DBG  No candidates found for the request path '/swagger/v1/swagger.json'
2023-10-15 19:17:29.380 +02:00  DBG  Request did not match any endpoints
2023-10-15 19:17:29.382 +02:00  DBG  AuthenticationScheme: Bearer was not authenticated.
2023-10-15 19:17:29.542 +02:00  DBG  Connection ID "18230571293206380547" disconnecting.
2023-10-15 19:17:29.543 +02:00  INF  Request finished HTTP/2 GET https://localhost:44375/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 163.9169ms
2023-10-15 19:17:31.969 +02:00  INF  Request starting HTTP/1.1 GET https://localhost:44375/Appartements/11 - -
2023-10-15 19:17:31.972 +02:00  DBG  1 candidate(s) found for the request path '/Appartements/11'
2023-10-15 19:17:31.975 +02:00  DBG  Endpoint 'Infeco.Api.Controllers.AppartementController.ObtenirAppartementParIdAsync (Infeco.Api)' with route pattern 'appartements/{id}' is valid for the request path '/Appartements/11'
2023-10-15 19:17:31.976 +02:00  DBG  Request matched endpoint 'Infeco.Api.Controllers.AppartementController.ObtenirAppartementParIdAsync (Infeco.Api)'
2023-10-15 19:17:32.108 +02:00  DBG  Successfully validated the token.
2023-10-15 19:17:32.111 +02:00  DBG  AuthenticationScheme: Bearer was successfully authenticated.
2023-10-15 19:17:32.119 +02:00  DBG  Authorization was successful.
2023-10-15 19:17:32.121 +02:00  DBG  Static files was skipped as the request already matched an endpoint.
2023-10-15 19:17:32.122 +02:00  INF  Executing endpoint 'Infeco.Api.Controllers.AppartementController.ObtenirAppartementParIdAsync (Infeco.Api)'
2023-10-15 19:17:32.147 +02:00  INF  Route matched with {action = "ObtenirAppartementParId", controller = "Appartement"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Infeco.Api.ViewModel.AppartementViewModel]] ObtenirAppartementParIdAsync(Int32, System.Threading.CancellationToken) on controller Infeco.Api.Controllers.AppartementController (Infeco.Api).
2023-10-15 19:17:32.148 +02:00  DBG  Execution plan of authorization filters (in the following order): ["None"]
2023-10-15 19:17:32.149 +02:00  DBG  Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2023-10-15 19:17:32.149 +02:00  DBG  Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2023-10-15 19:17:32.149 +02:00  DBG  Execution plan of exception filters (in the following order): ["None"]
2023-10-15 19:17:32.149 +02:00  DBG  Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2023-10-15 19:17:32.151 +02:00  DBG  Executing controller factory for controller Infeco.Api.Controllers.AppartementController (Infeco.Api)
2023-10-15 19:17:32.152 +02:00  DBG  Executed controller factory for controller Infeco.Api.Controllers.AppartementController (Infeco.Api)
2023-10-15 19:17:32.156 +02:00  DBG  Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-10-15 19:17:32.158 +02:00  DBG  Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-10-15 19:17:32.158 +02:00  DBG  Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-10-15 19:17:32.159 +02:00  DBG  Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-10-15 19:17:32.159 +02:00  DBG  Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-10-15 19:17:32.161 +02:00  DBG  Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-10-15 19:17:32.162 +02:00  DBG  Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-10-15 19:17:32.162 +02:00  DBG  Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-10-15 19:17:32.162 +02:00  DBG  Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-10-15 19:17:32.163 +02:00  DBG  Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-10-15 19:17:32.216 +02:00  INF  Executing action method Infeco.Api.Controllers.AppartementController.ObtenirAppartementParIdAsync (Infeco.Api) - Validation state: "Valid"
2023-10-15 19:17:32.240 +02:00  INF  Handling ObtenirAppartementParIdQuery
2023-10-15 19:17:32.251 +02:00  DBG  Entity Framework Core 7.0.11 initialized 'InfoEcoDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None
2023-10-15 19:17:34.049 +02:00  DBG  Compiling query expression: 
'DbSet<AppartementEntite>()
    .Include(u => u.Ville)
    .Include(u => u.TypeAppartement)
    .AsNoTracking()
    .FirstOrDefault(u => u.Id == __id_0)'
2023-10-15 19:17:34.105 +02:00  DBG  Including navigation: 'AppartementEntite.Ville'.
2023-10-15 19:17:34.108 +02:00  DBG  Including navigation: 'AppartementEntite.TypeAppartement'.
2023-10-15 19:17:34.288 +02:00  DBG  Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<AppartementEntite>(
    asyncEnumerable: new SingleQueryingEnumerable<AppartementEntite>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: AppartementEntite.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: AppartementEntite.Adresse (string), 1], [Property: AppartementEntite.AgenceImmobiliereId (int) Required FK Index, 2], [Property: AppartementEntite.ComplementAdresse (string), 3], [Property: AppartementEntite.CreeLe (DateTime) Required, 4], [Property: AppartementEntite.DepotDeGarantie (double) Required, 5], [Property: AppartementEntite.Loyer (double) Required, 6], [Property: AppartementEntite.ModifieLe (DateTime?), 7], [Property: AppartementEntite.NombreDeMetre2 (double) Required, 8], [Property: AppartementEntite.PrixDesCharges (double) Required, 9], [Property: AppartementEntite.TypeAppartementId (int?) FK Index, 10], [Property: AppartementEntite.VilleId (int) Required FK Index, 11] }
                1 -> Dictionary<IProperty, int> { [Property: VilleEntite.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 12], [Property: VilleEntite.CodePostal (string) Required, 13], [Property: VilleEntite.CreeLe (DateTime) Required, 14], [Property: VilleEntite.ModifieLe (DateTime?), 15], [Property: VilleEntite.Nom (string) Required MaxLength(255), 16] }
                2 -> Dictionary<IProperty, int> { [Property: TypeAppartementEntite.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 17], [Property: TypeAppartementEntite.Nom (string) Required MaxLength(255), 18] }
            SELECT TOP(1) a.Id, a.Adresse, a.AgenceImmobiliereId, a.ComplementAdresse, a.CreeLe, a.DepotDeGarantie, a.Loyer, a.ModifieLe, a.NombreDeMetre2, a.PrixDesCharges, a.TypeAppartementId, a.VilleId, v.Id, v.CodePostal, v.CreeLe, v.ModifieLe, v.Nom, t.Id, t.Nom
            FROM Appartement AS a
            INNER JOIN Ville AS v ON a.VilleId == v.Id
            LEFT JOIN TypeAppartement AS t ON a.TypeAppartementId == t.Id
            WHERE a.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, AppartementEntite>, 
        Infoeco.infrastructure.InfoEcoDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-10-15 19:17:34.316 +02:00  DBG  Creating DbCommand for 'ExecuteReader'.
2023-10-15 19:17:34.316 +02:00  DBG  Creating DbConnection.
2023-10-15 19:17:34.317 +02:00  DBG  Created DbConnection. (0ms).
2023-10-15 19:17:34.317 +02:00  DBG  Created DbCommand for 'ExecuteReader' (0ms).
2023-10-15 19:17:34.318 +02:00  DBG  Initialized DbCommand for 'ExecuteReader' (2ms).
2023-10-15 19:17:34.321 +02:00  DBG  Opening connection to database 'pmjmvgha' on server ''.
2023-10-15 19:17:34.322 +02:00  DBG  Opened connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:17:34.324 +02:00  DBG  Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."Adresse", a."AgenceImmobiliereId", a."ComplementAdresse", a."CreeLe", a."DepotDeGarantie", a."Loyer", a."ModifieLe", a."NombreDeMetre2", a."PrixDesCharges", a."TypeAppartementId", a."VilleId", v."Id", v."CodePostal", v."CreeLe", v."ModifieLe", v."Nom", t."Id", t."Nom"
FROM "Appartement" AS a
INNER JOIN "Ville" AS v ON a."VilleId" = v."Id"
LEFT JOIN "TypeAppartement" AS t ON a."TypeAppartementId" = t."Id"
WHERE a."Id" = @__id_0
LIMIT 1
2023-10-15 19:17:34.388 +02:00  INF  Executed DbCommand (65ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."Adresse", a."AgenceImmobiliereId", a."ComplementAdresse", a."CreeLe", a."DepotDeGarantie", a."Loyer", a."ModifieLe", a."NombreDeMetre2", a."PrixDesCharges", a."TypeAppartementId", a."VilleId", v."Id", v."CodePostal", v."CreeLe", v."ModifieLe", v."Nom", t."Id", t."Nom"
FROM "Appartement" AS a
INNER JOIN "Ville" AS v ON a."VilleId" = v."Id"
LEFT JOIN "TypeAppartement" AS t ON a."TypeAppartementId" = t."Id"
WHERE a."Id" = @__id_0
LIMIT 1
2023-10-15 19:17:34.399 +02:00  DBG  Closing data reader to 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:17:34.400 +02:00  DBG  A data reader for 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432' is being disposed after spending 11ms reading results.
2023-10-15 19:17:34.402 +02:00  DBG  Closing connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:17:34.402 +02:00  DBG  Closed connection to database 'pmjmvgha' on server '' (0ms).
2023-10-15 19:17:34.411 +02:00  INF  Handled DetailAppartementResponse
2023-10-15 19:17:34.413 +02:00  INF  Information : GET https://localhost:44375/Appartements/11 from '::1:63014' responded 200 in 2171,1725 ms
2023-10-15 19:17:34.419 +02:00  INF  Executed action method Infeco.Api.Controllers.AppartementController.ObtenirAppartementParIdAsync (Infeco.Api), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2200.8226ms.
2023-10-15 19:17:34.424 +02:00  DBG  List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-10-15 19:17:34.426 +02:00  DBG  No information found on request to perform content negotiation.
2023-10-15 19:17:34.426 +02:00  DBG  Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/json"]'.
2023-10-15 19:17:34.427 +02:00  DBG  Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-10-15 19:17:34.428 +02:00  INF  Executing OkObjectResult, writing value of type 'Infeco.Api.Queries.Appartements.DetailAppartementResponse'.
2023-10-15 19:17:34.508 +02:00  INF  Executed action Infeco.Api.Controllers.AppartementController.ObtenirAppartementParIdAsync (Infeco.Api) in 2356.1633ms
2023-10-15 19:17:34.508 +02:00  INF  Executed endpoint 'Infeco.Api.Controllers.AppartementController.ObtenirAppartementParIdAsync (Infeco.Api)'
2023-10-15 19:17:34.510 +02:00  DBG  'InfoEcoDbContext' disposed.
2023-10-15 19:17:34.512 +02:00  DBG  Disposing connection to database 'pmjmvgha' on server ''.
2023-10-15 19:17:34.513 +02:00  DBG  Disposed connection to database 'pmjmvgha' on server '' (0ms).
2023-10-15 19:17:34.514 +02:00  INF  Request finished HTTP/1.1 GET https://localhost:44375/Appartements/11 - - - 200 232 application/json;+charset=utf-8 2545.2674ms
2023-10-15 19:18:35.567 +02:00  DBG  Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-10-15 19:18:35.781 +02:00  DBG  An 'IServiceProvider' was created for internal use by Entity Framework.
2023-10-15 19:18:36.411 +02:00  DBG  Entity Framework Core 7.0.11 initialized 'InfoEcoDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None
2023-10-15 19:18:36.419 +02:00  DBG  Creating DbConnection.
2023-10-15 19:18:36.460 +02:00  DBG  Created DbConnection. (39ms).
2023-10-15 19:18:36.463 +02:00  DBG  Migrating using database 'pmjmvgha' on server ''.
2023-10-15 19:18:36.478 +02:00  DBG  Opening connection to database 'pmjmvgha' on server ''.
2023-10-15 19:18:36.997 +02:00  DBG  Opened connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:18:36.998 +02:00  DBG  Closing connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:18:37.007 +02:00  DBG  Closed connection to database 'pmjmvgha' on server '' (5ms).
2023-10-15 19:18:37.012 +02:00  DBG  Creating DbCommand for 'ExecuteScalar'.
2023-10-15 19:18:37.016 +02:00  DBG  Created DbCommand for 'ExecuteScalar' (2ms).
2023-10-15 19:18:37.018 +02:00  DBG  Initialized DbCommand for 'ExecuteScalar' (6ms).
2023-10-15 19:18:37.018 +02:00  DBG  Opening connection to database 'pmjmvgha' on server ''.
2023-10-15 19:18:37.397 +02:00  DBG  Opened connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:18:37.404 +02:00  DBG  Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-10-15 19:18:37.482 +02:00  INF  Executed DbCommand (78ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-10-15 19:18:37.483 +02:00  DBG  Closing connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:18:37.484 +02:00  DBG  Closed connection to database 'pmjmvgha' on server '' (1ms).
2023-10-15 19:18:37.485 +02:00  DBG  Opening connection to database 'pmjmvgha' on server ''.
2023-10-15 19:18:37.767 +02:00  DBG  Opened connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:18:37.767 +02:00  DBG  Closing connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:18:37.767 +02:00  DBG  Closed connection to database 'pmjmvgha' on server '' (0ms).
2023-10-15 19:18:37.768 +02:00  DBG  Creating DbCommand for 'ExecuteScalar'.
2023-10-15 19:18:37.768 +02:00  DBG  Created DbCommand for 'ExecuteScalar' (0ms).
2023-10-15 19:18:37.768 +02:00  DBG  Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-10-15 19:18:37.768 +02:00  DBG  Opening connection to database 'pmjmvgha' on server ''.
2023-10-15 19:18:37.769 +02:00  DBG  Opened connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:18:37.769 +02:00  DBG  Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-10-15 19:18:37.822 +02:00  INF  Executed DbCommand (54ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-10-15 19:18:37.823 +02:00  DBG  Closing connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:18:37.823 +02:00  DBG  Closed connection to database 'pmjmvgha' on server '' (0ms).
2023-10-15 19:18:37.838 +02:00  DBG  Creating DbCommand for 'ExecuteReader'.
2023-10-15 19:18:37.838 +02:00  DBG  Created DbCommand for 'ExecuteReader' (0ms).
2023-10-15 19:18:37.838 +02:00  DBG  Initialized DbCommand for 'ExecuteReader' (0ms).
2023-10-15 19:18:37.838 +02:00  DBG  Opening connection to database 'pmjmvgha' on server ''.
2023-10-15 19:18:37.838 +02:00  DBG  Opened connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:18:37.839 +02:00  DBG  Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-10-15 19:18:37.889 +02:00  INF  Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-10-15 19:18:37.893 +02:00  DBG  Closing data reader to 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:18:37.894 +02:00  DBG  A data reader for 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432' is being disposed after spending 4ms reading results.
2023-10-15 19:18:37.894 +02:00  DBG  Closing connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:18:37.894 +02:00  DBG  Closed connection to database 'pmjmvgha' on server '' (0ms).
2023-10-15 19:18:37.903 +02:00  INF  No migrations were applied. The database is already up to date.
2023-10-15 19:18:37.905 +02:00  DBG  'InfoEcoDbContext' disposed.
2023-10-15 19:18:37.906 +02:00  DBG  Disposing connection to database 'pmjmvgha' on server ''.
2023-10-15 19:18:37.907 +02:00  DBG  Disposed connection to database 'pmjmvgha' on server '' (0ms).
2023-10-15 19:18:37.912 +02:00  DBG  Hosting starting
2023-10-15 19:18:37.944 +02:00  INF  User profile is available. Using 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-10-15 19:18:37.947 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-2ce4c23f-757b-4029-95d3-9c9820e6de80.xml'.
2023-10-15 19:18:37.953 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-6921759b-a9f9-48ea-a379-13505875271d.xml'.
2023-10-15 19:18:37.954 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-7c4081c7-f341-4ce9-ad03-d3ea3cf1c21f.xml'.
2023-10-15 19:18:37.954 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-a038200a-44f7-48da-9d2b-5646ef68d51f.xml'.
2023-10-15 19:18:37.954 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-a642139e-629a-42ab-b89a-38ed4778f2e0.xml'.
2023-10-15 19:18:37.954 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-b1a02c3b-a417-45ff-ac5c-986fca4cdd22.xml'.
2023-10-15 19:18:37.954 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-b5a22f60-a6fe-488b-8048-b8d1034bef7d.xml'.
2023-10-15 19:18:37.954 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-b8996f88-e69f-41d1-b4d3-e7b15b37a5e2.xml'.
2023-10-15 19:18:37.958 +02:00  DBG  Found key {2ce4c23f-757b-4029-95d3-9c9820e6de80}.
2023-10-15 19:18:37.961 +02:00  DBG  Found key {6921759b-a9f9-48ea-a379-13505875271d}.
2023-10-15 19:18:37.962 +02:00  DBG  Found key {7c4081c7-f341-4ce9-ad03-d3ea3cf1c21f}.
2023-10-15 19:18:37.962 +02:00  DBG  Found key {a038200a-44f7-48da-9d2b-5646ef68d51f}.
2023-10-15 19:18:37.962 +02:00  DBG  Found key {a642139e-629a-42ab-b89a-38ed4778f2e0}.
2023-10-15 19:18:37.962 +02:00  DBG  Found key {b1a02c3b-a417-45ff-ac5c-986fca4cdd22}.
2023-10-15 19:18:37.962 +02:00  DBG  Found key {b5a22f60-a6fe-488b-8048-b8d1034bef7d}.
2023-10-15 19:18:37.962 +02:00  DBG  Found key {b8996f88-e69f-41d1-b4d3-e7b15b37a5e2}.
2023-10-15 19:18:37.967 +02:00  DBG  Considering key {6921759b-a9f9-48ea-a379-13505875271d} with expiration date 2023-11-22 12:55:42Z as default key.
2023-10-15 19:18:37.969 +02:00  DBG  Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-10-15 19:18:37.970 +02:00  DBG  Decrypting secret element using Windows DPAPI.
2023-10-15 19:18:37.971 +02:00  DBG  Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-10-15 19:18:37.973 +02:00  DBG  Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-10-15 19:18:37.974 +02:00  DBG  Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-10-15 19:18:37.975 +02:00  DBG  Using key {6921759b-a9f9-48ea-a379-13505875271d} as the default key.
2023-10-15 19:18:37.976 +02:00  DBG  Key ring with default key {6921759b-a9f9-48ea-a379-13505875271d} was loaded during application startup.
2023-10-15 19:18:38.036 +02:00  DBG  Loaded hosting startup assembly Infeco.Api
2023-10-15 19:18:38.042 +02:00  DBG  Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-10-15 19:18:38.042 +02:00  DBG  Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-10-15 19:18:38.042 +02:00  INF  Application started. Press Ctrl+C to shut down.
2023-10-15 19:18:38.042 +02:00  INF  Hosting environment: Development
2023-10-15 19:18:38.042 +02:00  INF  Content root path: C:\Users\fdepret\source\repos\Infeco.api\Infeco.api
2023-10-15 19:18:38.042 +02:00  DBG  Hosting started
2023-10-15 19:18:38.083 +02:00  INF  Request starting HTTP/2 GET https://localhost:44375/index.html - -
2023-10-15 19:18:38.107 +02:00  DBG  Wildcard detected, all requests with hosts will be allowed.
2023-10-15 19:18:38.138 +02:00  DBG  No candidates found for the request path '/index.html'
2023-10-15 19:18:38.138 +02:00  DBG  Request did not match any endpoints
2023-10-15 19:18:38.173 +02:00  DBG  AuthenticationScheme: Bearer was not authenticated.
2023-10-15 19:18:38.274 +02:00  DBG  Response markup is scheduled to include browser refresh script injection.
2023-10-15 19:18:40.414 +02:00  DBG  Response markup was updated to include browser refresh script injection.
2023-10-15 19:18:40.428 +02:00  DBG  Connection ID "18374686515641974816" disconnecting.
2023-10-15 19:18:40.429 +02:00  INF  Request starting HTTP/2 GET https://localhost:44375/_framework/aspnetcore-browser-refresh.js - -
2023-10-15 19:18:40.430 +02:00  INF  Request finished HTTP/2 GET https://localhost:44375/index.html - - - 200 - text/html;charset=utf-8 2347.9477ms
2023-10-15 19:18:40.435 +02:00  DBG  Connection ID "18230571314681217032" disconnecting.
2023-10-15 19:18:40.435 +02:00  INF  Request finished HTTP/2 GET https://localhost:44375/_framework/aspnetcore-browser-refresh.js - - - 200 12352 application/javascript;+charset=utf-8 6.0314ms
2023-10-15 19:18:40.495 +02:00  INF  Request starting HTTP/2 GET https://localhost:44375/swagger/v1/swagger.json - -
2023-10-15 19:18:40.496 +02:00  DBG  No candidates found for the request path '/swagger/v1/swagger.json'
2023-10-15 19:18:40.496 +02:00  DBG  Request did not match any endpoints
2023-10-15 19:18:40.497 +02:00  DBG  AuthenticationScheme: Bearer was not authenticated.
2023-10-15 19:18:40.669 +02:00  INF  Request finished HTTP/2 GET https://localhost:44375/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 170.7236ms
2023-10-15 19:18:40.669 +02:00  DBG  Connection ID "18158513742118125575" disconnecting.
2023-10-15 19:18:42.742 +02:00  INF  Request starting HTTP/1.1 GET https://localhost:44375/Appartements/11 - -
2023-10-15 19:18:42.745 +02:00  DBG  1 candidate(s) found for the request path '/Appartements/11'
2023-10-15 19:18:42.748 +02:00  DBG  Endpoint 'Infeco.Api.Controllers.AppartementController.ObtenirAppartementParIdAsync (Infeco.Api)' with route pattern 'appartements/{id}' is valid for the request path '/Appartements/11'
2023-10-15 19:18:42.749 +02:00  DBG  Request matched endpoint 'Infeco.Api.Controllers.AppartementController.ObtenirAppartementParIdAsync (Infeco.Api)'
2023-10-15 19:18:42.875 +02:00  DBG  Successfully validated the token.
2023-10-15 19:18:42.876 +02:00  DBG  AuthenticationScheme: Bearer was successfully authenticated.
2023-10-15 19:18:42.883 +02:00  DBG  Authorization was successful.
2023-10-15 19:18:42.885 +02:00  DBG  Static files was skipped as the request already matched an endpoint.
2023-10-15 19:18:42.885 +02:00  INF  Executing endpoint 'Infeco.Api.Controllers.AppartementController.ObtenirAppartementParIdAsync (Infeco.Api)'
2023-10-15 19:18:42.911 +02:00  INF  Route matched with {action = "ObtenirAppartementParId", controller = "Appartement"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Infeco.Api.ViewModel.AppartementViewModel]] ObtenirAppartementParIdAsync(Int32, System.Threading.CancellationToken) on controller Infeco.Api.Controllers.AppartementController (Infeco.Api).
2023-10-15 19:18:42.912 +02:00  DBG  Execution plan of authorization filters (in the following order): ["None"]
2023-10-15 19:18:42.913 +02:00  DBG  Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2023-10-15 19:18:42.913 +02:00  DBG  Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2023-10-15 19:18:42.913 +02:00  DBG  Execution plan of exception filters (in the following order): ["None"]
2023-10-15 19:18:42.913 +02:00  DBG  Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2023-10-15 19:18:42.915 +02:00  DBG  Executing controller factory for controller Infeco.Api.Controllers.AppartementController (Infeco.Api)
2023-10-15 19:18:42.916 +02:00  DBG  Executed controller factory for controller Infeco.Api.Controllers.AppartementController (Infeco.Api)
2023-10-15 19:18:42.920 +02:00  DBG  Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-10-15 19:18:42.922 +02:00  DBG  Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-10-15 19:18:42.923 +02:00  DBG  Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-10-15 19:18:42.923 +02:00  DBG  Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-10-15 19:18:42.923 +02:00  DBG  Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-10-15 19:18:42.926 +02:00  DBG  Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-10-15 19:18:42.927 +02:00  DBG  Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-10-15 19:18:42.927 +02:00  DBG  Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-10-15 19:18:42.927 +02:00  DBG  Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-10-15 19:18:42.928 +02:00  DBG  Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-10-15 19:18:42.981 +02:00  INF  Executing action method Infeco.Api.Controllers.AppartementController.ObtenirAppartementParIdAsync (Infeco.Api) - Validation state: "Valid"
2023-10-15 19:18:43.008 +02:00  INF  Handling ObtenirAppartementParIdQuery
2023-10-15 19:18:43.029 +02:00  DBG  Entity Framework Core 7.0.11 initialized 'InfoEcoDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None
2023-10-15 19:18:45.159 +02:00  DBG  Compiling query expression: 
'DbSet<AppartementEntite>()
    .Include(u => u.Ville)
    .Include(u => u.TypeAppartement)
    .AsNoTracking()
    .FirstOrDefault(u => u.Id == __id_0)'
2023-10-15 19:18:45.211 +02:00  DBG  Including navigation: 'AppartementEntite.Ville'.
2023-10-15 19:18:45.213 +02:00  DBG  Including navigation: 'AppartementEntite.TypeAppartement'.
2023-10-15 19:18:45.403 +02:00  DBG  Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<AppartementEntite>(
    asyncEnumerable: new SingleQueryingEnumerable<AppartementEntite>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: AppartementEntite.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: AppartementEntite.Adresse (string), 1], [Property: AppartementEntite.AgenceImmobiliereId (int) Required FK Index, 2], [Property: AppartementEntite.ComplementAdresse (string), 3], [Property: AppartementEntite.CreeLe (DateTime) Required, 4], [Property: AppartementEntite.DepotDeGarantie (double) Required, 5], [Property: AppartementEntite.Loyer (double) Required, 6], [Property: AppartementEntite.ModifieLe (DateTime?), 7], [Property: AppartementEntite.NombreDeMetre2 (double) Required, 8], [Property: AppartementEntite.PrixDesCharges (double) Required, 9], [Property: AppartementEntite.TypeAppartementId (int?) FK Index, 10], [Property: AppartementEntite.VilleId (int) Required FK Index, 11] }
                1 -> Dictionary<IProperty, int> { [Property: VilleEntite.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 12], [Property: VilleEntite.CodePostal (string) Required, 13], [Property: VilleEntite.CreeLe (DateTime) Required, 14], [Property: VilleEntite.ModifieLe (DateTime?), 15], [Property: VilleEntite.Nom (string) Required MaxLength(255), 16] }
                2 -> Dictionary<IProperty, int> { [Property: TypeAppartementEntite.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 17], [Property: TypeAppartementEntite.Nom (string) Required MaxLength(255), 18] }
            SELECT TOP(1) a.Id, a.Adresse, a.AgenceImmobiliereId, a.ComplementAdresse, a.CreeLe, a.DepotDeGarantie, a.Loyer, a.ModifieLe, a.NombreDeMetre2, a.PrixDesCharges, a.TypeAppartementId, a.VilleId, v.Id, v.CodePostal, v.CreeLe, v.ModifieLe, v.Nom, t.Id, t.Nom
            FROM Appartement AS a
            INNER JOIN Ville AS v ON a.VilleId == v.Id
            LEFT JOIN TypeAppartement AS t ON a.TypeAppartementId == t.Id
            WHERE a.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, AppartementEntite>, 
        Infoeco.infrastructure.InfoEcoDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-10-15 19:18:45.452 +02:00  DBG  Creating DbCommand for 'ExecuteReader'.
2023-10-15 19:18:45.453 +02:00  DBG  Creating DbConnection.
2023-10-15 19:18:45.453 +02:00  DBG  Created DbConnection. (0ms).
2023-10-15 19:18:45.453 +02:00  DBG  Created DbCommand for 'ExecuteReader' (1ms).
2023-10-15 19:18:45.455 +02:00  DBG  Initialized DbCommand for 'ExecuteReader' (3ms).
2023-10-15 19:18:45.458 +02:00  DBG  Opening connection to database 'pmjmvgha' on server ''.
2023-10-15 19:18:45.460 +02:00  DBG  Opened connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:18:45.463 +02:00  DBG  Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."Adresse", a."AgenceImmobiliereId", a."ComplementAdresse", a."CreeLe", a."DepotDeGarantie", a."Loyer", a."ModifieLe", a."NombreDeMetre2", a."PrixDesCharges", a."TypeAppartementId", a."VilleId", v."Id", v."CodePostal", v."CreeLe", v."ModifieLe", v."Nom", t."Id", t."Nom"
FROM "Appartement" AS a
INNER JOIN "Ville" AS v ON a."VilleId" = v."Id"
LEFT JOIN "TypeAppartement" AS t ON a."TypeAppartementId" = t."Id"
WHERE a."Id" = @__id_0
LIMIT 1
2023-10-15 19:18:45.524 +02:00  INF  Executed DbCommand (63ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."Adresse", a."AgenceImmobiliereId", a."ComplementAdresse", a."CreeLe", a."DepotDeGarantie", a."Loyer", a."ModifieLe", a."NombreDeMetre2", a."PrixDesCharges", a."TypeAppartementId", a."VilleId", v."Id", v."CodePostal", v."CreeLe", v."ModifieLe", v."Nom", t."Id", t."Nom"
FROM "Appartement" AS a
INNER JOIN "Ville" AS v ON a."VilleId" = v."Id"
LEFT JOIN "TypeAppartement" AS t ON a."TypeAppartementId" = t."Id"
WHERE a."Id" = @__id_0
LIMIT 1
2023-10-15 19:18:45.537 +02:00  DBG  Closing data reader to 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:18:45.537 +02:00  DBG  A data reader for 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432' is being disposed after spending 13ms reading results.
2023-10-15 19:18:45.540 +02:00  DBG  Closing connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:18:45.540 +02:00  DBG  Closed connection to database 'pmjmvgha' on server '' (0ms).
2023-10-15 19:18:45.550 +02:00  INF  Handled DetailAppartementResponse
2023-10-15 19:18:45.552 +02:00  INF  Information : GET https://localhost:44375/Appartements/11 from '::1:63143' responded 200 in 2541,9319 ms
2023-10-15 19:18:45.558 +02:00  INF  Executed action method Infeco.Api.Controllers.AppartementController.ObtenirAppartementParIdAsync (Infeco.Api), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2574.0959ms.
2023-10-15 19:18:45.562 +02:00  DBG  List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-10-15 19:18:45.564 +02:00  DBG  No information found on request to perform content negotiation.
2023-10-15 19:18:45.564 +02:00  DBG  Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/json"]'.
2023-10-15 19:18:45.565 +02:00  DBG  Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-10-15 19:18:45.566 +02:00  INF  Executing OkObjectResult, writing value of type 'Infeco.Api.Queries.Appartements.DetailAppartementResponse'.
2023-10-15 19:18:45.709 +02:00  INF  Executed action Infeco.Api.Controllers.AppartementController.ObtenirAppartementParIdAsync (Infeco.Api) in 2791.9759ms
2023-10-15 19:18:45.710 +02:00  INF  Executed endpoint 'Infeco.Api.Controllers.AppartementController.ObtenirAppartementParIdAsync (Infeco.Api)'
2023-10-15 19:18:45.712 +02:00  DBG  'InfoEcoDbContext' disposed.
2023-10-15 19:18:45.715 +02:00  DBG  Disposing connection to database 'pmjmvgha' on server ''.
2023-10-15 19:18:45.717 +02:00  DBG  Disposed connection to database 'pmjmvgha' on server '' (1ms).
2023-10-15 19:18:45.717 +02:00  INF  Request finished HTTP/1.1 GET https://localhost:44375/Appartements/11 - - - 200 253 application/json;+charset=utf-8 2975.4362ms
2023-10-15 19:27:52.484 +02:00  DBG  Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-10-15 19:27:52.796 +02:00  DBG  An 'IServiceProvider' was created for internal use by Entity Framework.
2023-10-15 19:27:53.662 +02:00  DBG  Entity Framework Core 7.0.11 initialized 'InfoEcoDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None
2023-10-15 19:27:53.673 +02:00  DBG  Creating DbConnection.
2023-10-15 19:27:53.729 +02:00  DBG  Created DbConnection. (51ms).
2023-10-15 19:27:53.734 +02:00  DBG  Migrating using database 'pmjmvgha' on server ''.
2023-10-15 19:27:53.753 +02:00  DBG  Opening connection to database 'pmjmvgha' on server ''.
2023-10-15 19:27:54.352 +02:00  DBG  Opened connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:27:54.355 +02:00  DBG  Closing connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:27:54.373 +02:00  DBG  Closed connection to database 'pmjmvgha' on server '' (11ms).
2023-10-15 19:27:54.383 +02:00  DBG  Creating DbCommand for 'ExecuteScalar'.
2023-10-15 19:27:54.395 +02:00  DBG  Created DbCommand for 'ExecuteScalar' (6ms).
2023-10-15 19:27:54.398 +02:00  DBG  Initialized DbCommand for 'ExecuteScalar' (17ms).
2023-10-15 19:27:54.399 +02:00  DBG  Opening connection to database 'pmjmvgha' on server ''.
2023-10-15 19:27:54.756 +02:00  DBG  Opened connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:27:54.764 +02:00  DBG  Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-10-15 19:27:54.844 +02:00  INF  Executed DbCommand (82ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-10-15 19:27:54.844 +02:00  DBG  Closing connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:27:54.846 +02:00  DBG  Closed connection to database 'pmjmvgha' on server '' (1ms).
2023-10-15 19:27:54.847 +02:00  DBG  Opening connection to database 'pmjmvgha' on server ''.
2023-10-15 19:27:55.145 +02:00  DBG  Opened connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:27:55.145 +02:00  DBG  Closing connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:27:55.145 +02:00  DBG  Closed connection to database 'pmjmvgha' on server '' (0ms).
2023-10-15 19:27:55.146 +02:00  DBG  Creating DbCommand for 'ExecuteScalar'.
2023-10-15 19:27:55.146 +02:00  DBG  Created DbCommand for 'ExecuteScalar' (0ms).
2023-10-15 19:27:55.146 +02:00  DBG  Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-10-15 19:27:55.146 +02:00  DBG  Opening connection to database 'pmjmvgha' on server ''.
2023-10-15 19:27:55.147 +02:00  DBG  Opened connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:27:55.147 +02:00  DBG  Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-10-15 19:27:55.192 +02:00  INF  Executed DbCommand (46ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-10-15 19:27:55.192 +02:00  DBG  Closing connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:27:55.193 +02:00  DBG  Closed connection to database 'pmjmvgha' on server '' (0ms).
2023-10-15 19:27:55.208 +02:00  DBG  Creating DbCommand for 'ExecuteReader'.
2023-10-15 19:27:55.208 +02:00  DBG  Created DbCommand for 'ExecuteReader' (0ms).
2023-10-15 19:27:55.208 +02:00  DBG  Initialized DbCommand for 'ExecuteReader' (0ms).
2023-10-15 19:27:55.208 +02:00  DBG  Opening connection to database 'pmjmvgha' on server ''.
2023-10-15 19:27:55.208 +02:00  DBG  Opened connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:27:55.209 +02:00  DBG  Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-10-15 19:27:55.254 +02:00  INF  Executed DbCommand (45ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-10-15 19:27:55.258 +02:00  DBG  Closing data reader to 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:27:55.260 +02:00  DBG  A data reader for 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432' is being disposed after spending 4ms reading results.
2023-10-15 19:27:55.260 +02:00  DBG  Closing connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:27:55.260 +02:00  DBG  Closed connection to database 'pmjmvgha' on server '' (0ms).
2023-10-15 19:27:55.269 +02:00  INF  No migrations were applied. The database is already up to date.
2023-10-15 19:27:55.270 +02:00  DBG  'InfoEcoDbContext' disposed.
2023-10-15 19:27:55.271 +02:00  DBG  Disposing connection to database 'pmjmvgha' on server ''.
2023-10-15 19:27:55.272 +02:00  DBG  Disposed connection to database 'pmjmvgha' on server '' (0ms).
2023-10-15 19:27:55.274 +02:00  DBG  Hosting starting
2023-10-15 19:27:55.303 +02:00  INF  User profile is available. Using 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-10-15 19:27:55.307 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-2ce4c23f-757b-4029-95d3-9c9820e6de80.xml'.
2023-10-15 19:27:55.313 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-6921759b-a9f9-48ea-a379-13505875271d.xml'.
2023-10-15 19:27:55.313 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-7c4081c7-f341-4ce9-ad03-d3ea3cf1c21f.xml'.
2023-10-15 19:27:55.313 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-a038200a-44f7-48da-9d2b-5646ef68d51f.xml'.
2023-10-15 19:27:55.313 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-a642139e-629a-42ab-b89a-38ed4778f2e0.xml'.
2023-10-15 19:27:55.314 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-b1a02c3b-a417-45ff-ac5c-986fca4cdd22.xml'.
2023-10-15 19:27:55.314 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-b5a22f60-a6fe-488b-8048-b8d1034bef7d.xml'.
2023-10-15 19:27:55.314 +02:00  DBG  Reading data from file 'C:\Users\fdepret\AppData\Local\ASP.NET\DataProtection-Keys\key-b8996f88-e69f-41d1-b4d3-e7b15b37a5e2.xml'.
2023-10-15 19:27:55.317 +02:00  DBG  Found key {2ce4c23f-757b-4029-95d3-9c9820e6de80}.
2023-10-15 19:27:55.321 +02:00  DBG  Found key {6921759b-a9f9-48ea-a379-13505875271d}.
2023-10-15 19:27:55.322 +02:00  DBG  Found key {7c4081c7-f341-4ce9-ad03-d3ea3cf1c21f}.
2023-10-15 19:27:55.322 +02:00  DBG  Found key {a038200a-44f7-48da-9d2b-5646ef68d51f}.
2023-10-15 19:27:55.322 +02:00  DBG  Found key {a642139e-629a-42ab-b89a-38ed4778f2e0}.
2023-10-15 19:27:55.322 +02:00  DBG  Found key {b1a02c3b-a417-45ff-ac5c-986fca4cdd22}.
2023-10-15 19:27:55.322 +02:00  DBG  Found key {b5a22f60-a6fe-488b-8048-b8d1034bef7d}.
2023-10-15 19:27:55.322 +02:00  DBG  Found key {b8996f88-e69f-41d1-b4d3-e7b15b37a5e2}.
2023-10-15 19:27:55.329 +02:00  DBG  Considering key {6921759b-a9f9-48ea-a379-13505875271d} with expiration date 2023-11-22 12:55:42Z as default key.
2023-10-15 19:27:55.332 +02:00  DBG  Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-10-15 19:27:55.333 +02:00  DBG  Decrypting secret element using Windows DPAPI.
2023-10-15 19:27:55.335 +02:00  DBG  Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-10-15 19:27:55.337 +02:00  DBG  Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-10-15 19:27:55.338 +02:00  DBG  Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-10-15 19:27:55.340 +02:00  DBG  Using key {6921759b-a9f9-48ea-a379-13505875271d} as the default key.
2023-10-15 19:27:55.341 +02:00  DBG  Key ring with default key {6921759b-a9f9-48ea-a379-13505875271d} was loaded during application startup.
2023-10-15 19:27:55.407 +02:00  DBG  Loaded hosting startup assembly Infeco.Api
2023-10-15 19:27:55.412 +02:00  DBG  Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-10-15 19:27:55.412 +02:00  DBG  Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-10-15 19:27:55.413 +02:00  INF  Application started. Press Ctrl+C to shut down.
2023-10-15 19:27:55.413 +02:00  INF  Hosting environment: Development
2023-10-15 19:27:55.413 +02:00  INF  Content root path: C:\Users\fdepret\source\repos\Infeco.api\Infeco.api
2023-10-15 19:27:55.413 +02:00  DBG  Hosting started
2023-10-15 19:27:55.447 +02:00  INF  Request starting HTTP/2 GET https://localhost:44375/index.html - -
2023-10-15 19:27:55.472 +02:00  DBG  Wildcard detected, all requests with hosts will be allowed.
2023-10-15 19:27:55.510 +02:00  DBG  No candidates found for the request path '/index.html'
2023-10-15 19:27:55.511 +02:00  DBG  Request did not match any endpoints
2023-10-15 19:27:55.547 +02:00  DBG  AuthenticationScheme: Bearer was not authenticated.
2023-10-15 19:27:55.643 +02:00  DBG  Response markup is scheduled to include browser refresh script injection.
2023-10-15 19:27:57.788 +02:00  DBG  Response markup was updated to include browser refresh script injection.
2023-10-15 19:27:57.796 +02:00  DBG  Connection ID "18374686511347007502" disconnecting.
2023-10-15 19:27:57.798 +02:00  INF  Request finished HTTP/2 GET https://localhost:44375/index.html - - - 200 - text/html;charset=utf-8 2352.5593ms
2023-10-15 19:27:57.798 +02:00  INF  Request starting HTTP/2 GET https://localhost:44375/_framework/aspnetcore-browser-refresh.js - -
2023-10-15 19:27:57.804 +02:00  DBG  Connection ID "18374686481282236436" disconnecting.
2023-10-15 19:27:57.805 +02:00  INF  Request finished HTTP/2 GET https://localhost:44375/_framework/aspnetcore-browser-refresh.js - - - 200 12352 application/javascript;+charset=utf-8 5.3312ms
2023-10-15 19:27:57.883 +02:00  INF  Request starting HTTP/2 GET https://localhost:44375/swagger/v1/swagger.json - -
2023-10-15 19:27:57.884 +02:00  DBG  No candidates found for the request path '/swagger/v1/swagger.json'
2023-10-15 19:27:57.885 +02:00  DBG  Request did not match any endpoints
2023-10-15 19:27:57.887 +02:00  DBG  AuthenticationScheme: Bearer was not authenticated.
2023-10-15 19:27:58.065 +02:00  DBG  Connection ID "18158513716348321807" disconnecting.
2023-10-15 19:27:58.065 +02:00  INF  Request finished HTTP/2 GET https://localhost:44375/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 181.9836ms
2023-10-15 19:30:06.880 +02:00  INF  Request starting HTTP/1.1 POST https://localhost:44375/login - 0
2023-10-15 19:30:06.884 +02:00  DBG  1 candidate(s) found for the request path '/login'
2023-10-15 19:30:06.886 +02:00  DBG  Endpoint 'IDSoft.CrmWelcome.Api.Controllers.ConnexionController.LoginAsync (Infeco.Api)' with route pattern 'login' is valid for the request path '/login'
2023-10-15 19:30:06.887 +02:00  DBG  Request matched endpoint 'IDSoft.CrmWelcome.Api.Controllers.ConnexionController.LoginAsync (Infeco.Api)'
2023-10-15 19:30:06.890 +02:00  DBG  AuthenticationScheme: Bearer was not authenticated.
2023-10-15 19:30:06.895 +02:00  DBG  Static files was skipped as the request already matched an endpoint.
2023-10-15 19:30:06.896 +02:00  INF  Executing endpoint 'IDSoft.CrmWelcome.Api.Controllers.ConnexionController.LoginAsync (Infeco.Api)'
2023-10-15 19:30:06.923 +02:00  INF  Route matched with {action = "Login", controller = "Connexion"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginAsync(System.Threading.CancellationToken) on controller IDSoft.CrmWelcome.Api.Controllers.ConnexionController (Infeco.Api).
2023-10-15 19:30:06.925 +02:00  DBG  Execution plan of authorization filters (in the following order): ["None"]
2023-10-15 19:30:06.925 +02:00  DBG  Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2023-10-15 19:30:06.925 +02:00  DBG  Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2023-10-15 19:30:06.925 +02:00  DBG  Execution plan of exception filters (in the following order): ["None"]
2023-10-15 19:30:06.926 +02:00  DBG  Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2023-10-15 19:30:06.928 +02:00  DBG  Executing controller factory for controller IDSoft.CrmWelcome.Api.Controllers.ConnexionController (Infeco.Api)
2023-10-15 19:30:06.929 +02:00  DBG  Executed controller factory for controller IDSoft.CrmWelcome.Api.Controllers.ConnexionController (Infeco.Api)
2023-10-15 19:30:06.934 +02:00  DBG  Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-10-15 19:30:06.937 +02:00  DBG  Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-10-15 19:30:06.937 +02:00  DBG  Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-10-15 19:30:06.939 +02:00  DBG  Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-10-15 19:30:06.996 +02:00  INF  Executing action method IDSoft.CrmWelcome.Api.Controllers.ConnexionController.LoginAsync (Infeco.Api) - Validation state: "Valid"
2023-10-15 19:30:07.029 +02:00  INF  Handling ObtenirUtilisateurParIdentifiantEtMotDePasseQuery
2023-10-15 19:30:07.061 +02:00  DBG  Entity Framework Core 7.0.11 initialized 'InfoEcoDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None
2023-10-15 19:30:07.205 +02:00  DBG  Compiling query expression: 
'DbSet<UtilisateurEntite>()
    .FirstOrDefault(u => u.Courriel == __identifiant_0 && u.Passe == __motDePasse_1)'
2023-10-15 19:30:07.372 +02:00  DBG  Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UtilisateurEntite>(
    asyncEnumerable: new SingleQueryingEnumerable<UtilisateurEntite>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UtilisateurEntite.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UtilisateurEntite.AgenceImmobiliereId (int) Required FK Index, 1], [Property: UtilisateurEntite.Courriel (string) Required Index MaxLength(255), 2], [Property: UtilisateurEntite.CreeLe (DateTime) Required, 3], [Property: UtilisateurEntite.EstActif (bool) Required, 4], [Property: UtilisateurEntite.ModifieLe (DateTime?), 5], [Property: UtilisateurEntite.Nom (string) Required MaxLength(255), 6], [Property: UtilisateurEntite.Passe (string) Required MaxLength(255), 7], [Property: UtilisateurEntite.Prenom (string) Required MaxLength(255), 8] }
            SELECT TOP(1) u.Id, u.AgenceImmobiliereId, u.Courriel, u.CreeLe, u.EstActif, u.ModifieLe, u.Nom, u.Passe, u.Prenom
            FROM Utilisateur AS u
            WHERE (u.Courriel == @__identifiant_0) && (u.Passe == @__motDePasse_1)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UtilisateurEntite>, 
        Infoeco.infrastructure.InfoEcoDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-10-15 19:30:07.409 +02:00  DBG  Creating DbCommand for 'ExecuteReader'.
2023-10-15 19:30:07.409 +02:00  DBG  Creating DbConnection.
2023-10-15 19:30:07.409 +02:00  DBG  Created DbConnection. (0ms).
2023-10-15 19:30:07.409 +02:00  DBG  Created DbCommand for 'ExecuteReader' (0ms).
2023-10-15 19:30:07.412 +02:00  DBG  Initialized DbCommand for 'ExecuteReader' (2ms).
2023-10-15 19:30:07.415 +02:00  DBG  Opening connection to database 'pmjmvgha' on server ''.
2023-10-15 19:30:07.417 +02:00  DBG  Opened connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:30:07.420 +02:00  DBG  Executing DbCommand [Parameters=[@__identifiant_0='?', @__motDePasse_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."AgenceImmobiliereId", u."Courriel", u."CreeLe", u."EstActif", u."ModifieLe", u."Nom", u."Passe", u."Prenom"
FROM "Utilisateur" AS u
WHERE u."Courriel" = @__identifiant_0 AND u."Passe" = @__motDePasse_1
LIMIT 1
2023-10-15 19:30:07.478 +02:00  INF  Executed DbCommand (61ms) [Parameters=[@__identifiant_0='?', @__motDePasse_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."AgenceImmobiliereId", u."Courriel", u."CreeLe", u."EstActif", u."ModifieLe", u."Nom", u."Passe", u."Prenom"
FROM "Utilisateur" AS u
WHERE u."Courriel" = @__identifiant_0 AND u."Passe" = @__motDePasse_1
LIMIT 1
2023-10-15 19:30:07.517 +02:00  DBG  Context 'InfoEcoDbContext' started tracking 'UtilisateurEntite' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-15 19:30:07.561 +02:00  DBG  Closing data reader to 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:30:07.561 +02:00  DBG  A data reader for 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432' is being disposed after spending 82ms reading results.
2023-10-15 19:30:07.564 +02:00  DBG  Closing connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:30:07.565 +02:00  DBG  Closed connection to database 'pmjmvgha' on server '' (0ms).
2023-10-15 19:30:07.574 +02:00  INF  Handled DetailUtilisateurResponse
2023-10-15 19:30:07.577 +02:00  INF  Information : POST https://localhost:44375/login from '::1:64556' responded 200 in 545,3809 ms
2023-10-15 19:30:07.703 +02:00  INF  Executed action method IDSoft.CrmWelcome.Api.Controllers.ConnexionController.LoginAsync (Infeco.Api), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 703.5898ms.
2023-10-15 19:30:07.709 +02:00  DBG  List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-10-15 19:30:07.711 +02:00  DBG  No information found on request to perform content negotiation.
2023-10-15 19:30:07.712 +02:00  DBG  Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/json"]'.
2023-10-15 19:30:07.713 +02:00  DBG  Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-10-15 19:30:07.714 +02:00  INF  Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-10-15 19:30:07.796 +02:00  INF  Executed action IDSoft.CrmWelcome.Api.Controllers.ConnexionController.LoginAsync (Infeco.Api) in 867.0521ms
2023-10-15 19:30:07.797 +02:00  INF  Executed endpoint 'IDSoft.CrmWelcome.Api.Controllers.ConnexionController.LoginAsync (Infeco.Api)'
2023-10-15 19:30:07.798 +02:00  DBG  'InfoEcoDbContext' disposed.
2023-10-15 19:30:07.801 +02:00  DBG  Disposing connection to database 'pmjmvgha' on server ''.
2023-10-15 19:30:07.802 +02:00  DBG  Disposed connection to database 'pmjmvgha' on server '' (1ms).
2023-10-15 19:30:07.802 +02:00  INF  Request finished HTTP/1.1 POST https://localhost:44375/login - 0 - 200 517 application/json;+charset=utf-8 922.5189ms
2023-10-15 19:30:31.345 +02:00  INF  Request starting HTTP/1.1 POST https://localhost:44375/locataires application/json 227
2023-10-15 19:30:31.345 +02:00  DBG  1 candidate(s) found for the request path '/locataires'
2023-10-15 19:30:31.345 +02:00  DBG  Endpoint 'Infeco.Api.Controllers.LocataireController.CreerUnLocataireAsync (Infeco.Api)' with route pattern 'Locataires' is valid for the request path '/locataires'
2023-10-15 19:30:31.346 +02:00  DBG  Request matched endpoint 'Infeco.Api.Controllers.LocataireController.CreerUnLocataireAsync (Infeco.Api)'
2023-10-15 19:30:31.384 +02:00  DBG  Successfully validated the token.
2023-10-15 19:30:31.386 +02:00  DBG  AuthenticationScheme: Bearer was successfully authenticated.
2023-10-15 19:30:31.401 +02:00  DBG  Authorization was successful.
2023-10-15 19:30:31.401 +02:00  DBG  Static files was skipped as the request already matched an endpoint.
2023-10-15 19:30:31.401 +02:00  INF  Executing endpoint 'Infeco.Api.Controllers.LocataireController.CreerUnLocataireAsync (Infeco.Api)'
2023-10-15 19:30:31.420 +02:00  INF  Route matched with {action = "CreerUnLocataire", controller = "Locataire"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Infeco.Api.ViewModel.ResponseCreation]] CreerUnLocataireAsync(Infeco.Api.Commands.Locataire.CreerLocataireCommand, System.Threading.CancellationToken) on controller Infeco.Api.Controllers.LocataireController (Infeco.Api).
2023-10-15 19:30:31.420 +02:00  DBG  Execution plan of authorization filters (in the following order): ["None"]
2023-10-15 19:30:31.420 +02:00  DBG  Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2023-10-15 19:30:31.420 +02:00  DBG  Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2023-10-15 19:30:31.420 +02:00  DBG  Execution plan of exception filters (in the following order): ["None"]
2023-10-15 19:30:31.420 +02:00  DBG  Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2023-10-15 19:30:31.420 +02:00  DBG  Executing controller factory for controller Infeco.Api.Controllers.LocataireController (Infeco.Api)
2023-10-15 19:30:31.421 +02:00  DBG  Executed controller factory for controller Infeco.Api.Controllers.LocataireController (Infeco.Api)
2023-10-15 19:30:31.421 +02:00  DBG  Attempting to bind parameter 'command' of type 'Infeco.Api.Commands.Locataire.CreerLocataireCommand' ...
2023-10-15 19:30:31.423 +02:00  DBG  Attempting to bind parameter 'command' of type 'Infeco.Api.Commands.Locataire.CreerLocataireCommand' using the name '' in request data ...
2023-10-15 19:30:31.424 +02:00  DBG  Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-10-15 19:30:31.424 +02:00  DBG  Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-10-15 19:30:31.457 +02:00  DBG  Done attempting to bind parameter 'command' of type 'Infeco.Api.Commands.Locataire.CreerLocataireCommand'.
2023-10-15 19:30:31.457 +02:00  DBG  Done attempting to bind parameter 'command' of type 'Infeco.Api.Commands.Locataire.CreerLocataireCommand'.
2023-10-15 19:30:31.457 +02:00  DBG  Attempting to validate the bound parameter 'command' of type 'Infeco.Api.Commands.Locataire.CreerLocataireCommand' ...
2023-10-15 19:30:31.471 +02:00  DBG  Done attempting to validate the bound parameter 'command' of type 'Infeco.Api.Commands.Locataire.CreerLocataireCommand'.
2023-10-15 19:30:31.471 +02:00  DBG  Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-10-15 19:30:31.471 +02:00  DBG  Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-10-15 19:30:31.471 +02:00  DBG  Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-10-15 19:30:31.471 +02:00  DBG  Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-10-15 19:30:31.487 +02:00  INF  Executing action method Infeco.Api.Controllers.LocataireController.CreerUnLocataireAsync (Infeco.Api) - Validation state: "Valid"
2023-10-15 19:30:31.521 +02:00  INF  Handling CreerLocataireCommand
2023-10-15 19:30:31.566 +02:00  DBG  Entity Framework Core 7.0.11 initialized 'InfoEcoDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.11+c25a0d7b68d66c6ab3849a3b4333964faea6adc9' with options: None
2023-10-15 19:30:42.784 +02:00  DBG  'InfoEcoDbContext' generated a temporary value for the property 'Id.LocataireEntite'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-15 19:30:42.812 +02:00  DBG  Context 'InfoEcoDbContext' started tracking 'LocataireEntite' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-15 19:30:42.816 +02:00  DBG  SaveChanges starting for 'InfoEcoDbContext'.
2023-10-15 19:30:42.818 +02:00  DBG  DetectChanges starting for 'InfoEcoDbContext'.
2023-10-15 19:30:42.826 +02:00  DBG  The unchanged property 'LocataireEntite.CreeLe' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-10-15 19:30:42.834 +02:00  DBG  DetectChanges completed for 'InfoEcoDbContext'.
2023-10-15 19:30:42.894 +02:00  DBG  Creating DbConnection.
2023-10-15 19:30:42.894 +02:00  DBG  Created DbConnection. (0ms).
2023-10-15 19:30:42.894 +02:00  DBG  Opening connection to database 'pmjmvgha' on server ''.
2023-10-15 19:30:42.895 +02:00  DBG  Opened connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:30:42.896 +02:00  DBG  Creating DbCommand for 'ExecuteReader'.
2023-10-15 19:30:42.896 +02:00  DBG  Created DbCommand for 'ExecuteReader' (0ms).
2023-10-15 19:30:42.896 +02:00  DBG  Initialized DbCommand for 'ExecuteReader' (0ms).
2023-10-15 19:30:42.897 +02:00  DBG  Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Locataire" ("CreeLe", "DateNaissance", "IBAN", "Mail", "ModifieLe", "Nom", "Prenom", "Telephone")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "Id";
2023-10-15 19:30:42.947 +02:00  INF  Executed DbCommand (50ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?', @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Locataire" ("CreeLe", "DateNaissance", "IBAN", "Mail", "ModifieLe", "Nom", "Prenom", "Telephone")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "Id";
2023-10-15 19:30:42.955 +02:00  DBG  The foreign key property 'LocataireEntite.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-10-15 19:30:42.958 +02:00  DBG  Closing data reader to 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:30:42.958 +02:00  DBG  A data reader for 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432' is being disposed after spending 11ms reading results.
2023-10-15 19:30:42.959 +02:00  DBG  Closing connection to database 'pmjmvgha' on server 'tcp://snuffleupagus.db.elephantsql.com:5432'.
2023-10-15 19:30:42.959 +02:00  DBG  Closed connection to database 'pmjmvgha' on server '' (0ms).
2023-10-15 19:30:42.968 +02:00  DBG  An entity of type 'LocataireEntite' tracked by 'InfoEcoDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-10-15 19:30:42.970 +02:00  DBG  SaveChanges completed for 'InfoEcoDbContext' with 1 entities written to the database.
2023-10-15 19:30:48.944 +02:00  INF  Handled Unit
2023-10-15 19:30:48.945 +02:00  INF  Information : POST https://localhost:44375/locataires from '::1:64556' responded 200 in 17423,4267 ms
2023-10-15 19:30:48.948 +02:00  INF  Executed action method Infeco.Api.Controllers.LocataireController.CreerUnLocataireAsync (Infeco.Api), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 17460.734ms.
2023-10-15 19:30:48.949 +02:00  DBG  List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2023-10-15 19:30:48.949 +02:00  DBG  No information found on request to perform content negotiation.
2023-10-15 19:30:48.949 +02:00  DBG  Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/json"]'.
2023-10-15 19:30:48.950 +02:00  DBG  Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-10-15 19:30:48.950 +02:00  INF  Executing OkObjectResult, writing value of type 'Infeco.Api.ViewModel.ResponseCreation'.
2023-10-15 19:30:48.952 +02:00  INF  Executed action Infeco.Api.Controllers.LocataireController.CreerUnLocataireAsync (Infeco.Api) in 17532.2489ms
2023-10-15 19:30:48.953 +02:00  INF  Executed endpoint 'Infeco.Api.Controllers.LocataireController.CreerUnLocataireAsync (Infeco.Api)'
2023-10-15 19:30:48.953 +02:00  DBG  'InfoEcoDbContext' disposed.
2023-10-15 19:30:48.953 +02:00  DBG  Disposing connection to database 'pmjmvgha' on server ''.
2023-10-15 19:30:48.953 +02:00  DBG  Disposed connection to database 'pmjmvgha' on server '' (0ms).
2023-10-15 19:30:48.953 +02:00  INF  Request finished HTTP/1.1 POST https://localhost:44375/locataires application/json 227 - 200 8 application/json;+charset=utf-8 17608.2063ms
